"use strict";(self.webpackChunkClientPortal=self.webpackChunkClientPortal||[]).push([[485],{4485:(I,x,l)=>{l.r(x),l.d(x,{default:()=>X});var n=l(6814),f=l(846),e=l(5879);let d=(()=>{class o{static#e=this.\u0275fac=function(r){return new(r||o)};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-main-requests"]],standalone:!0,features:[e.jDz],decls:1,vars:0,template:function(r,i){1&r&&e._UZ(0,"router-outlet")},dependencies:[n.ez,f.lC]})}return o})();var s=l(4414),C=l(8733),g=l(6223),O=l(4286),Z=l(5828),q=l(5862),u=l(9862),v=l(553);let c=(()=>{class o{constructor(t){this.http=t,this.requestsUrl=`${v.N.url}requests`}getRequestList(t){let r=new u.LE;return t&&Object.keys(t).forEach(i=>{r=r.append(i,t[i])}),this.http.get(this.requestsUrl,{params:r})}getRequestById(t){return this.http.get(`${this.requestsUrl}/show?request_id=${t}`)}deleteRequest(t){return this.http.delete(`${this.requestsUrl}/destroy?request_id=${t}`)}addRequest(t,r){let i=new u.LE;r&&Object.keys(r).forEach(h=>{i=i.append(h,r[h])});const p=new FormData;return Object.keys(t).forEach(h=>{const T=t[h];Array.isArray(T)?T.forEach((P,y)=>{P instanceof File&&p.append(`files[documents][${y}]`,P)}):p.append(h,T)}),this.http.post(this.requestsUrl,p,{params:i})}updateRequest(t,r,i){let p=new u.LE;i&&Object.keys(i).forEach(T=>{p=p.append(T,i[T])});const h=new FormData;return Object.keys(r).forEach(T=>{const P=r[T];Array.isArray(P)?P.forEach((y,ee)=>{y instanceof File&&h.append(`files[documents][${ee}]`,y)}):h.append(T,P)}),this.http.post(`${this.requestsUrl}/update?request_id=${t}`,h,{params:p})}static#e=this.\u0275fac=function(r){return new(r||o)(e.LFG(u.eN))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const m=["fileInput"];function a(o,_){1&o&&(e.TgZ(0,"h5"),e._uU(1,"\u0625\u0636\u0627\u0641\u0629 \u0637\u0644\u0628 \u062e\u062f\u0645\u0629"),e.qZA())}function b(o,_){1&o&&(e.TgZ(0,"h5"),e._uU(1,"\u062a\u0639\u062f\u064a\u0644 \u0637\u0644\u0628 \u062e\u062f\u0645\u0629"),e.qZA())}function A(o,_){if(1&o&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&o){const t=_.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.user.name," ")}}function U(o,_){1&o&&(e.TgZ(0,"div",32),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function F(o,_){if(1&o&&(e.TgZ(0,"div",32),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.requestForm.controls.client_id.errors?null:t.requestForm.controls.client_id.errors.serverError[0]," ")}}function E(o,_){if(1&o&&(e.TgZ(0,"div",32),e.YNc(1,U,2,0,"div",19),e.YNc(2,F,2,1,"div",19),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.requestForm.controls.client_id.errors?null:t.requestForm.controls.client_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.requestForm.controls.client_id.errors?null:t.requestForm.controls.client_id.errors.serverError)}}function M(o,_){if(1&o&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&o){const t=_.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function L(o,_){1&o&&(e.TgZ(0,"div",32),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function N(o,_){if(1&o&&(e.TgZ(0,"div",32),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.requestForm.controls.service_id.errors?null:t.requestForm.controls.service_id.errors.serverError[0]," ")}}function J(o,_){if(1&o&&(e.TgZ(0,"div",32),e.YNc(1,L,2,0,"div",19),e.YNc(2,N,2,1,"div",19),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.requestForm.controls.service_id.errors?null:t.requestForm.controls.service_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.requestForm.controls.service_id.errors?null:t.requestForm.controls.service_id.errors.serverError)}}function D(o,_){1&o&&(e.TgZ(0,"div",32),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function w(o,_){if(1&o&&(e.TgZ(0,"div",32),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.requestForm.controls.notes.errors?null:t.requestForm.controls.notes.errors.serverError[0]," ")}}function Q(o,_){if(1&o&&(e.TgZ(0,"div",32),e.YNc(1,D,2,0,"div",19),e.YNc(2,w,2,1,"div",19),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.requestForm.controls.notes.errors?null:t.requestForm.controls.notes.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.requestForm.controls.notes.errors?null:t.requestForm.controls.notes.errors.serverError)}}function Y(o,_){1&o&&(e.TgZ(0,"div",32),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function S(o,_){if(1&o&&(e.TgZ(0,"div",32),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.requestForm.controls.files.errors?null:t.requestForm.controls.files.errors.serverError[0]," ")}}function B(o,_){if(1&o&&(e.TgZ(0,"div",32),e.YNc(1,Y,2,0,"div",19),e.YNc(2,S,2,1,"div",19),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.requestForm.controls.files.errors?null:t.requestForm.controls.files.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.requestForm.controls.files.errors?null:t.requestForm.controls.files.errors.serverError)}}function k(o,_){if(1&o&&(e.ynx(0),e.TgZ(1,"div",33)(2,"button",34),e._UZ(3,"i",35),e._uU(4," \u0625\u0636\u0627\u0641\u0629 \u0637\u0644\u0628 \u062e\u062f\u0645\u0629 "),e.qZA()(),e.BQk()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("disabled",!t.requestForm.valid)}}function z(o,_){if(1&o){const t=e.EpF();e.TgZ(0,"div",33)(1,"button",36),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.updateRequest())}),e._uU(2," \u062a\u0639\u062f\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0637\u0644\u0628 \u062e\u062f\u0645\u0629 "),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("disabled",!t.requestForm.valid)}}const j=function(o){return[o]};let R=(()=>{class o{constructor(t,r,i,p,h,T,P){this.activatedRoute=t,this.localize=r,this._MessagesService=i,this.router=p,this.servicesService=h,this.clientsService=T,this.requestService=P,this.isEditMode=!1,this.request="",this.clients=[],this.services=[],this.file=[],this.selectedFile=[],this.fileError=null,this.requestForm=new g.cw({notes:new g.NI("",g.kI.required),client_id:new g.NI("",g.kI.required),service_id:new g.NI("",g.kI.required),files:new g.NI(null)})}ngOnInit(){this.activatedRoute.paramMap.subscribe(t=>{const r=t.get("id");r&&(this.isEditMode=!0,this.request=r,this.requestService.getRequestById(r).subscribe(i=>{i&&i.data&&this.setFormValues(i.data)}))}),this.getListClients(),this.getListServices()}navigateToRequestList(){const t=this.localize.translateRoute("/dashboard/requests");this.router.navigate([t])}onFileChange(t){const r=t.target.files[0];r&&(this.selectedFile=[r],this.file=[{name:r.name,path:URL.createObjectURL(r),file:r}])}setFormValues(t){console.log(t),this.requestForm.controls.notes.setValue(t.notes),this.requestForm.controls.client_id.setValue(t.client.id),this.requestForm.controls.service_id.setValue(t.service.id)}getListServices(){this.servicesService.getServicesList().subscribe({next:t=>{this.services=t.data},error:t=>{console.log(t)}})}getListClients(){this.clientsService.getClientsList().subscribe({next:t=>{this.clients=t.data},error:t=>{console.log(t)}})}updateRequest(){this.requestForm.valid&&this.requestService.updateRequest(this.request,{notes:this.requestForm.controls.notes.value||"",client_id:this.requestForm.controls.client_id.value||"",service_id:this.requestForm.controls.service_id.value||"",files:this.selectedFile,_method:"PATCH"}).subscribe({next:r=>{this.navigateToRequestList(),this._MessagesService.showSuccessMessage("\u062a\u0645 \u0627\u0644\u062a\u062d\u064a\u062b",3e3)},error:r=>{console.log("Failed to update Service Request:",r)}})}onSubmit(){this.requestForm.valid&&this.requestService.addRequest({notes:this.requestForm.controls.notes.value||"",client_id:this.requestForm.controls.client_id.value||"",service_id:this.requestForm.controls.service_id.value||"",files:this.selectedFile}).subscribe({next:r=>{this.navigateToRequestList(),this._MessagesService.showSuccessMessage("\u062a\u0645 \u0627\u0644\u0625\u0636\u0627\u0641\u0629",3e3)},error:r=>{console.log("Failed to add Service Request:",r)}})}static#e=this.\u0275fac=function(r){return new(r||o)(e.Y36(f.gz),e.Y36(C.An),e.Y36(O.K),e.Y36(f.F0),e.Y36(Z.r),e.Y36(q.a),e.Y36(c))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-addrequest"]],viewQuery:function(r,i){if(1&r&&e.Gf(m,5),2&r){let p;e.iGM(p=e.CRH())&&(i.fileInput=p.first)}},standalone:!0,features:[e.jDz],decls:51,vars:16,consts:[[1,"container-fluid","py-5","px-1"],[1,"row","title-top","mb-3"],[1,"col-12","mb-3"],[1,"fw-bold","fs-2"],[1,"col-sm-6"],[1,"col-sm-6","text-end","back"],[1,"text-decoration-none",3,"routerLink"],[1,"fa-solid","fa-chevron-left","ms-2"],[1,"row","add-row"],[1,"col-12"],[1,"card","rounded-4"],[1,"card-body"],[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"form-group","col-md-6","mb-3"],["for","client_id",1,"form-label"],["name","client_id","id","client_id","formControlName","client_id",1,"form-select","form-select-lg"],[3,"value",4,"ngFor","ngForOf"],["class","ms-error",4,"ngIf"],["for","service_id",1,"form-label"],["name","service_id","id","service_id","formControlName","service_id",1,"form-select","form-select-lg"],["for","notes",1,"form-label"],["type","text","formControlName","notes","name","notes","id","notes","rows","1",1,"form-control","form-control-lg"],["for","files",1,"form-label"],[1,"input-group"],["for","files",1,"input-group-text","justify-content-center"],["type","file","name","files","id","files","formControlName","files",1,"form-control","form-control-lg",3,"change"],["fileInput",""],[4,"ngIf","ngIfElse"],["editButton",""],[3,"value"],[1,"ms-error"],[1,"form-group","col-12","my-3"],[1,"btn","px-5","py-3",3,"disabled"],[1,"fa-solid","fa-circle-plus","me-2"],["type","button",1,"btn","px-5","py-3",3,"disabled","click"]],template:function(r,i){if(1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._uU(4,"\u0637\u0644\u0628 \u062e\u062f\u0645\u0627\u062a"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0628\u064a\u0627\u0646\u0627\u062a \u0637\u0644\u0628 \u062e\u062f\u0645\u0627\u062a"),e.qZA()(),e.TgZ(7,"div",4),e._UZ(8,"app-breadcrumb"),e.qZA(),e.TgZ(9,"div",5)(10,"a",6),e.ALo(11,"localize"),e._uU(12,"\u0631\u062c\u0648\u0639 "),e._UZ(13,"i",7),e.qZA()()(),e.TgZ(14,"div",8)(15,"div",9)(16,"div",10)(17,"div",11),e.YNc(18,a,2,0,"h5",12),e.YNc(19,b,2,0,"h5",12),e.TgZ(20,"form",13),e.NdJ("ngSubmit",function(){return i.onSubmit()}),e.TgZ(21,"div",14)(22,"div",15)(23,"label",16),e._uU(24,"\u0627\u0644\u0639\u0645\u064a\u0644"),e.qZA(),e.TgZ(25,"select",17),e.YNc(26,A,2,2,"option",18),e.qZA(),e.YNc(27,E,3,2,"div",19),e.qZA(),e.TgZ(28,"div",15)(29,"label",20),e._uU(30,"\u0627\u0644\u062e\u062f\u0645\u0629"),e.qZA(),e.TgZ(31,"select",21),e.YNc(32,M,2,2,"option",18),e.qZA(),e.YNc(33,J,3,2,"div",19),e.qZA(),e.TgZ(34,"div",15)(35,"label",22),e._uU(36,"\u0645\u0644\u0627\u062d\u0638\u0627\u062a"),e.qZA(),e._UZ(37,"textarea",23),e.YNc(38,Q,3,2,"div",19),e.qZA(),e.TgZ(39,"div",15)(40,"label",24),e._uU(41,"\u0645\u0644\u0641"),e.qZA(),e.TgZ(42,"div",25)(43,"label",26),e._uU(44," \u0627\u062e\u062a\u0631 \u0627\u0644\u0645\u0644\u0641 \u0645\u0646 \u062c\u0647\u0627\u0632\u0643"),e.qZA(),e.TgZ(45,"input",27,28),e.NdJ("change",function(h){return i.onFileChange(h)}),e.qZA()(),e.YNc(47,B,3,2,"div",19),e.qZA(),e.YNc(48,k,5,1,"ng-container",29),e.YNc(49,z,3,1,"ng-template",null,30,e.W1O),e.qZA()()()()()()()),2&r){const p=e.MAs(50);e.xp6(10),e.Q6J("routerLink",e.VKq(14,j,e.lcZ(11,12,"/dashboard/requests"))),e.xp6(8),e.Q6J("ngIf",!i.isEditMode),e.xp6(1),e.Q6J("ngIf",i.isEditMode),e.xp6(1),e.Q6J("formGroup",i.requestForm),e.xp6(6),e.Q6J("ngForOf",i.clients),e.xp6(1),e.Q6J("ngIf",i.requestForm.controls.client_id.invalid&&(i.requestForm.controls.client_id.dirty||i.requestForm.controls.client_id.touched)),e.xp6(5),e.Q6J("ngForOf",i.services),e.xp6(1),e.Q6J("ngIf",i.requestForm.controls.service_id.invalid&&(i.requestForm.controls.service_id.dirty||i.requestForm.controls.service_id.touched)),e.xp6(5),e.Q6J("ngIf",i.requestForm.controls.notes.invalid&&(i.requestForm.controls.notes.dirty||i.requestForm.controls.notes.touched)),e.xp6(9),e.Q6J("ngIf",i.requestForm.controls.files.invalid&&(i.requestForm.controls.files.dirty||i.requestForm.controls.files.touched)),e.xp6(1),e.Q6J("ngIf",!i.isEditMode)("ngIfElse",p)}},dependencies:[n.ez,n.sg,n.O5,g.u5,g._Y,g.YN,g.Kr,g.Fj,g.EJ,g.JJ,g.JL,s.L,C.fQ,C.lO,g.UX,g.sg,g.u,f.Bz,f.rH]})}return o})();var K=l(1818),$=l(8034),W=l(7700);const G=function(o,_){return[o,_]};function H(o,_){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td")(4,"span"),e._uU(5),e.qZA()(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td",24)(11,"a",25),e.ALo(12,"localize"),e._UZ(13,"i",26),e._uU(14," \u062a\u0639\u062f\u064a\u0644"),e.qZA(),e.TgZ(15,"button",27),e.NdJ("click",function(){const p=e.CHM(t).$implicit,h=e.oxw();return e.KtG(h.deleteRequest(p.id,p.service.name))}),e._UZ(16,"i",28),e._uU(17," \u062d\u0630\u0641 "),e.qZA()()()}if(2&o){const t=_.$implicit,r=_.index;e.xp6(2),e.Oqu(r+1),e.xp6(3),e.Oqu(t.client.name),e.xp6(2),e.hij(" ",t.service.name," "),e.xp6(2),e.Oqu(t.notes),e.xp6(2),e.Q6J("routerLink",e.WLB(7,G,e.lcZ(12,5,"/dashboard/requests/add-request"),t.id))}}function V(o,_){1&o&&(e.TgZ(0,"tr")(1,"td",29),e._uU(2,"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a"),e.qZA()())}const X=[{path:"",component:d,children:[{path:"",component:(()=>{class o{constructor(t,r,i,p){this.dialog=t,this.router=r,this.localize=i,this.requestsServices=p,this.requests=[],this.searchQuery="",this.loading=!0}ngOnInit(){this.getRequestsList()}onPageChange(t){this.getRequestsList(t)}getRequestsList(t=1){this.loading=!0,this.requestsServices.getRequestList({page:t}).subscribe({next:r=>{this.requests=r.data,console.log(r.data),this.currentPage=r.pagination.current_page,this.totalPages=r.pagination.last_page,this.loading=!1},error:r=>{this.loading=!1,console.error("There was an error!",r)}})}deleteRequest(t,r){this.dialog.open($.$,{width:"500px",data:{title:"\u062a\u0623\u0643\u064a\u062f \u0627\u0644\u062d\u0630\u0641",message:`\u0647\u0644 \u062a\u0631\u064a\u062f \u062d\u0630\u0641 ${r}\u061f`}}).afterClosed().subscribe(p=>{p&&this.requestsServices.deleteRequest(t).subscribe({next:h=>{this.getRequestsList()},error:h=>{console.log("there was an error deleting Service:",h)}})})}static#e=this.\u0275fac=function(r){return new(r||o)(e.Y36(W.uw),e.Y36(f.F0),e.Y36(C.An),e.Y36(c))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-requests-list"]],standalone:!0,features:[e.jDz],decls:46,vars:7,consts:[[1,"container-fluid","py-5","px-1"],[1,"row","title-top","mb-3"],[1,"col-12","mb-3"],[1,"fw-bold","fs-2"],[1,"col-12"],[1,"row","list-row"],[1,"card","rounded-4"],[1,"card-body"],[1,"row","align-items-center"],[1,"col-xl-3","col-lg-2","addNew","mb-2"],[1,"btn","w-100","py-3","rounded-4",3,"routerLink"],[1,"fa-solid","fa-circle-plus","me-2"],[1,"col-xl-7","col-lg-7","col-sm-8","searchINP","mb-2"],["type","search","placeholder","\u0627\u0644\u0628\u062d\u062b",1,"form-control","form-control-lg","rounded-3"],[1,"col-xl-2","col-lg-3","col-sm-4","text-center","filterBTN","mb-2"],[1,"btn","px-sm-4","px-5"],[1,"fa-solid","fa-sliders"],[1,"card-body","p-0"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"row"],[3,"currentPage","totalPages","pageChange"],[1,"action","text-center"],[1,"btn","edit",3,"routerLink"],[1,"fa-solid","fa-pen-to-square"],[1,"btn","delete",3,"click"],[1,"fa-regular","fa-trash-can"],["colspan","4",1,"text-center"]],template:function(r,i){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._uU(4,"\u0627\u0644\u062e\u062f\u0645\u0627\u062a"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u062e\u062f\u0645\u0627\u062a"),e.qZA()(),e.TgZ(7,"div",4),e._UZ(8,"app-breadcrumb"),e.qZA()(),e.TgZ(9,"div",5)(10,"div",4)(11,"div",6)(12,"div",7)(13,"div",8)(14,"div",9)(15,"a",10),e.ALo(16,"localize"),e._UZ(17,"i",11),e._uU(18," \u0625\u0636\u0627\u0641\u0629 \u0637\u0644\u0628 \u062c\u062f\u064a\u062f "),e.qZA()(),e.TgZ(19,"div",12),e._UZ(20,"input",13),e.qZA(),e.TgZ(21,"div",14)(22,"button",15),e._UZ(23,"i",16),e._uU(24," \u062a\u0635\u0646\u064a\u0641 "),e.qZA()()()(),e.TgZ(25,"div",17)(26,"div",18)(27,"table",19)(28,"thead")(29,"tr")(30,"th"),e._uU(31,"\u062a\u0631\u0642\u064a\u0645"),e.qZA(),e.TgZ(32,"th"),e._uU(33,"\u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064a\u0644"),e.qZA(),e.TgZ(34,"th"),e._uU(35,"\u0627\u0633\u0645 \u0627\u0644\u062e\u062f\u0645\u0629"),e.qZA(),e.TgZ(36,"th"),e._uU(37,"\u0645\u0644\u0627\u062d\u0638\u0627\u062a"),e.qZA(),e._UZ(38,"th"),e.qZA()(),e.TgZ(39,"tbody"),e.YNc(40,H,18,10,"tr",20),e.YNc(41,V,3,0,"tr",21),e.qZA()()()(),e.TgZ(42,"div",7)(43,"div",22)(44,"div",4)(45,"pagination",23),e.NdJ("pageChange",function(h){return i.onPageChange(h)}),e.qZA()()()()()()()()),2&r&&(e.xp6(15),e.Q6J("routerLink",e.lcZ(16,5,"/dashboard/requests/add-request")),e.xp6(25),e.Q6J("ngForOf",i.requests),e.xp6(1),e.Q6J("ngIf",0===i.requests.length&&!i.loading),e.xp6(4),e.Q6J("currentPage",i.currentPage)("totalPages",i.totalPages))},dependencies:[n.ez,n.sg,n.O5,K.Q,C.fQ,C.lO,f.Bz,f.rH,s.L,g.u5]})}return o})(),data:{breadcrumbs:[{label:"\u0627\u0644\u062e\u062f\u0645\u0627\u062a \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0629",url:"/dashboard/requests"}]}},{path:":slug",component:R,data:{breadcrumbs:[{label:"\u0625\u0636\u0627\u0641\u0629 \u062e\u062f\u0645\u0629",url:"/dashboard/requests/add-request"}]}},{path:"add-request/:id",component:R,data:{breadcrumbs:[{label:"\u062a\u0639\u062f\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u062e\u062f\u0645\u0629",url:"/dashboard/requests/add-request"}]}}]}]},8034:(I,x,l)=>{l.d(x,{$:()=>C});var n=l(6814),f=l(7700),e=l(2296),d=l(5879),s=l(4286);let C=(()=>{class g{constructor(Z,q,u){this.dialogRef=Z,this.data=q,this._MessagesService=u}onConfirmClick(){this.dialogRef.close(!0)}onCancelClick(){this.dialogRef.close(!1)}static#e=this.\u0275fac=function(q){return new(q||g)(d.Y36(f.so),d.Y36(f.WI),d.Y36(s.K))};static#t=this.\u0275cmp=d.Xpm({type:g,selectors:[["app-confirm-dialog"]],standalone:!0,features:[d.jDz],decls:10,vars:2,consts:[[1,"text-center"],["mat-dialog-title","",1,"text-center"],[1,"m-auto"],["mat-button","",3,"click"],["mat-button","","olor","primary",2,"color","red",3,"click"]],template:function(q,u){1&q&&(d.TgZ(0,"div",0)(1,"h2",1),d._uU(2),d.qZA(),d.TgZ(3,"mat-dialog-content"),d._uU(4),d.qZA(),d.TgZ(5,"mat-dialog-actions",2)(6,"button",3),d.NdJ("click",function(){return u.onCancelClick()}),d._uU(7,"\u0627\u0644\u063a\u0627\u0621"),d.qZA(),d.TgZ(8,"button",4),d.NdJ("click",function(){return u.onConfirmClick()}),d._uU(9," \u062a\u0627\u0643\u064a\u062f "),d.qZA()()()),2&q&&(d.xp6(2),d.Oqu(u.data.title),d.xp6(2),d.Oqu(u.data.message))},dependencies:[n.ez,f.Is,f.uh,f.xY,f.H8,e.ot,e.lW],styles:["mat-dialog-content[_ngcontent-%COMP%]{font-size:16px;margin-bottom:20px}mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:center}mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}"]})}return g})()},4414:(I,x,l)=>{l.d(x,{L:()=>q});var n=l(6814),f=l(846),e=l(8733),d=l(2181),s=l(5879);function C(u,v){1&u&&(s.TgZ(0,"li",6),s._uU(1,"/"),s.qZA())}function g(u,v){if(1&u&&(s.ynx(0),s.TgZ(1,"li",4)(2,"a",5),s.ALo(3,"localize"),s._uU(4),s.qZA()(),s.YNc(5,C,2,0,"li",3),s.BQk()),2&u){const c=v.$implicit,m=v.index,a=s.oxw().$implicit;s.xp6(2),s.Q6J("routerLink",s.lcZ(3,3,c.url)),s.xp6(2),s.Oqu(c.label),s.xp6(1),s.Q6J("ngIf",m<a.segments.length-1)}}function O(u,v){1&u&&(s.TgZ(0,"li",6),s._uU(1,"/"),s.qZA())}function Z(u,v){if(1&u&&(s.ynx(0),s.YNc(1,g,6,5,"ng-container",2),s.YNc(2,O,2,0,"li",3),s.BQk()),2&u){const c=v.$implicit,m=v.index,a=s.oxw();s.xp6(1),s.Q6J("ngForOf",c.segments),s.xp6(1),s.Q6J("ngIf",m<a.breadcrumbs.length-1)}}let q=(()=>{class u{constructor(c,m){this.router=c,this.activatedRoute=m,this.breadcrumbs=[]}ngOnInit(){this.routerSubscription=this.router.events.pipe((0,d.h)(c=>c instanceof f.m2)).subscribe(()=>{this.breadcrumbs=this.createBreadcrumbs(this.activatedRoute.root)}),this.breadcrumbs=this.createBreadcrumbs(this.activatedRoute.root)}createBreadcrumbs(c,m="",a=[]){let b=[],A=c;for(;A.firstChild;){A=A.firstChild;const U=A.snapshot.url.map(E=>E.path).join("/");""!==U&&(m+=`/${U}`);const F=A.snapshot.data.breadcrumbs;if(F&&F!=b&&Array.isArray(F)&&""!==U){b=F;const E=F.map(M=>({label:M.label,url:M.url||m}));a.push({segments:E})}}return a}ngOnDestroy(){}static#e=this.\u0275fac=function(m){return new(m||u)(s.Y36(f.F0),s.Y36(f.gz))};static#t=this.\u0275cmp=s.Xpm({type:u,selectors:[["app-breadcrumb"]],standalone:!0,features:[s.jDz],decls:3,vars:1,consts:[["aria-label","breadcrumb"],[1,"breadcrumb","mb-0"],[4,"ngFor","ngForOf"],["class","separator",4,"ngIf"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"separator"]],template:function(m,a){1&m&&(s.TgZ(0,"nav",0)(1,"ol",1),s.YNc(2,Z,3,2,"ng-container",2),s.qZA()()),2&m&&(s.xp6(2),s.Q6J("ngForOf",a.breadcrumbs))},dependencies:[n.ez,n.sg,n.O5,f.Bz,f.rH,e.fQ,e.lO],styles:['.ec-breadcrumb[_ngcontent-%COMP%]{padding:15px 0;margin-bottom:50px;background-color:#f7f7f7;border-top:1px solid #eeeeee;border-bottom:1px solid #eeeeee}.ec-breadcrumb[_ngcontent-%COMP%]   .ec-breadcrumb-title[_ngcontent-%COMP%]{text-decoration:none;color:#444;display:block;font-size:15px;font-family:Montserrat;line-height:22px;font-weight:700;margin:0 auto;text-transform:capitalize}.ec-breadcrumb-list[_ngcontent-%COMP%]{text-align:right}.ec-breadcrumb-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;font-size:14px;font-weight:300;letter-spacing:.02rem;line-height:1.2;text-transform:capitalize}.ec-breadcrumb-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative;color:#444}.ec-breadcrumb-list[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{color:#3474d4}.ec-breadcrumb-list[_ngcontent-%COMP%]   .ec-breadcrumb-item.active[_ngcontent-%COMP%]:before{color:#3474d4}.ec-breadcrumb-item[_ngcontent-%COMP%]{display:flex}.ec-breadcrumb-item[_ngcontent-%COMP%] + .ec-breadcrumb-item[_ngcontent-%COMP%]{padding-left:7px}.ec-breadcrumb-item[_ngcontent-%COMP%] + .ec-breadcrumb-item[_ngcontent-%COMP%]:before{display:inline-block;padding-right:7px;color:#444;content:"\\f101";font-family:EcIcons;font-size:15px}a[_ngcontent-%COMP%]{color:#fff;text-decoration:none}.separator[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--dark-one)}']})}return u})()},1818:(I,x,l)=>{l.d(x,{Q:()=>q});var n=l(5879),f=l(6223),e=l(6814);function d(u,v){if(1&u){const c=n.EpF();n.TgZ(0,"li",2)(1,"a",8),n.NdJ("click",function(){n.CHM(c);const a=n.oxw();return n.KtG(a.navigateTo(1))}),n._uU(2,"1"),n.qZA()()}}function s(u,v){1&u&&(n.TgZ(0,"li",2)(1,"a",9),n._uU(2,"..."),n.qZA()())}function C(u,v){if(1&u){const c=n.EpF();n.TgZ(0,"li",2)(1,"a",8),n.NdJ("click",function(){const b=n.CHM(c).$implicit,A=n.oxw();return n.KtG(A.navigateTo(b))}),n._uU(2),n.qZA()()}if(2&u){const c=v.$implicit,m=n.oxw();n.ekj("active",m.currentPage===c),n.xp6(2),n.Oqu(c)}}function g(u,v){1&u&&(n.TgZ(0,"li",2)(1,"a",9),n._uU(2,"..."),n.qZA()())}function O(u,v){if(1&u){const c=n.EpF();n.TgZ(0,"li",2)(1,"a",8),n.NdJ("click",function(){n.CHM(c);const a=n.oxw();return n.KtG(a.navigateTo(a.totalPages))}),n._uU(2),n.qZA()()}if(2&u){const c=n.oxw();n.xp6(2),n.Oqu(c.totalPages)}}const Z={provide:f.JU,useExisting:(0,n.Gpc)(()=>q),multi:!0};let q=(()=>{class u{constructor(){this.pageChange=new n.vpe}navigateTo(c){this.pageChange.emit(c),this.scrollToTop()}ngOnInit(){}scrollToTop(){window.scroll({top:0,left:0,behavior:"smooth"})}calculatePages(){const c=[];if(this.totalPages<=5)for(let a=1;a<=this.totalPages;a++)c.push(a);else{let a,b;this.currentPage<=Math.floor(2.5)?(a=1,b=5):this.currentPage+Math.floor(2.5)>=this.totalPages?(a=this.totalPages-5+1,b=this.totalPages):(a=this.currentPage-Math.floor(2.5),b=this.currentPage+Math.floor(2.5));for(let A=a;A<=b;A++)c.push(A)}return c}static#e=this.\u0275fac=function(m){return new(m||u)};static#t=this.\u0275cmp=n.Xpm({type:u,selectors:[["pagination"]],inputs:{currentPage:"currentPage",totalPages:"totalPages"},outputs:{pageChange:"pageChange"},standalone:!0,features:[n._Bn([Z]),n.jDz],decls:15,vars:9,consts:[["aria-label","Page navigation"],[1,"pagination","justify-content-center"],[1,"page-item","mx-2"],["aria-label","Previous",1,"page-link",3,"click"],["aria-hidden","true"],["class","page-item mx-2",4,"ngIf"],["class","page-item mx-2",3,"active",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],[1,"page-link",3,"click"],[1,"page-link"]],template:function(m,a){1&m&&(n.TgZ(0,"nav",0)(1,"ul",1)(2,"li",2)(3,"a",3),n.NdJ("click",function(){return a.navigateTo(a.currentPage-1)}),n.TgZ(4,"span",4),n._uU(5,"\xab"),n.qZA()()(),n.YNc(6,d,3,0,"li",5),n.YNc(7,s,3,0,"li",5),n.YNc(8,C,3,3,"li",6),n.YNc(9,g,3,0,"li",5),n.YNc(10,O,3,1,"li",5),n.TgZ(11,"li",2)(12,"a",7),n.NdJ("click",function(){return a.navigateTo(a.currentPage+1)}),n.TgZ(13,"span",4),n._uU(14,"\xbb"),n.qZA()()()()()),2&m&&(n.xp6(2),n.ekj("disabled",1===a.currentPage),n.xp6(4),n.Q6J("ngIf",a.currentPage>3),n.xp6(1),n.Q6J("ngIf",a.currentPage>4),n.xp6(1),n.Q6J("ngForOf",a.calculatePages()),n.xp6(1),n.Q6J("ngIf",a.currentPage<a.totalPages-3),n.xp6(1),n.Q6J("ngIf",a.currentPage<a.totalPages-2),n.xp6(1),n.ekj("disabled",a.currentPage===a.totalPages))},dependencies:[e.ez,e.sg,e.O5],styles:[".pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]{cursor:pointer}"]})}return u})()}}]);