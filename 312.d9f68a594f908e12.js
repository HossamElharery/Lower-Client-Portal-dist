"use strict";(self.webpackChunkClientPortal=self.webpackChunkClientPortal||[]).push([[312],{312:(E,C,d)=>{d.r(C),d.d(C,{default:()=>me});var o=d(6814),h=d(846),e=d(5879);let y=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-main-action-service"]],standalone:!0,features:[e.jDz],decls:1,vars:0,template:function(n,r){1&n&&e._UZ(0,"router-outlet")},dependencies:[o.ez,h.lC]})}return i})();var S=d(4414),x=d(8733),c=d(6223),m=d(3222),f=d(9862),Z=d(553);let u=(()=>{class i{constructor(t){this.http=t,this.actionServicesUrl=`${Z.N.url}action-services`,this.allActionServicesUrl=`${Z.N.url}action-services/get/all`}getActionServicesList(t){let n=new f.LE;return t&&Object.keys(t).forEach(r=>{n=n.append(r,t[r])}),this.http.get(this.actionServicesUrl,{params:n})}getAllActionServiceList(){return this.http.get(`${this.allActionServicesUrl}`)}getActionServiceById(t){return this.http.get(`${this.actionServicesUrl}/show?action_service_id=${t}`)}deleteActionService(t){return this.http.delete(`${this.actionServicesUrl}/destroy?action_service_id=${t}`)}addActionService(t,n){let r=new f.LE;n&&Object.keys(n).forEach(p=>{r=r.append(p,n[p])});const v=new FormData;return Object.keys(t).forEach(p=>{const T=t[p];Array.isArray(T)?T.forEach((F,U)=>{F instanceof File&&v.append(`files[documents][${U}]`,F)}):v.append(p,T)}),this.http.post(this.actionServicesUrl,v,{params:r})}updateActionService(t,n,r){let v=new f.LE;r&&Object.keys(r).forEach(T=>{v=v.append(T,r[T])});const p=new FormData;return Object.keys(n).forEach(T=>{const F=n[T];Array.isArray(F)?F.forEach((U,_e)=>{U instanceof File&&p.append(`files[documents][${_e}]`,U)}):p.append(T,F)}),this.http.post(`${this.actionServicesUrl}/update?action_service_id=${t}`,p,{params:v})}static#e=this.\u0275fac=function(n){return new(n||i)(e.LFG(f.eN))};static#t=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var _=d(5465),l=d(5123),g=d(4286);const a=["fileInput"];function A(i,s){1&i&&(e.TgZ(0,"h5"),e._uU(1,"\u0625\u0636\u0627\u0641\u0629 \u062e\u062f\u0645\u0629"),e.qZA())}function b(i,s){1&i&&(e.TgZ(0,"h5"),e._uU(1,"\u062a\u0639\u062f\u064a\u0644 \u062e\u062f\u0645\u0629"),e.qZA())}function I(i,s){1&i&&(e.TgZ(0,"div",36),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function N(i,s){if(1&i&&(e.TgZ(0,"div",36),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.actionServiceForm.controls.title.errors?null:t.actionServiceForm.controls.title.errors.serverError[0]," ")}}function L(i,s){if(1&i&&(e.TgZ(0,"div",36),e.YNc(1,I,2,0,"div",18),e.YNc(2,N,2,1,"div",18),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.actionServiceForm.controls.title.errors?null:t.actionServiceForm.controls.title.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.actionServiceForm.controls.title.errors?null:t.actionServiceForm.controls.title.errors.serverError)}}function J(i,s){1&i&&(e.TgZ(0,"div",36),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Q(i,s){if(1&i&&(e.TgZ(0,"div",36),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.actionServiceForm.controls.description.errors?null:t.actionServiceForm.controls.description.errors.serverError[0]," ")}}function O(i,s){if(1&i&&(e.TgZ(0,"div",36),e.YNc(1,J,2,0,"div",18),e.YNc(2,Q,2,1,"div",18),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.actionServiceForm.controls.description.errors?null:t.actionServiceForm.controls.description.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.actionServiceForm.controls.description.errors?null:t.actionServiceForm.controls.description.errors.serverError)}}function Y(i,s){if(1&i&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.s9C("value",t.id),e.xp6(1),e.hij(" ",t.code," ")}}function M(i,s){1&i&&(e.TgZ(0,"div",36),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function k(i,s){if(1&i&&(e.TgZ(0,"div",36),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.actionServiceForm.controls.client_service_id.errors?null:t.actionServiceForm.controls.client_service_id.errors.serverError[0]," ")}}function D(i,s){if(1&i&&(e.TgZ(0,"div",36),e.YNc(1,M,2,0,"div",18),e.YNc(2,k,2,1,"div",18),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.actionServiceForm.controls.client_service_id.errors?null:t.actionServiceForm.controls.client_service_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.actionServiceForm.controls.client_service_id.errors?null:t.actionServiceForm.controls.client_service_id.errors.serverError)}}function $(i,s){if(1&i&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.s9C("value",t.id),e.xp6(1),e.hij(" ",t.code," ")}}function j(i,s){1&i&&(e.TgZ(0,"div",36),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function z(i,s){if(1&i&&(e.TgZ(0,"div",36),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.actionServiceForm.controls.employee_id.errors?null:t.actionServiceForm.controls.employee_id.errors.serverError[0]," ")}}function B(i,s){if(1&i&&(e.TgZ(0,"div",36),e.YNc(1,j,2,0,"div",18),e.YNc(2,z,2,1,"div",18),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.actionServiceForm.controls.employee_id.errors?null:t.actionServiceForm.controls.employee_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.actionServiceForm.controls.employee_id.errors?null:t.actionServiceForm.controls.employee_id.errors.serverError)}}function H(i,s){1&i&&(e.TgZ(0,"div",36),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function V(i,s){if(1&i&&(e.TgZ(0,"div",36),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.actionServiceForm.controls.date.errors?null:t.actionServiceForm.controls.date.errors.serverError[0]," ")}}function G(i,s){if(1&i&&(e.TgZ(0,"div",36),e.YNc(1,H,2,0,"div",18),e.YNc(2,V,2,1,"div",18),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.actionServiceForm.controls.date.errors?null:t.actionServiceForm.controls.date.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.actionServiceForm.controls.date.errors?null:t.actionServiceForm.controls.date.errors.serverError)}}function R(i,s){if(1&i&&(e.TgZ(0,"div",32),e._UZ(1,"input",39),e.TgZ(2,"a",40),e._uU(3,"\u0639\u0631\u0636 \u0627\u0644\u0645\u0644\u0641"),e.qZA()()),2&i){const t=s.$implicit;e.xp6(1),e.Q6J("value",t.original),e.xp6(1),e.Q6J("href",t.original,e.LSH)}}function K(i,s){if(1&i&&(e.ynx(0),e.YNc(1,R,4,2,"div",38),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.conversionUrls)}}function W(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",41)(2,"button",42),e._UZ(3,"i",43),e._uU(4," \u0625\u0636\u0627\u0641\u0629 \u062e\u062f\u0645\u0629 "),e.qZA()(),e.BQk()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("disabled",!t.actionServiceForm.valid)}}function X(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",41)(1,"button",44),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.updateActionService())}),e._uU(2," \u062a\u0639\u062f\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u062e\u062f\u0645\u0629 "),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("disabled",!t.actionServiceForm.valid)}}const ee=function(i){return[i]};let q=(()=>{class i{constructor(t,n,r,v,p,T,F){this.activatedRoute=t,this.actionServicesServices=n,this.localize=r,this.clientServicesService=v,this.employeeService=p,this._MessagesService=T,this.router=F,this.isEditMode=!1,this.actionService_id="",this.clientServices=[],this.employees=[],this.conversionUrls=[],this.file=[],this.selectedFile=[],this.actionServiceForm=new c.cw({title:new c.NI("",c.kI.required),description:new c.NI("",c.kI.required),date:new c.NI("",c.kI.required),client_service_id:new c.NI("",c.kI.required),employee_id:new c.NI("",c.kI.required),files:new c.NI([])})}onFilesSelected(t){const n=Array.from(t.target.files),r=this.actionServiceForm.get("files")?.value||[];this.actionServiceForm.get("files")?.setValue([...r,...n])}discardFiles(){this.actionServiceForm.get("files")?.setValue([]),this.fileInput.nativeElement.value=""}ngOnInit(){this.activatedRoute.paramMap.subscribe(t=>{const n=t.get("id");n&&(console.log(n),this.isEditMode=!0,this.actionService_id=n,this.actionServicesServices.getActionServiceById(n).subscribe(r=>{r&&r.data&&this.setFormValues(r.data)}))}),this.getClientServicesList(),this.getEmployeesList()}getClientServicesList(){this.clientServicesService.getAllClientService().subscribe(t=>{this.clientServices=t.data})}getEmployeesList(){this.employeeService.GetAllEmployeesList().subscribe(t=>{this.employees=t.data})}setFormValues(t){if(console.log(t),this.actionServiceForm.controls.title.setValue(t.title),this.actionServiceForm.controls.description.setValue(t.description),this.actionServiceForm.controls.date.setValue(t.date),this.actionServiceForm.controls.client_service_id.setValue(t.client_service.id),t.conversion_urls)for(let n in t.conversion_urls)t.conversion_urls[n].forEach(r=>{this.conversionUrls.push(r)})}navigateToActionServicesList(){const t=this.localize.translateRoute("/dashboard/action-services");this.router.navigate([t])}onSubmit(){this.actionServiceForm.valid&&this.actionServicesServices.addActionService({title:this.actionServiceForm.controls.title.value||"",description:this.actionServiceForm.controls.description.value||"",date:this.actionServiceForm.controls.date.value||"",client_service_id:this.actionServiceForm.controls.client_service_id.value||"",employee_id:this.actionServiceForm.controls.employee_id.value||"",files:this.actionServiceForm.controls.files.value||""}).subscribe({next:n=>{this.navigateToActionServicesList(),this._MessagesService.showSuccessMessage("\u062a\u0645 \u0627\u0644\u0625\u0636\u0627\u0641\u0629",3e3)},error:n=>{console.log("Failed to add service:",n)}})}updateActionService(){this.actionServiceForm.valid&&this.actionServicesServices.updateActionService(this.actionService_id,{title:this.actionServiceForm.controls.title.value||"",description:this.actionServiceForm.controls.description.value||"",date:this.actionServiceForm.controls.date.value||"",client_service_id:this.actionServiceForm.controls.client_service_id.value||"",employee_id:this.actionServiceForm.controls.employee_id.value||"",files:this.actionServiceForm.controls.files.value||"",_method:"PATCH"}).subscribe({next:n=>{this.navigateToActionServicesList(),this._MessagesService.showSuccessMessage("\u062a\u0645 \u0627\u0644\u062a\u062d\u062f\u064a\u062b",3e3)},error:n=>{console.log("Failed to update service:",n)}})}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(h.gz),e.Y36(u),e.Y36(x.An),e.Y36(_.U),e.Y36(l.M),e.Y36(g.K),e.Y36(h.F0))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-action-service"]],viewQuery:function(n,r){if(1&n&&e.Gf(a,5),2&n){let v;e.iGM(v=e.CRH())&&(r.fileInput=v.first)}},standalone:!0,features:[e.jDz],decls:61,vars:19,consts:[[1,"container-fluid","py-5","px-1"],[1,"row","title-top","mb-3"],[1,"col-12","mb-3"],[1,"fw-bold","fs-2"],[1,"col-sm-6"],[1,"col-sm-6","text-end","back"],[1,"text-decoration-none",3,"routerLink"],[1,"fa-solid","fa-chevron-left","ms-2"],[1,"row","add-row"],[1,"col-12"],[1,"card","rounded-4"],[1,"card-body"],[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"form-group","col-md-6","mb-3"],["for","title",1,"form-label"],["type","text","formControlName","title","name","title","id","title",1,"form-control","form-control-lg"],["class","ms-error",4,"ngIf"],["for","description",1,"form-label"],[3,"control"],["for","client_service_id",1,"form-label"],["formControlName","client_service_id","name","client_service_id","id","client_service_id",1,"form-select","form-select-lg"],[3,"value",4,"ngFor","ngForOf"],["for","employee_id",1,"form-label"],["formControlName","employee_id","name","employee_id","id","employee_id",1,"form-select","form-select-lg"],["for","date",1,"form-label"],["type","date","formControlName","date","name","date","id","date",1,"form-control","form-control-lg"],[1,"form-group","col-md-12","mb-3"],["for","files",1,"form-label"],["type","file","id","files","multiple","","accept","image/*",1,"form-control",3,"change"],["fileInput",""],[1,"mt-2"],["type","button",1,"btn","btn-danger",2,"background","red !important",3,"click"],[4,"ngIf","ngIfElse"],["editButton",""],[1,"ms-error"],[3,"value"],["class","mt-2",4,"ngFor","ngForOf"],["type","text","readonly","",1,"form-control","form-control-lg","mb-2",3,"value"],["target","_blank",1,"btn","btn-primary","mb-2",3,"href"],[1,"form-group","col-12","my-3"],[1,"btn","px-5","py-3",3,"disabled"],[1,"fa-solid","fa-circle-plus","me-2"],["type","button",1,"btn","px-5","py-3",3,"disabled","click"]],template:function(n,r){if(1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._uU(4,"\u0627\u0644\u062e\u062f\u0645\u0627\u062a"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u062e\u062f\u0645\u0627\u062a"),e.qZA()(),e.TgZ(7,"div",4),e._UZ(8,"app-breadcrumb"),e.qZA(),e.TgZ(9,"div",5)(10,"a",6),e.ALo(11,"localize"),e._uU(12,"\u0631\u062c\u0648\u0639 "),e._UZ(13,"i",7),e.qZA()()(),e.TgZ(14,"div",8)(15,"div",9)(16,"div",10)(17,"div",11),e.YNc(18,A,2,0,"h5",12),e.YNc(19,b,2,0,"h5",12),e.TgZ(20,"form",13),e.NdJ("ngSubmit",function(){return r.onSubmit()}),e.TgZ(21,"div",14)(22,"div",15)(23,"label",16),e._uU(24,"\u0627\u0633\u0645 \u0627\u0644\u062e\u062f\u0645\u0629"),e.qZA(),e._UZ(25,"input",17),e.YNc(26,L,3,2,"div",18),e.qZA(),e.TgZ(27,"div",15)(28,"label",19),e._uU(29,"\u0627\u0644\u0648\u0635\u0641"),e.qZA(),e._UZ(30,"app-text-editor",20),e.YNc(31,O,3,2,"div",18),e.qZA(),e.TgZ(32,"div",15)(33,"label",21),e._uU(34,"\u062e\u062f\u0645\u0629 \u0627\u0644\u0639\u0645\u064a\u0644"),e.qZA(),e.TgZ(35,"select",22),e.YNc(36,Y,2,2,"option",23),e.qZA(),e.YNc(37,D,3,2,"div",18),e.qZA(),e.TgZ(38,"div",15)(39,"label",24),e._uU(40,"\u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646"),e.qZA(),e.TgZ(41,"select",25),e.YNc(42,$,2,2,"option",23),e.qZA(),e.YNc(43,B,3,2,"div",18),e.qZA(),e.TgZ(44,"div",15)(45,"label",26),e._uU(46,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e"),e.qZA(),e._UZ(47,"input",27),e.YNc(48,G,3,2,"div",18),e.qZA(),e.TgZ(49,"div",28)(50,"label",29),e._uU(51,"\u0627\u0644\u0635\u0648\u0631"),e.qZA(),e.YNc(52,K,2,1,"ng-container",12),e.TgZ(53,"input",30,31),e.NdJ("change",function(p){return r.onFilesSelected(p)}),e.qZA(),e.TgZ(55,"div",32)(56,"button",33),e.NdJ("click",function(){return r.discardFiles()}),e._uU(57," \u062a\u062c\u0627\u0647\u0644 \u062c\u0645\u064a\u0639 \u0627\u0644\u0635\u0648\u0631 "),e.qZA()()(),e.YNc(58,W,5,1,"ng-container",34),e.YNc(59,X,3,1,"ng-template",null,35,e.W1O),e.qZA()()()()()()()),2&n){const v=e.MAs(60);e.xp6(10),e.Q6J("routerLink",e.VKq(17,ee,e.lcZ(11,15,"/dashboard/action-services"))),e.xp6(8),e.Q6J("ngIf",!r.isEditMode),e.xp6(1),e.Q6J("ngIf",r.isEditMode),e.xp6(1),e.Q6J("formGroup",r.actionServiceForm),e.xp6(6),e.Q6J("ngIf",r.actionServiceForm.controls.title.invalid&&(r.actionServiceForm.controls.title.dirty||r.actionServiceForm.controls.title.touched)),e.xp6(4),e.Q6J("control",r.actionServiceForm.controls.description),e.xp6(1),e.Q6J("ngIf",r.actionServiceForm.controls.description.invalid&&(r.actionServiceForm.controls.description.dirty||r.actionServiceForm.controls.description.touched)),e.xp6(5),e.Q6J("ngForOf",r.clientServices),e.xp6(1),e.Q6J("ngIf",r.actionServiceForm.controls.client_service_id.invalid&&(r.actionServiceForm.controls.client_service_id.dirty||r.actionServiceForm.controls.client_service_id.touched)),e.xp6(5),e.Q6J("ngForOf",r.employees),e.xp6(1),e.Q6J("ngIf",r.actionServiceForm.controls.employee_id.invalid&&(r.actionServiceForm.controls.employee_id.dirty||r.actionServiceForm.controls.employee_id.touched)),e.xp6(5),e.Q6J("ngIf",r.actionServiceForm.controls.date.invalid&&(r.actionServiceForm.controls.date.dirty||r.actionServiceForm.controls.date.touched)),e.xp6(4),e.Q6J("ngIf",r.isEditMode&&r.conversionUrls.length>0),e.xp6(6),e.Q6J("ngIf",!r.isEditMode)("ngIfElse",v)}},dependencies:[o.ez,o.sg,o.O5,c.u5,c._Y,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.JL,S.L,x.fQ,x.lO,c.UX,c.sg,c.u,h.Bz,h.rH,m.d],styles:[".ms-error[_ngcontent-%COMP%]{color:red;margin-top:5px}"]})}return i})();var te=d(1818),ie=d(8034),P=d(7620),oe=d(7700);const w=function(i,s){return[i,s]};function ne(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e._UZ(7,"td",24),e.ALo(8,"safeHtml"),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td",25)(12,"a",26),e.ALo(13,"localize"),e._UZ(14,"i",27),e._uU(15," \u0639\u0631\u0636"),e.qZA(),e.TgZ(16,"a",28),e.ALo(17,"localize"),e._UZ(18,"i",29),e._uU(19," \u062a\u0639\u062f\u064a\u0644"),e.qZA(),e.TgZ(20,"button",30),e.NdJ("click",function(){const v=e.CHM(t).$implicit,p=e.oxw();return e.KtG(p.deleteActionService(v.id,v.title))}),e._UZ(21,"i",31),e._uU(22," \u062d\u0630\u0641 "),e.qZA()()()}if(2&i){const t=s.$implicit,n=s.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(t.client_service.code),e.xp6(2),e.Oqu(t.title),e.xp6(1),e.Q6J("innerHTML",e.lcZ(8,7,t.description),e.oJD),e.xp6(3),e.Oqu(t.date),e.xp6(2),e.Q6J("routerLink",e.WLB(13,w,e.lcZ(13,9,"/dashboard/action-services/view-action-service"),t.id)),e.xp6(4),e.Q6J("routerLink",e.WLB(16,w,e.lcZ(17,11,"/dashboard/action-services/add-action-service"),t.id))}}function re(i,s){1&i&&(e.TgZ(0,"tr")(1,"td",32),e._uU(2,"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a"),e.qZA()())}const se=["ClientService_id"];function ae(i,s){1&i&&(e.TgZ(0,"label",25),e._uU(1,"\u0627\u0644\u0635\u0648\u0631"),e.qZA())}function ue(i,s){if(1&i&&(e.TgZ(0,"div",27),e._UZ(1,"input",28),e.TgZ(2,"a",29),e._uU(3,"\u0639\u0631\u0636 \u0627\u0644\u0645\u0644\u0641"),e.qZA()()),2&i){const t=s.$implicit;e.xp6(1),e.Q6J("value",t.original),e.xp6(1),e.Q6J("href",t.original,e.LSH)}}function le(i,s){if(1&i&&(e.ynx(0),e.YNc(1,ue,4,2,"div",26),e.BQk()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.conversionUrls)}}function de(i,s){if(1&i&&(e.TgZ(0,"div",12)(1,"div",13)(2,"div",14)(3,"label",15),e._uU(4,"\u0627\u0633\u0645 \u0627\u0644\u062e\u062f\u0645\u0629"),e.qZA(),e._UZ(5,"input",16),e.qZA(),e.TgZ(6,"div",14)(7,"label",17),e._uU(8,"\u0627\u0644\u0648\u0635\u0641"),e.qZA(),e._UZ(9,"div",18),e.ALo(10,"safeHtml"),e.qZA(),e.TgZ(11,"div",14)(12,"label",19),e._uU(13,"\u062e\u062f\u0645\u0629 \u0627\u0644\u0639\u0645\u064a\u0644"),e.qZA(),e._UZ(14,"input",20),e.qZA(),e.TgZ(15,"div",14)(16,"label",21),e._uU(17,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e"),e.qZA(),e._UZ(18,"input",22),e.qZA(),e.YNc(19,ae,2,0,"label",23),e.YNc(20,le,2,1,"ng-container",24),e.qZA()()),2&i){const t=e.oxw();e.xp6(5),e.s9C("value",t.actionService.title),e.xp6(4),e.Q6J("innerHTML",e.lcZ(10,6,t.actionService.description),e.oJD),e.xp6(5),e.s9C("value",t.actionService.client_service.code),e.xp6(4),e.s9C("value",t.actionService.date),e.xp6(1),e.Q6J("ngIf",t.conversionUrls.length>0),e.xp6(1),e.Q6J("ngIf",t.conversionUrls.length>0)}}function ve(i,s){1&i&&(e.TgZ(0,"div",12)(1,"h4",30),e._uU(2,"\u0644\u0627 \u062a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a"),e.qZA()())}const pe=function(i){return[i]},me=[{path:"",component:y,children:[{path:"",component:(()=>{class i{constructor(t,n){this.actionServiceServices=t,this.dialog=n,this.actionServices=[],this.searchQuery="",this.loading=!0}ngOnInit(){this.getActionServicesList()}onPageChange(t){this.getActionServicesList(t)}getActionServicesList(t=1){this.loading=!0,this.actionServiceServices.getActionServicesList({page:t}).subscribe({next:n=>{this.actionServices=n.data,console.log(n.data),this.currentPage=n.pagination.current_page,this.totalPages=n.pagination.last_page,this.loading=!1},error:n=>{this.loading=!1,console.error("There was an error!",n)}})}deleteActionService(t,n){this.dialog.open(ie.$,{width:"500px",data:{title:"\u062a\u0623\u0643\u064a\u062f \u0627\u0644\u062d\u0630\u0641",message:`\u0647\u0644 \u062a\u0631\u064a\u062f \u062d\u0630\u0641 ${n}\u061f`}}).afterClosed().subscribe(v=>{v&&this.actionServiceServices.deleteActionService(t).subscribe({next:p=>{this.getActionServicesList()},error:p=>{console.log("there was an error deleting Service:",p)}})})}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(u),e.Y36(oe.uw))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-action-services-list"]],standalone:!0,features:[e.jDz],decls:48,vars:7,consts:[[1,"container-fluid","py-5","px-1"],[1,"row","title-top","mb-3"],[1,"col-12","mb-3"],[1,"fw-bold","fs-2"],[1,"col-12"],[1,"row","list-row"],[1,"card","rounded-4"],[1,"card-body"],[1,"row","align-items-center"],[1,"col-xl-3","col-lg-2","addNew","mb-2"],[1,"btn","w-100","py-3","rounded-4",3,"routerLink"],[1,"fa-solid","fa-circle-plus","me-2"],[1,"col-xl-7","col-lg-7","col-sm-8","searchINP","mb-2"],["type","search","placeholder","\u0627\u0644\u0628\u062d\u062b",1,"form-control","form-control-lg","rounded-3"],[1,"col-xl-2","col-lg-3","col-sm-4","text-center","filterBTN","mb-2"],[1,"btn","px-sm-4","px-5"],[1,"fa-solid","fa-sliders"],[1,"card-body","p-0"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"row"],[3,"currentPage","totalPages","pageChange"],[3,"innerHTML"],[1,"action","text-center"],[1,"btn","get",3,"routerLink"],[1,"fa-solid","fa-eye"],[1,"btn","edit",3,"routerLink"],[1,"fa-solid","fa-pen-to-square"],[1,"btn","delete",3,"click"],[1,"fa-regular","fa-trash-can"],["colspan","4",1,"text-center"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._uU(4,"\u0627\u0644\u062e\u062f\u0645\u0627\u062a"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u062e\u062f\u0645\u0627\u062a"),e.qZA()(),e.TgZ(7,"div",4),e._UZ(8,"app-breadcrumb"),e.qZA()(),e.TgZ(9,"div",5)(10,"div",4)(11,"div",6)(12,"div",7)(13,"div",8)(14,"div",9)(15,"a",10),e.ALo(16,"localize"),e._UZ(17,"i",11),e._uU(18," \u0625\u0636\u0627\u0641\u0629 \u062e\u062f\u0645\u0629 \u062c\u062f\u064a\u062f "),e.qZA()(),e.TgZ(19,"div",12),e._UZ(20,"input",13),e.qZA(),e.TgZ(21,"div",14)(22,"button",15),e._UZ(23,"i",16),e._uU(24," \u062a\u0635\u0646\u064a\u0641 "),e.qZA()()()(),e.TgZ(25,"div",17)(26,"div",18)(27,"table",19)(28,"thead")(29,"tr")(30,"th"),e._uU(31,"\u062a\u0631\u0642\u064a\u0645"),e.qZA(),e.TgZ(32,"th"),e._uU(33,"\u0643\u0648\u062f \u062e\u062f\u0645\u0629 \u0627\u0644\u0639\u0645\u064a\u0644"),e.qZA(),e.TgZ(34,"th"),e._uU(35,"\u0627\u0633\u0645 \u0627\u0644\u062e\u062f\u0645\u0629"),e.qZA(),e.TgZ(36,"th"),e._uU(37,"\u0627\u0644\u0648\u0635\u0641"),e.qZA(),e.TgZ(38,"th"),e._uU(39,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e"),e.qZA(),e._UZ(40,"th"),e.qZA()(),e.TgZ(41,"tbody"),e.YNc(42,ne,23,19,"tr",20),e.YNc(43,re,3,0,"tr",21),e.qZA()()()(),e.TgZ(44,"div",7)(45,"div",22)(46,"div",4)(47,"pagination",23),e.NdJ("pageChange",function(p){return r.onPageChange(p)}),e.qZA()()()()()()()()),2&n&&(e.xp6(15),e.Q6J("routerLink",e.lcZ(16,5,"/dashboard/action-services/add-action-service")),e.xp6(27),e.Q6J("ngForOf",r.actionServices),e.xp6(1),e.Q6J("ngIf",0===r.actionServices.length&&!r.loading),e.xp6(4),e.Q6J("currentPage",r.currentPage)("totalPages",r.totalPages))},dependencies:[o.ez,o.sg,o.O5,te.Q,x.fQ,x.lO,h.Bz,h.rH,S.L,c.u5,P.z]})}return i})(),data:{breadcrumbs:[{label:"\u0627\u0644\u062e\u062f\u0645\u0627\u062a",url:"/dashboard/action-services"}]}},{path:":slug",component:q,data:{breadcrumbs:[{label:"\u0625\u0636\u0627\u0641\u0629 \u062e\u062f\u0645\u0629",url:"/dashboard/action-services/add-action-service"}]}},{path:"add-action-service/:id",component:q,data:{breadcrumbs:[{label:"\u062a\u0639\u062f\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u062e\u062f\u0645\u0629",url:"/dashboard/action-services/add-action-service"}]}},{path:"view-action-service/:id",component:(()=>{class i{constructor(t,n,r){this.activatedRoute=t,this.actionServices=n,this.clientServicesService=r,this.conversionUrls=[],this.clientServices=[],this.actionService=""}ngOnInit(){this.activatedRoute.paramMap.subscribe(t=>{const n=t.get("id");n&&this.actionServices.getActionServiceById(n).subscribe({next:r=>{if(this.actionService=r.data,this.actionService.conversion_urls)for(let v in this.actionService.conversion_urls)this.actionService.conversion_urls[v].forEach(p=>{this.conversionUrls.push(p)})},error:r=>{console.error("Error fetching Service:",r)}})}),this.getClientServicesList()}getClientServicesList(){this.clientServicesService.getAllClientService().subscribe(t=>{this.clientServices=t.data})}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(h.gz),e.Y36(u),e.Y36(_.U))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-view-action-service"]],viewQuery:function(n,r){if(1&n&&e.Gf(se,5),2&n){let v;e.iGM(v=e.CRH())&&(r.ClientService_id=v.first)}},standalone:!0,features:[e.jDz],decls:19,vars:7,consts:[[1,"container-fluid","py-5","px-1"],[1,"row","title-top","mb-3"],[1,"col-12","mb-3"],[1,"fw-bold","fs-2"],[1,"col-sm-6"],[1,"col-sm-6","text-end","back"],[1,"text-decoration-none",3,"routerLink"],[1,"fa-solid","fa-chevron-left","ms-2"],[1,"row","add-row"],[1,"col-12"],[1,"card"],["class","card-body",4,"ngIf"],[1,"card-body"],[1,"row"],[1,"form-group","col-md-6","mb-3"],["for","title",1,"form-label"],["type","text","disabled","","formControlName","title","name","title","id","title",1,"form-control","form-control-lg",3,"value"],["for","description",1,"form-label"],[3,"innerHTML"],["for","client_service_id",1,"form-label"],["disabled","","formControlName","client_service_id","name","client_service_id","id","client_service_id",1,"form-control","form-control-lg",3,"value"],["for","date",1,"form-label"],["disabled","","type","date","formControlName","date","name","date","id","date",1,"form-control","form-control-lg",3,"value"],["for","files","class","form-label",4,"ngIf"],[4,"ngIf"],["for","files",1,"form-label"],["class","mt-2",4,"ngFor","ngForOf"],[1,"mt-2"],["type","text","readonly","",1,"form-control","form-control-lg","mb-2",3,"value"],["target","_blank",1,"btn","btn-primary","mb-2",3,"href"],[1,"text-center"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._uU(4,"\u0628\u064a\u0627\u0646\u0627\u062a \u062e\u062f\u0645\u0629 \u0627\u0644\u0639\u0645\u064a\u0644"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u062a\u0641\u0627\u0635\u064a\u0644 \u062e\u062f\u0645\u0627\u062a \u0627\u0644\u0639\u0645\u0644\u0627\u0621"),e.qZA()(),e.TgZ(7,"div",4),e._UZ(8,"app-breadcrumb"),e.qZA(),e.TgZ(9,"div",5)(10,"a",6),e.ALo(11,"localize"),e._uU(12,"\u0631\u062c\u0648\u0639 "),e._UZ(13,"i",7),e.qZA()()(),e.TgZ(14,"div",8)(15,"div",9)(16,"div",10),e.YNc(17,de,21,8,"div",11),e.YNc(18,ve,3,0,"div",11),e.qZA()()()()),2&n&&(e.xp6(10),e.Q6J("routerLink",e.VKq(5,pe,e.lcZ(11,3,"/dashboard/action-services"))),e.xp6(7),e.Q6J("ngIf",r.actionService),e.xp6(1),e.Q6J("ngIf",!r.actionService))},dependencies:[o.ez,o.sg,o.O5,S.L,h.Bz,h.rH,x.fQ,x.lO,P.z]})}return i})(),data:{breadcrumbs:[{label:"\u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u062e\u062f\u0645\u0629",url:"/dashboard/action-services/view-action-service"}]}}]}]},5123:(E,C,d)=>{d.d(C,{M:()=>y});var o=d(9862),h=d(553),e=d(5879);let y=(()=>{class S{constructor(c){this.http=c,this.employeesUrl=`${h.N.url}employee`}GetEmployeesList(c){let m=new o.LE;return c&&Object.keys(c).forEach(f=>{m=m.append(f,c[f])}),this.http.get(this.employeesUrl,{params:m})}GetAllEmployeesList(){return this.http.get(`${this.employeesUrl}/get/all`)}GetEmployeeById(c){return this.http.get(`${this.employeesUrl}/${c}`)}DeleteEmployee(c){return this.http.delete(`${this.employeesUrl}/${c}`)}AddEmployee(c,m){let f=new o.LE;m&&Object.keys(m).forEach(u=>{f=f.append(u,m[u])});const Z=new FormData;return Object.keys(c).forEach(u=>{const _=c[u];null!=_&&(Array.isArray(_)?_.forEach((l,g)=>{l instanceof File&&Z.append(`files[avatar][${g}]`,l)}):Z.append(u,_))}),this.http.post(this.employeesUrl,Z,{params:f})}UpdateEmployee(c,m,f){const Z=`${this.employeesUrl}/${c}`;let u=new o.LE;f&&Object.keys(f).forEach(l=>{u=u.append(l,f[l])});const _=new FormData;return Object.keys(m).forEach(l=>{const g=m[l];Array.isArray(g)?g.forEach((a,A)=>{a instanceof File&&_.append(`files[avatar][${A}]`,a)}):_.append(l,g)}),this.http.post(Z,_,{params:u})}static#e=this.\u0275fac=function(m){return new(m||S)(e.LFG(o.eN))};static#t=this.\u0275prov=e.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})()},1818:(E,C,d)=>{d.d(C,{Q:()=>Z});var o=d(5879),h=d(6223),e=d(6814);function y(u,_){if(1&u){const l=o.EpF();o.TgZ(0,"li",2)(1,"a",8),o.NdJ("click",function(){o.CHM(l);const a=o.oxw();return o.KtG(a.navigateTo(1))}),o._uU(2,"1"),o.qZA()()}}function S(u,_){1&u&&(o.TgZ(0,"li",2)(1,"a",9),o._uU(2,"..."),o.qZA()())}function x(u,_){if(1&u){const l=o.EpF();o.TgZ(0,"li",2)(1,"a",8),o.NdJ("click",function(){const A=o.CHM(l).$implicit,b=o.oxw();return o.KtG(b.navigateTo(A))}),o._uU(2),o.qZA()()}if(2&u){const l=_.$implicit,g=o.oxw();o.ekj("active",g.currentPage===l),o.xp6(2),o.Oqu(l)}}function c(u,_){1&u&&(o.TgZ(0,"li",2)(1,"a",9),o._uU(2,"..."),o.qZA()())}function m(u,_){if(1&u){const l=o.EpF();o.TgZ(0,"li",2)(1,"a",8),o.NdJ("click",function(){o.CHM(l);const a=o.oxw();return o.KtG(a.navigateTo(a.totalPages))}),o._uU(2),o.qZA()()}if(2&u){const l=o.oxw();o.xp6(2),o.Oqu(l.totalPages)}}const f={provide:h.JU,useExisting:(0,o.Gpc)(()=>Z),multi:!0};let Z=(()=>{class u{constructor(){this.pageChange=new o.vpe}navigateTo(l){this.pageChange.emit(l),this.scrollToTop()}ngOnInit(){}scrollToTop(){window.scroll({top:0,left:0,behavior:"smooth"})}calculatePages(){const l=[];if(this.totalPages<=5)for(let a=1;a<=this.totalPages;a++)l.push(a);else{let a,A;this.currentPage<=Math.floor(2.5)?(a=1,A=5):this.currentPage+Math.floor(2.5)>=this.totalPages?(a=this.totalPages-5+1,A=this.totalPages):(a=this.currentPage-Math.floor(2.5),A=this.currentPage+Math.floor(2.5));for(let b=a;b<=A;b++)l.push(b)}return l}static#e=this.\u0275fac=function(g){return new(g||u)};static#t=this.\u0275cmp=o.Xpm({type:u,selectors:[["pagination"]],inputs:{currentPage:"currentPage",totalPages:"totalPages"},outputs:{pageChange:"pageChange"},standalone:!0,features:[o._Bn([f]),o.jDz],decls:15,vars:9,consts:[["aria-label","Page navigation"],[1,"pagination","justify-content-center"],[1,"page-item","mx-2"],["aria-label","Previous",1,"page-link",3,"click"],["aria-hidden","true"],["class","page-item mx-2",4,"ngIf"],["class","page-item mx-2",3,"active",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],[1,"page-link",3,"click"],[1,"page-link"]],template:function(g,a){1&g&&(o.TgZ(0,"nav",0)(1,"ul",1)(2,"li",2)(3,"a",3),o.NdJ("click",function(){return a.navigateTo(a.currentPage-1)}),o.TgZ(4,"span",4),o._uU(5,"\xab"),o.qZA()()(),o.YNc(6,y,3,0,"li",5),o.YNc(7,S,3,0,"li",5),o.YNc(8,x,3,3,"li",6),o.YNc(9,c,3,0,"li",5),o.YNc(10,m,3,1,"li",5),o.TgZ(11,"li",2)(12,"a",7),o.NdJ("click",function(){return a.navigateTo(a.currentPage+1)}),o.TgZ(13,"span",4),o._uU(14,"\xbb"),o.qZA()()()()()),2&g&&(o.xp6(2),o.ekj("disabled",1===a.currentPage),o.xp6(4),o.Q6J("ngIf",a.currentPage>3),o.xp6(1),o.Q6J("ngIf",a.currentPage>4),o.xp6(1),o.Q6J("ngForOf",a.calculatePages()),o.xp6(1),o.Q6J("ngIf",a.currentPage<a.totalPages-3),o.xp6(1),o.Q6J("ngIf",a.currentPage<a.totalPages-2),o.xp6(1),o.ekj("disabled",a.currentPage===a.totalPages))},dependencies:[e.ez,e.sg,e.O5],styles:[".pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]{cursor:pointer}"]})}return u})()}}]);