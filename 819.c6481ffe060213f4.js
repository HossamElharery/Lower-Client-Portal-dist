"use strict";(self.webpackChunkClientPortal=self.webpackChunkClientPortal||[]).push([[819],{9819:(pe,P,m)=>{m.r(P),m.d(P,{default:()=>Pi});var _=m(6814),u=m(846),p=m(8733),v=m(1818),s=m(6223),T=m(8034),C=m(4414),ne=m(2290),e=m(5879),y=m(5123),f=m(7700),F=m(5862);const D=function(a,o){return[a,o]};function x(a,o){if(1&a){const t=e.EpF();e.TgZ(0,"tr",37)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td",43)(12,"a",44),e.NdJ("click",function(){const i=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.assignClient(i))}),e._uU(13,"\u062a\u0639\u064a\u064a\u0646 \u0639\u0645\u064a\u0644"),e.qZA(),e.TgZ(14,"a",45),e.NdJ("click",function(){const i=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.viewEmployee(i))}),e._UZ(15,"i",46),e._uU(16," \u0639\u0631\u0636"),e.qZA(),e.TgZ(17,"a",47),e.ALo(18,"localize"),e._UZ(19,"i",48),e._uU(20," \u062a\u0639\u062f\u064a\u0644 "),e.qZA(),e.TgZ(21,"button",49),e.NdJ("click",function(){const i=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.deleteEmployee(i.id,i.user))}),e._UZ(22,"i",50),e._uU(23," \u062d\u0630\u0641 "),e.qZA()()()}if(2&a){const t=o.$implicit,n=o.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(t.user.name),e.xp6(2),e.hij(" ",t.department?t.department.name:""," "),e.xp6(2),e.Oqu(t.job_title),e.xp6(2),e.Oqu(t.user.phone),e.xp6(7),e.Q6J("routerLink",e.WLB(8,D,e.lcZ(18,6,"/dashboard/employees/add-employee"),t.id))}}function E(a,o){1&a&&(e.TgZ(0,"tr")(1,"td",51),e._uU(2,"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a"),e.qZA()())}let H=(()=>{class a{constructor(t,n,r,i,l){this.employeeService=t,this.router=n,this.localize=r,this.dialog=i,this.clientsService=l,this.employees=[{user:"\u0634\u0631\u064a\u0641 \u0633\u0644\u0637\u0627\u0646",department:"HR",salary:5e4,jobTitle:"Manager",joinDate:"2023-01-15",code:101,status:"Active",parent_id:"\u0645\u062d\u0645\u062f",currency:"USD",address:"\u0645\u062f\u064a\u0646\u0629 \u0646\u0635\u0631"}],this.searchQuery="",this.loading=!0}ngOnInit(){this.getListEmployees()}getListEmployees(t=1){this.loading=!0,this.employeeService.GetEmployeesList({page:t}).subscribe({next:n=>{this.employees=n.data,console.log(this.employees),this.currentPage=n.pagination.current_page,this.totalPages=n.pagination.last_page,this.loading=!1},error:n=>{this.loading=!1,console.error("There was an error!",n)}})}navigateToAddEmployee(){const t=this.localize.translateRoute("/dashboard/employees/add-employee");this.router.navigate([t])}deleteEmployee(t,n){this.dialog.open(T.$,{width:"500px",data:{title:"\u062a\u0627\u0643\u064a\u062f \u0627\u0644\u062d\u0630\u0641",message:`\u061f ${n} \u0647\u0644 \u062a\u0631\u064a\u062f \u062d\u0630\u0641  `}}).afterClosed().subscribe(i=>{i&&this.employeeService.DeleteEmployee(t.toString()).subscribe({next:l=>{this.getListEmployees()},error:l=>{console.error("There was an error deleting the admin!",l)}})})}viewEmployee(t){if(t){const n=this.localize.translateRoute("/dashboard/employees/view-employee");this.router.navigate([n,t.id])}else console.error("No employee to view")}onPageChange(t){}assignClient(t){console.log(t),this.dialog.open(ne.W,{width:"500px",data:{type:"client",id:t.id,object:t}}).afterClosed().subscribe(r=>{r&&(console.log(r),this.clientsService.assignEmployee({clients:r,employees:[t.id]}).subscribe({next:l=>{this.getListEmployees()},error:l=>{console.error("There was an error !",l)}}))})}static#e=this.\u0275fac=function(n){return new(n||a)(e.Y36(y.M),e.Y36(u.F0),e.Y36(p.An),e.Y36(f.uw),e.Y36(F.a))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-employees-list"]],standalone:!0,features:[e.jDz],decls:69,vars:4,consts:[[1,"container-fluid","py-5","px-1"],[1,"row","title-top","mb-3"],[1,"col-12","mb-3"],[1,"fw-bold","fs-2"],[1,"col-12"],[1,"card","p-3","shadow-sm","mb-2"],[1,"row","g-0","align-items-center"],[1,"col-md-9"],[1,"d-flex","align-items-center"],[1,"me-3"],["src","https://via.placeholder.com/80","alt","User Image",1,"rounded-circle","img-fluid"],[1,"f-w"],[1,"mb-1"],[1,"col-lg-3","col-md-4","col-12","mb-sm-0","mb-3","action","text-center"],["xmlns","http://www.w3.org/2000/svg","width","78","height","56","viewBox","0 0 78 56","fill","none"],["d","M36.8462 17.3939C36.5263 17.4166 36.2051 17.4166 35.8852 17.3939C35.2789 17.3126 34.8502 17.0021 34.8502 16.3367C34.8502 12.793 34.8502 9.25425 34.8502 5.7204C34.8502 4.81107 35.5081 4.60406 36.107 4.53753C36.0322 3.65853 36.0471 2.77422 36.1513 1.89823C36.3559 1.32869 36.7399 0.840954 37.2455 0.508357C37.7491 0.159257 38.3517 -0.018455 38.9642 0.00151669C39.5766 0.0214884 40.1664 0.238078 40.6462 0.619247C41.7847 1.52119 42.0287 2.72625 41.3855 4.4636C42.7458 4.82586 42.8197 4.92197 42.8197 6.37099V15.3165C42.8197 17.2756 42.8197 17.2904 40.7349 17.4531V18.355C40.7349 24.883 40.661 31.4036 40.7867 37.9242C40.7867 39.7725 41.4373 41.6207 41.8143 43.4542C42.0804 44.7553 42.3318 46.0713 42.6941 47.3503C42.8617 47.8482 43.1761 48.2838 43.596 48.5997C44.4684 49.2577 45.422 49.7973 46.5532 50.5145H31.028C32.0408 49.8713 32.8393 49.302 33.6969 48.8289C34.0383 48.65 34.3332 48.3938 34.5579 48.0805C34.7825 47.7673 34.9307 47.4058 34.9906 47.025C35.5303 44.3931 36.1439 41.7686 36.7132 39.1367C36.8131 38.685 36.8651 38.2241 36.8684 37.7616C36.8684 31.241 36.8684 24.7179 36.8684 18.1924C36.8906 17.9632 36.8684 17.7414 36.8462 17.3939Z","fill","#1B183F"],["d","M11.0672 13.364C10.4992 13.1421 10.0049 12.7654 9.64027 12.2766C9.27566 11.7879 9.05543 11.2066 9.00458 10.599C8.9365 9.79643 9.18673 8.99929 9.70126 8.37963C10.2158 7.75998 10.9534 7.3675 11.7548 7.28693C12.1589 7.22788 12.5708 7.25318 12.9647 7.36123C13.3585 7.46927 13.7257 7.65772 14.0431 7.91471C14.3605 8.17169 14.6212 8.49163 14.8089 8.85437C14.9965 9.21711 15.107 9.61478 15.1333 10.0223C15.1333 11.6414 16.1535 12.3215 17.3068 12.9352C17.8619 13.2285 18.4744 13.397 19.1014 13.4289C19.7284 13.4609 20.3548 13.3554 20.9368 13.12C22.9698 12.3363 24.9955 11.4344 27.0064 10.5324C29.0172 9.6305 31.0429 8.75074 33.3199 8.83206C33.5491 8.83206 33.7709 8.87642 34.0592 8.906V11.4122C32.6485 11.5749 31.2487 11.8218 29.8674 12.1515C28.6075 12.5776 27.3899 13.1196 26.2301 13.7706C22.3045 15.8036 18.2236 16.5208 13.7656 15.19C14.2388 16.2842 14.675 17.2748 15.1111 18.2655C17.4399 23.5293 19.7909 28.7931 22.0827 34.0717C22.4671 34.9588 22.822 35.6686 24.0048 35.2694V37.1472H0V35.4542C0.0443576 35.4542 0.096107 35.3655 0.140465 35.3729C1.1459 35.5577 1.5673 35.0254 1.95173 34.1456C4.9089 27.3737 7.86607 20.6239 10.875 13.8667C10.9341 13.7262 10.9785 13.5931 11.0672 13.364ZM22.0014 35.2841C21.2029 33.5098 20.4636 31.8464 19.7243 30.1904C17.5212 25.2174 15.3034 20.2468 13.0707 15.2787C12.8923 14.9631 12.6763 14.6701 12.4275 14.4064L12.2501 14.5321V35.2841H22.0014ZM11.6956 35.2841V13.9924L11.4886 13.9406L2.03305 35.2767L11.6956 35.2841Z","fill","#1B183F"],["d","M63.9341 15.1908C61.9378 15.7989 59.84 16.0017 57.7642 15.7871C55.6884 15.5726 53.6764 14.945 51.8467 13.9414C49.2961 12.618 46.7456 11.2725 43.6553 11.6791V8.95113C44.9646 8.70347 46.3176 8.83954 47.5514 9.34295C49.651 10.171 51.6767 11.169 53.7689 12.0192C55.0131 12.5531 56.302 12.9761 57.6206 13.2834C59.5427 13.6974 61.0731 12.862 62.2559 11.3686C62.4087 11.1337 62.4861 10.8577 62.4777 10.5776C62.5369 8.80327 63.4979 7.55386 65.0061 7.31728C65.7468 7.17817 66.5129 7.31191 67.1627 7.69379C67.8125 8.07567 68.302 8.67987 68.5409 9.3947C68.7798 10.1095 68.7518 10.8867 68.4622 11.5825C68.1725 12.2783 67.6408 12.8457 66.9652 13.1799L66.5882 13.4091L68.429 17.6157C70.8391 23.0717 73.264 28.5203 75.6593 33.9838C76.0511 34.8561 76.3247 35.8098 77.6924 35.2258V37.1479H53.6727V35.4476C53.6727 35.4476 53.7467 35.3588 53.7836 35.3662C54.826 35.5658 55.2031 34.967 55.5801 34.1094C58.1972 28.1137 60.8735 22.1402 63.5275 16.1593C63.631 15.8783 63.7641 15.59 63.9341 15.1908ZM65.3684 14.3924C65.0948 14.5772 64.8509 14.6437 64.7843 14.7842C61.7384 21.5931 58.7073 28.4021 55.6467 35.2775H65.3684V14.3924ZM75.6297 35.2997L66.189 13.9266L65.9894 14.0153V35.2997H75.6297Z","fill","#1B183F"],["d","M59.5204 53.7812V55.9991H18.1791V53.7812H59.5204Z","fill","#1B183F"],["d","M76.7608 38.0137C75.7924 39.544 74.8978 40.9709 73.9589 42.4495C73.8689 42.5332 73.7629 42.5979 73.6473 42.6398C73.5318 42.6817 73.4089 42.7 73.2862 42.6934C68.2048 42.6934 63.1308 42.6934 58.0641 42.6934C57.7775 42.6705 57.5117 42.5349 57.3248 42.3164C56.4081 40.9487 55.5431 39.544 54.6042 38.0506L76.7608 38.0137Z","fill","#1B183F"],["d","M23.1029 37.998C22.127 39.5358 21.2325 40.9552 20.3009 42.3969C20.121 42.566 19.8825 42.6588 19.6356 42.6556C14.5591 42.6556 9.48509 42.6556 4.41354 42.6556C4.2752 42.6555 4.13832 42.6273 4.01123 42.5727C3.88414 42.518 3.76949 42.4381 3.67425 42.3377C2.75014 40.9479 1.87037 39.521 0.916687 37.998H23.1029Z","fill","#1B183F"],["d","M26.5997 52.8731V51.3945H50.9964V52.8731H26.5997Z","fill","#1B183F"],[1,"row","list-row"],[1,"card","rounded-4"],[1,"card-body"],[1,"row","align-items-center"],[1,"col-xl-3","col-lg-3","addNew","mb-2"],[1,"btn","w-100","py-3","rounded-4",3,"click"],[1,"fa-solid","fa-circle-plus","me-2"],[1,"col-xl-7","col-lg-6","col-sm-8","searchINP","mb-2"],["type","search","placeholder","\u0627\u0644\u0628\u062d\u062b",1,"form-control","form-control-lg","rounded-3"],[1,"col-xl-2","col-lg-3","col-sm-4","text-center","filterBTN","mb-2"],[1,"btn","px-sm-4","px-5"],[1,"fa-solid","fa-sliders"],[1,"card-body","p-0"],[1,"table-responsive"],[1,"table"],[1,"text-center"],["class","text-center",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"row"],[1,"col-md-12"],[3,"currentPage","totalPages","pageChange"],[1,"action"],[1,"btn","add",3,"click"],[1,"btn","get","mx-2",3,"click"],[1,"fa-solid","fa-eye"],[1,"btn","edit","mx-2",3,"routerLink"],[1,"fa-solid","fa-pen-to-square"],[1,"btn","delete","bg-danger","mx-2",3,"click"],[1,"fa-regular","fa-trash-can"],["colspan","7",1,"text-center"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._uU(4,"\u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646"),e.qZA()(),e.TgZ(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"div",8)(12,"div",9),e._UZ(13,"img",10),e.qZA(),e.TgZ(14,"div",11)(15,"h5",12),e._uU(16,"\u0645\u0643\u062a\u0628 \u0627\u0644\u0645\u0633\u062a\u0634\u0627\u0631: --"),e.qZA(),e.TgZ(17,"p",12),e._uU(18,"\u0645\u062d\u0627\u0645\u0649 \u0628\u0627\u0644\u0646\u0642\u0636 \u0648\u0627\u0644\u0625\u062f\u0627\u0631\u064a\u0629 \u0648\u0627\u0644\u062f\u0633\u062a\u0648\u0631\u064a\u0629 \u0627\u0644\u0639\u0644\u064a\u0627"),e.qZA()()()(),e.TgZ(19,"div",13),e.O4$(),e.TgZ(20,"svg",14),e._UZ(21,"path",15)(22,"path",16)(23,"path",17)(24,"path",18)(25,"path",19)(26,"path",20)(27,"path",21),e.qZA()()()()(),e.kcU(),e.TgZ(28,"div",4),e._UZ(29,"app-breadcrumb"),e.qZA()(),e.TgZ(30,"div",22)(31,"div",4)(32,"div",23)(33,"div",24)(34,"div",25)(35,"div",26)(36,"a",27),e.NdJ("click",function(){return r.navigateToAddEmployee()}),e._UZ(37,"i",28),e._uU(38," \u0625\u0636\u0627\u0641\u0629 \u0645\u0648\u0638\u0641 \u062c\u062f\u064a\u062f "),e.qZA()(),e.TgZ(39,"div",29),e._UZ(40,"input",30),e.qZA(),e.TgZ(41,"div",31)(42,"button",32),e._UZ(43,"i",33),e._uU(44," \u062a\u0635\u0646\u064a\u0641 "),e.qZA()()()(),e.TgZ(45,"div",34)(46,"div",35)(47,"table",36)(48,"thead")(49,"tr",37)(50,"th"),e._uU(51,"\u062a\u0631\u0642\u064a\u0645"),e.qZA(),e.TgZ(52,"th"),e._uU(53,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0648\u0638\u0641"),e.qZA(),e.TgZ(54,"th"),e._uU(55,"\u0627\u0644\u0642\u0633\u0645"),e.qZA(),e.TgZ(56,"th"),e._uU(57,"\u0627\u0644\u0645\u0633\u0645\u064a \u0627\u0644\u0648\u0638\u064a\u0641\u064a"),e.qZA(),e.TgZ(58,"th"),e._uU(59,"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641"),e.qZA(),e.TgZ(60,"th"),e._uU(61,"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a"),e.qZA()()(),e.TgZ(62,"tbody"),e.YNc(63,x,24,11,"tr",38),e.YNc(64,E,3,0,"tr",39),e.qZA()()()(),e.TgZ(65,"div",24)(66,"div",40)(67,"div",41)(68,"pagination",42),e.NdJ("pageChange",function(l){return r.onPageChange(l)}),e.qZA()()()()()()()()),2&n&&(e.xp6(63),e.Q6J("ngForOf",r.employees),e.xp6(1),e.Q6J("ngIf",0===r.employees.length&&!r.loading),e.xp6(4),e.Q6J("currentPage",r.currentPage)("totalPages",r.totalPages))},dependencies:[_.ez,_.sg,_.O5,u.Bz,u.rH,p.fQ,p.lO,v.Q,s.u5,C.L],styles:[".get[_ngcontent-%COMP%], .edit[_ngcontent-%COMP%]{color:#fff}"]})}return a})();var M=m(4286),L=m(9453),w=m(9172),B=m(377);const G=["fileInput"];function qe(a,o){1&a&&(e.TgZ(0,"h5"),e._uU(1,"\u0623\u0636\u0627\u0641\u0629 \u0645\u0648\u0638\u0641"),e.qZA())}function ke(a,o){1&a&&(e.TgZ(0,"h5"),e._uU(1,"\u062a\u0639\u062f\u064a\u0644 \u0645\u0648\u0638\u0641"),e.qZA())}function Se(a,o){1&a&&(e.TgZ(0,"div",67),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Ne(a,o){1&a&&(e.TgZ(0,"div"),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Pe(a,o){1&a&&(e.TgZ(0,"div"),e._uU(1," \u0627\u0644\u0631\u062c\u0627\u0621 \u0625\u062f\u062e\u0627\u0644 \u0628\u0631\u064a\u062f \u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a \u0635\u062d\u064a\u062d "),e.qZA())}function Ue(a,o){if(1&a&&(e.TgZ(0,"div",67),e.YNc(1,Ne,2,0,"div",12),e.YNc(2,Pe,2,0,"div",12),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.employeeForm.controls.email.errors?null:t.employeeForm.controls.email.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.employeeForm.controls.email.errors?null:t.employeeForm.controls.email.errors.email)}}function Ye(a,o){1&a&&(e.TgZ(0,"div",67),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Ve(a,o){if(1&a&&(e.TgZ(0,"div",15)(1,"label",68),e._uU(2,"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"),e.qZA(),e._UZ(3,"input",69),e.YNc(4,Ye,2,0,"div",18),e.qZA()),2&a){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",t.employeeForm.controls.password.invalid&&(t.employeeForm.controls.password.dirty||t.employeeForm.controls.password.touched))}}function Oe(a,o){1&a&&(e.TgZ(0,"div",67),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Le(a,o){1&a&&(e.TgZ(0,"div",67),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Be(a,o){1&a&&(e.TgZ(0,"div",67),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Qe(a,o){1&a&&(e.TgZ(0,"div"),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Je(a,o){1&a&&(e.TgZ(0,"div"),e._uU(1," \u0627\u0644\u0631\u062c\u0627\u0621 \u0625\u062f\u062e\u0627\u0644 \u0631\u0642\u0645 \u0647\u0627\u062a\u0641 \u0635\u062d\u064a\u062d (10-15 \u0623\u0631\u0642\u0627\u0645) "),e.qZA())}function je(a,o){if(1&a&&(e.TgZ(0,"div",67),e.YNc(1,Qe,2,0,"div",12),e.YNc(2,Je,2,0,"div",12),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.employeeForm.controls.phone.errors?null:t.employeeForm.controls.phone.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.employeeForm.controls.phone.errors?null:t.employeeForm.controls.phone.errors.pattern)}}function $e(a,o){if(1&a&&(e.TgZ(0,"option",70),e._uU(1),e.qZA()),2&a){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function ze(a,o){1&a&&(e.TgZ(0,"div",67),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function He(a,o){if(1&a&&(e.TgZ(0,"option",70),e._uU(1),e.qZA()),2&a){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function Ge(a,o){1&a&&(e.TgZ(0,"div",67),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Ke(a,o){if(1&a&&(e.TgZ(0,"option",70),e._uU(1),e.qZA()),2&a){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function We(a,o){1&a&&(e.TgZ(0,"div",67),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Xe(a,o){1&a&&(e.TgZ(0,"div",67),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function et(a,o){1&a&&(e.TgZ(0,"div"),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function tt(a,o){1&a&&(e.TgZ(0,"div"),e._uU(1," \u064a\u062c\u0628 \u0623\u0646 \u064a\u0643\u0648\u0646 \u0627\u0644\u0631\u0627\u062a\u0628 \u0642\u064a\u0645\u0629 \u0645\u0648\u062c\u0628\u0629 "),e.qZA())}function at(a,o){if(1&a&&(e.TgZ(0,"div",67),e.YNc(1,et,2,0,"div",12),e.YNc(2,tt,2,0,"div",12),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.employeeForm.controls.salary.errors?null:t.employeeForm.controls.salary.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.employeeForm.controls.salary.errors?null:t.employeeForm.controls.salary.errors.min)}}function nt(a,o){if(1&a&&(e.TgZ(0,"option",70),e._uU(1),e.qZA()),2&a){const t=o.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.name," ")}}function rt(a,o){1&a&&(e.TgZ(0,"div",67),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function it(a,o){1&a&&(e.TgZ(0,"div",67),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function ot(a,o){if(1&a&&(e.TgZ(0,"option",70),e._uU(1),e.qZA()),2&a){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function st(a,o){1&a&&(e.TgZ(0,"div",67),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function lt(a,o){if(1&a&&(e.TgZ(0,"option",70),e._uU(1),e.qZA()),2&a){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function ct(a,o){1&a&&(e.TgZ(0,"div",67),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function ut(a,o){1&a&&(e.TgZ(0,"div",67),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function dt(a,o){if(1&a&&(e.TgZ(0,"div",63),e._UZ(1,"input",72),e.TgZ(2,"a",73),e._uU(3,"\u0639\u0631\u0636 \u0627\u0644\u0645\u0644\u0641"),e.qZA()()),2&a){const t=o.$implicit;e.xp6(1),e.Q6J("value",t.original),e.xp6(1),e.Q6J("href",t.original,e.LSH)}}function mt(a,o){if(1&a&&(e.ynx(0),e.YNc(1,dt,4,2,"div",71),e.BQk()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.conversionUrls)}}function _t(a,o){if(1&a&&(e.ynx(0),e.TgZ(1,"div",57)(2,"button",74),e._UZ(3,"i",75),e._uU(4," \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0648\u0638\u0641 "),e.qZA()(),e.BQk()),2&a){const t=e.oxw();e.xp6(2),e.Q6J("disabled",!t.employeeForm.valid)}}function pt(a,o){if(1&a){const t=e.EpF();e.TgZ(0,"div",57)(1,"button",76),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.updateEmployee())}),e._uU(2," \u062a\u0639\u062f\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0648\u0638\u0641 "),e.qZA()()}if(2&a){const t=e.oxw();e.xp6(1),e.Q6J("disabled",!t.employeeForm.valid)}}const ht=function(a){return[a]};let he=(()=>{class a{constructor(t,n,r,i,l,c,d,h){this.localize=t,this.router=n,this.activatedRoute=r,this._MessagesService=i,this.employeesService=l,this.depService=c,this.internalService=d,this.currenciesService=h,this.selectedFile=null,this.isEditMode=!1,this.employeeId="",this.errorMessage="",this.departments=[],this.countries=[],this.cities=[],this.nationalitites=[],this.currencies=[],this.conversionUrls=[],this.statuses=[{value:"Active",name:"\u0646\u0634\u0637"},{value:"On Leave",name:"\u0623\u062c\u0627\u0632\u0629 \u0645\u0624\u0642\u062a\u0629"},{value:"Terminated",name:"\u0645\u0631\u0641\u0648\u062f"},{value:"Resigned",name:"\u0645\u0633\u062a\u0642\u064a\u0644"}],this.employeeForm=new s.cw({name:new s.NI("",s.kI.required),email:new s.NI("",[s.kI.required,s.kI.email]),password:new s.NI("",s.kI.required),isActive:new s.NI(!0),gender:new s.NI("",s.kI.required),type:new s.NI("",s.kI.required),date_of_birth:new s.NI("",s.kI.required),phone:new s.NI("",[s.kI.required,s.kI.pattern(/^[0-9]{10,15}$/)]),country_id:new s.NI("",s.kI.required),city_id:new s.NI("",s.kI.required),nationality_id:new s.NI(""),job_title:new s.NI("",s.kI.required),address:new s.NI("",s.kI.required),salary:new s.NI(0,[s.kI.required,s.kI.min(0)]),status:new s.NI("",s.kI.required),hire_date:new s.NI("",s.kI.required),department_id:new s.NI("",s.kI.required),currency_id:new s.NI("",s.kI.required),files:new s.NI([])})}ngOnInit(){this.getAllDepartments(),this.getAllCities(),this.getNationalities(),this.getAllCountries(),this.getListCurrencies(),this.activatedRoute.paramMap.subscribe(t=>{const n=t.get("id");n&&(this.employeeId=n,this.isEditMode=!0,this.employeesService.GetEmployeeById(n).subscribe(r=>{r&&r.data&&(this.setFormValues(r.data),this.employeeForm.get("password")?.clearValidators(),this.employeeForm.get("password")?.updateValueAndValidity())}))})}onCountryChange(t){const n=t.target.value;n&&this.getCitiesByCountry(n)}getListCurrencies(){this.currenciesService.getAllCurrencies().subscribe({next:t=>{this.currencies=t.data},error:t=>{console.log(t)}})}getCitiesByCountry(t){}setFormValues(t){this.employeeForm.patchValue({name:t.user.name,email:t.user.email,isActive:!t.isActive||t.isActive,gender:"Male"==t.user.gender?"1":"2",type:t.user.type,date_of_birth:t.user.date_of_birth,phone:t.user.phone,country_id:t.user.country.id,city_id:t.user.city.id,nationality_id:t.user.nationality?t.user.nationality.id:"",job_title:t.job_title,address:t.address,salary:t.salary,status:t.status,hire_date:t.hire_date,department_id:t.department_id,currency_id:t.currency_id,files:[]}),this.isEditMode?this.employeeForm.get("password")?.clearValidators():this.employeeForm.get("password")?.setValidators(s.kI.required),this.employeeForm.get("password")?.updateValueAndValidity(),this.conversionUrls=Array.isArray(t.user.conversion_urls)?[]:t.user.conversion_urls.custom_value_for_avatar}onFilesSelected(t){const n=Array.from(t.target.files),r=this.employeeForm.get("files")?.value||[];this.employeeForm.get("files")?.setValue([...r,...n])}discardFiles(){this.employeeForm.get("files")?.setValue([]),this.fileInput.nativeElement.value=""}getAllDepartments(t=1){this.depService.getAllDepartments().subscribe({next:n=>{this.departments=n.data},error:n=>{console.error("There was an error!",n)}})}getAllCountries(t=1){this.internalService.getCountries().subscribe({next:n=>{this.countries=n.data},error:n=>{console.error("There was an error!",n)}})}getAllCities(t=1){this.internalService.getCities().subscribe({next:n=>{this.cities=n.data},error:n=>{console.error("There was an error!",n)}})}getNationalities(t=1){this.internalService.getNationalities().subscribe({next:n=>{this.nationalitites=n.data},error:n=>{console.error("There was an error!",n)}})}updateEmployee(){if(this.employeeForm.valid){const t={...this.employeeForm.value,_method:"PATCH"};this.isEditMode&&delete t.password,this.employeesService.UpdateEmployee(this.employeeId,t).subscribe({next:n=>{this.navigateToEmployeesList(),this._MessagesService.showSuccessMessage("\u062a\u0645 \u0627\u0644\u062a\u062d\u062f\u064a\u062b",3e3)},error:n=>{n.error&&n.error.errors?this.handleValidationErrors(n.error.errors):console.error("Failed to update employee:",n)}})}else this.employeeForm.markAllAsTouched()}onSubmit(){this.employeeForm.valid?this.employeesService.AddEmployee(this.employeeForm.value).subscribe({next:n=>{this.navigateToEmployeesList(),this._MessagesService.showSuccessMessage("\u062a\u0645 \u0627\u0644\u0625\u0636\u0627\u0641\u0629",3e3)},error:n=>{n.error&&n.error.errors?this.handleValidationErrors(n.error.errors):(this.errorMessage="Failed to add employee. Please try again.",console.error("Failed to add employee:",n))}}):this.employeeForm.markAllAsTouched()}handleValidationErrors(t){for(const n in t)if(t.hasOwnProperty(n)){const r=this.employeeForm.get(n);r&&r.setErrors({serverError:t[n]})}}navigateToEmployeesList(){const t=this.localize.translateRoute("/dashboard/employees");this.router.navigate([t])}static#e=this.\u0275fac=function(n){return new(n||a)(e.Y36(p.An),e.Y36(u.F0),e.Y36(u.gz),e.Y36(M.K),e.Y36(y.M),e.Y36(L._),e.Y36(w.K),e.Y36(B.t))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-add-employee"]],viewQuery:function(n,r){if(1&n&&e.Gf(G,5),2&n){let i;e.iGM(i=e.CRH())&&(r.fileInput=i.first)}},standalone:!0,features:[e.jDz],decls:137,vars:34,consts:[[1,"container-fluid","py-5","px-1"],[1,"row","title-top","mb-3"],[1,"col-12","mb-3"],[1,"fw-bold","fs-2"],[1,"col-sm-6"],[1,"col-sm-6","text-end","back"],[1,"text-decoration-none",3,"routerLink"],[1,"fa-solid","fa-chevron-left","ms-2"],[1,"row","add-row"],[1,"col-12"],[1,"card","rounded-4"],[1,"card-body"],[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"form-group","col-md-6","mb-3"],["for","name",1,"form-label"],["type","text","formControlName","name",1,"form-control","form-control-lg"],["class","ms-error",4,"ngIf"],["for","email",1,"form-label"],["type","email","formControlName","email",1,"form-control","form-control-lg"],["class","form-group col-md-6 mb-3",4,"ngIf"],["for","gender",1,"form-label"],["formControlName","gender",1,"form-select","form-select-lg"],["value","1"],["value","2"],["for","type",1,"form-label"],["formControlName","type",1,"form-select","form-select-lg"],["value","inHouse"],["value","Client"],["for","isActive",1,"form-label"],["formControlName","isActive",1,"form-select","form-select-lg"],["value","true"],["value","false"],["for","date_of_birth",1,"form-label"],["type","date","formControlName","date_of_birth",1,"form-control","form-control-lg"],["for","phone",1,"form-label"],["type","text","formControlName","phone",1,"form-control","form-control-lg"],["for","country_id",1,"form-label"],["formControlName","country_id",1,"form-select","form-select-lg"],[3,"value",4,"ngFor","ngForOf"],["for","city_id",1,"form-label"],["formControlName","city_id",1,"form-select","form-select-lg"],["for","nationality_id",1,"form-label"],["formControlName","nationality_id",1,"form-select","form-select-lg"],["for","job_title",1,"form-label"],["type","text","formControlName","job_title",1,"form-control","form-control-lg"],["for","salary",1,"form-label"],["type","number","step","0.01","name","salary","formControlName","salary",1,"form-control","form-control-lg"],["for","status",1,"form-label"],["formControlName","status",1,"form-select","form-select-lg"],["for","hire_date",1,"form-label"],["type","date","name","hire_date","formControlName","hire_date",1,"form-control","form-control-lg"],["for","department_id",1,"form-label"],["formControlName","department_id",1,"form-select","form-select-lg"],["for","currency_id",1,"form-label"],["formControlName","currency_id",1,"form-select","form-select-lg"],[1,"form-group","col-md-12","mb-3"],["for","address",1,"form-label"],["formControlName","address","rows","4",1,"form-control","form-control-lg"],["for","files",1,"form-label"],["type","file","id","files","multiple","","accept","image/*",1,"form-control",3,"change"],["fileInput",""],[1,"mt-2"],["type","button",1,"btn","btn-danger",2,"background","red !important",3,"click"],[4,"ngIf","ngIfElse"],["editButton",""],[1,"ms-error"],["for","password",1,"form-label"],["type","password","formControlName","password",1,"form-control","form-control-lg"],[3,"value"],["class","mt-2",4,"ngFor","ngForOf"],["type","text","readonly","",1,"form-control","form-control-lg","mb-2",3,"value"],["target","_blank",1,"btn","btn-primary","mb-2",3,"href"],["type","submit",1,"btn","px-5","py-3",3,"disabled"],[1,"fa-solid","fa-circle-plus","me-2"],["type","button",1,"btn","px-5","py-3",3,"disabled","click"]],template:function(n,r){if(1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._uU(4,"\u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646"),e.qZA()(),e.TgZ(7,"div",4),e._UZ(8,"app-breadcrumb"),e.qZA(),e.TgZ(9,"div",5)(10,"a",6),e.ALo(11,"localize"),e._uU(12,"\u0631\u062c\u0648\u0639 "),e._UZ(13,"i",7),e.qZA()()(),e.TgZ(14,"div",8)(15,"div",9)(16,"div",10)(17,"div",11),e.YNc(18,qe,2,0,"h5",12),e.YNc(19,ke,2,0,"h5",12),e.TgZ(20,"form",13),e.NdJ("ngSubmit",function(){return r.onSubmit()}),e.TgZ(21,"div",14)(22,"div",15)(23,"label",16),e._uU(24,"\u0627\u0644\u0627\u0633\u0645"),e.qZA(),e._UZ(25,"input",17),e.YNc(26,Se,2,0,"div",18),e.qZA(),e.TgZ(27,"div",15)(28,"label",19),e._uU(29,"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a"),e.qZA(),e._UZ(30,"input",20),e.YNc(31,Ue,3,2,"div",18),e.qZA(),e.YNc(32,Ve,5,1,"div",21),e.TgZ(33,"div",15)(34,"label",22),e._uU(35,"\u0627\u0644\u062c\u0646\u0633"),e.qZA(),e.TgZ(36,"select",23)(37,"option",24),e._uU(38,"\u0630\u0643\u0631"),e.qZA(),e.TgZ(39,"option",25),e._uU(40,"\u0623\u0646\u062b\u0649"),e.qZA()(),e.YNc(41,Oe,2,0,"div",18),e.qZA(),e.TgZ(42,"div",15)(43,"label",26),e._uU(44,"\u0646\u0648\u0639"),e.qZA(),e.TgZ(45,"select",27)(46,"option",28),e._uU(47,"\u0645\u0648\u0638\u0641\u064a\u0646"),e.qZA(),e.TgZ(48,"option",29),e._uU(49,"\u0639\u0645\u0644\u0627\u0621"),e.qZA()(),e.YNc(50,Le,2,0,"div",18),e.qZA(),e.TgZ(51,"div",15)(52,"label",30),e._uU(53,"\u0645\u0633\u062a\u062e\u062f\u0645 \u0646\u0634\u0637 (\u0627\u062e\u062a\u064a\u0627\u0631\u064a)"),e.qZA(),e.TgZ(54,"select",31)(55,"option",32),e._uU(56,"\u0646\u0639\u0645"),e.qZA(),e.TgZ(57,"option",33),e._uU(58,"\u0644\u0627"),e.qZA()()(),e.TgZ(59,"div",15)(60,"label",34),e._uU(61,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0645\u064a\u0644\u0627\u062f"),e.qZA(),e._UZ(62,"input",35),e.YNc(63,Be,2,0,"div",18),e.qZA(),e.TgZ(64,"div",15)(65,"label",36),e._uU(66,"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641"),e.qZA(),e._UZ(67,"input",37),e.YNc(68,je,3,2,"div",18),e.qZA(),e.TgZ(69,"div",15)(70,"label",38),e._uU(71,"\u0627\u0644\u062f\u0648\u0644\u0629"),e.qZA(),e.TgZ(72,"select",39),e.YNc(73,$e,2,2,"option",40),e.qZA(),e.YNc(74,ze,2,0,"div",18),e.qZA(),e.TgZ(75,"div",15)(76,"label",41),e._uU(77,"\u0627\u0644\u0645\u062f\u064a\u0646\u0629"),e.qZA(),e.TgZ(78,"select",42),e.YNc(79,He,2,2,"option",40),e.qZA(),e.YNc(80,Ge,2,0,"div",18),e.qZA(),e.TgZ(81,"div",15)(82,"label",43),e._uU(83,"\u0627\u0644\u062c\u0646\u0633\u064a\u0629"),e.qZA(),e.TgZ(84,"select",44),e.YNc(85,Ke,2,2,"option",40),e.qZA(),e.YNc(86,We,2,0,"div",18),e.qZA(),e.TgZ(87,"div",15)(88,"label",45),e._uU(89,"\u0627\u0644\u0648\u0638\u064a\u0641\u0629"),e.qZA(),e._UZ(90,"input",46),e.YNc(91,Xe,2,0,"div",18),e.qZA(),e.TgZ(92,"div",15)(93,"label",47),e._uU(94,"\u0627\u0644\u0631\u0627\u062a\u0628"),e.qZA(),e._UZ(95,"input",48),e.YNc(96,at,3,2,"div",18),e.qZA(),e.TgZ(97,"div",15)(98,"label",49),e._uU(99,"\u0627\u0644\u062d\u0627\u0644\u0629"),e.qZA(),e.TgZ(100,"select",50),e.YNc(101,nt,2,2,"option",40),e.qZA(),e.YNc(102,rt,2,0,"div",18),e.qZA(),e.TgZ(103,"div",15)(104,"label",51),e._uU(105,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u062a\u0639\u064a\u064a\u0646"),e.qZA(),e._UZ(106,"input",52),e.YNc(107,it,2,0,"div",18),e.qZA(),e.TgZ(108,"div",15)(109,"label",53),e._uU(110,"\u0627\u0644\u0642\u0633\u0645"),e.qZA(),e.TgZ(111,"select",54),e.YNc(112,ot,2,2,"option",40),e.qZA(),e.YNc(113,st,2,0,"div",18),e.qZA(),e.TgZ(114,"div",15)(115,"label",55),e._uU(116,"\u0627\u0644\u0639\u0645\u0644\u0629"),e.qZA(),e.TgZ(117,"select",56),e.YNc(118,lt,2,2,"option",40),e.qZA(),e.YNc(119,ct,2,0,"div",18),e.qZA(),e.TgZ(120,"div",57)(121,"label",58),e._uU(122,"\u0627\u0644\u0639\u0646\u0648\u0627\u0646"),e.qZA(),e._UZ(123,"textarea",59),e.YNc(124,ut,2,0,"div",18),e.qZA(),e.TgZ(125,"div",57)(126,"label",60),e._uU(127,"\u0627\u0644\u0635\u0648\u0631"),e.qZA(),e.YNc(128,mt,2,1,"ng-container",12),e.TgZ(129,"input",61,62),e.NdJ("change",function(l){return r.onFilesSelected(l)}),e.qZA(),e.TgZ(131,"div",63)(132,"button",64),e.NdJ("click",function(){return r.discardFiles()}),e._uU(133," \u062a\u062c\u0627\u0647\u0644 \u062c\u0645\u064a\u0639 \u0627\u0644\u0635\u0648\u0631 "),e.qZA()()(),e.YNc(134,_t,5,1,"ng-container",65),e.YNc(135,pt,3,1,"ng-template",null,66,e.W1O),e.qZA()()()()()()()),2&n){const i=e.MAs(136);e.xp6(10),e.Q6J("routerLink",e.VKq(32,ht,e.lcZ(11,30,"/dashboard/employees"))),e.xp6(8),e.Q6J("ngIf",!r.isEditMode),e.xp6(1),e.Q6J("ngIf",r.isEditMode),e.xp6(1),e.Q6J("formGroup",r.employeeForm),e.xp6(6),e.Q6J("ngIf",r.employeeForm.controls.name.invalid&&(r.employeeForm.controls.name.dirty||r.employeeForm.controls.name.touched)),e.xp6(5),e.Q6J("ngIf",r.employeeForm.controls.email.invalid&&(r.employeeForm.controls.email.dirty||r.employeeForm.controls.email.touched)),e.xp6(1),e.Q6J("ngIf",!r.isEditMode),e.xp6(9),e.Q6J("ngIf",r.employeeForm.controls.gender.invalid&&(r.employeeForm.controls.gender.dirty||r.employeeForm.controls.gender.touched)),e.xp6(9),e.Q6J("ngIf",r.employeeForm.controls.type.invalid&&(r.employeeForm.controls.type.dirty||r.employeeForm.controls.type.touched)),e.xp6(13),e.Q6J("ngIf",r.employeeForm.controls.date_of_birth.invalid&&(r.employeeForm.controls.date_of_birth.dirty||r.employeeForm.controls.date_of_birth.touched)),e.xp6(5),e.Q6J("ngIf",r.employeeForm.controls.phone.invalid&&(r.employeeForm.controls.phone.dirty||r.employeeForm.controls.phone.touched)),e.xp6(5),e.Q6J("ngForOf",r.countries),e.xp6(1),e.Q6J("ngIf",r.employeeForm.controls.country_id.invalid&&(r.employeeForm.controls.country_id.dirty||r.employeeForm.controls.country_id.touched)),e.xp6(5),e.Q6J("ngForOf",r.cities),e.xp6(1),e.Q6J("ngIf",r.employeeForm.controls.city_id.invalid&&(r.employeeForm.controls.city_id.dirty||r.employeeForm.controls.city_id.touched)),e.xp6(5),e.Q6J("ngForOf",r.nationalitites),e.xp6(1),e.Q6J("ngIf",r.employeeForm.controls.nationality_id.invalid&&(r.employeeForm.controls.nationality_id.dirty||r.employeeForm.controls.nationality_id.touched)),e.xp6(5),e.Q6J("ngIf",r.employeeForm.controls.job_title.invalid&&(r.employeeForm.controls.job_title.dirty||r.employeeForm.controls.job_title.touched)),e.xp6(5),e.Q6J("ngIf",r.employeeForm.controls.salary.invalid&&(r.employeeForm.controls.salary.dirty||r.employeeForm.controls.salary.touched)),e.xp6(5),e.Q6J("ngForOf",r.statuses),e.xp6(1),e.Q6J("ngIf",r.employeeForm.controls.status.invalid&&(r.employeeForm.controls.status.dirty||r.employeeForm.controls.status.touched)),e.xp6(5),e.Q6J("ngIf",r.employeeForm.controls.hire_date.invalid&&(r.employeeForm.controls.hire_date.dirty||r.employeeForm.controls.hire_date.touched)),e.xp6(5),e.Q6J("ngForOf",r.departments),e.xp6(1),e.Q6J("ngIf",r.employeeForm.controls.department_id.invalid&&(r.employeeForm.controls.department_id.dirty||r.employeeForm.controls.department_id.touched)),e.xp6(5),e.Q6J("ngForOf",r.currencies),e.xp6(1),e.Q6J("ngIf",r.employeeForm.controls.currency_id.invalid&&(r.employeeForm.controls.currency_id.dirty||r.employeeForm.controls.currency_id.touched)),e.xp6(5),e.Q6J("ngIf",r.employeeForm.controls.address.invalid&&(r.employeeForm.controls.address.dirty||r.employeeForm.controls.address.touched)),e.xp6(4),e.Q6J("ngIf",r.isEditMode&&r.conversionUrls.length>0),e.xp6(6),e.Q6J("ngIf",!r.isEditMode)("ngIfElse",i)}},dependencies:[_.ez,_.sg,_.O5,s.u5,s._Y,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.JL,s.UX,s.sg,s.u,p.fQ,p.lO,u.Bz,u.rH,C.L],styles:[".ms-error[_ngcontent-%COMP%]{color:red;margin-top:5px}"]})}return a})(),gt=(()=>{class a{static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-main-employee"]],standalone:!0,features:[e.jDz],decls:1,vars:0,template:function(n,r){1&n&&e._UZ(0,"router-outlet")},dependencies:[_.ez,u.lC]})}return a})();function vt(a,o){1&a&&e._UZ(0,"img",45)}function ft(a,o){if(1&a&&e._UZ(0,"img",46),2&a){const t=e.oxw(2);e.Q6J("src",t.conversionUrls[0].original,e.LSH)}}const yt=function(a){return["/dashboard/employees/add-employee",a]};function bt(a,o){if(1&a){const t=e.EpF();e.TgZ(0,"div",26)(1,"div",27)(2,"div",28)(3,"div",29)(4,"div",30)(5,"div",31)(6,"h4",32),e._uU(7),e.qZA(),e.YNc(8,vt,1,0,"img",33),e.YNc(9,ft,1,1,"img",34),e.qZA(),e.TgZ(10,"div",35)(11,"a",36),e.ALo(12,"localize"),e._UZ(13,"i",37),e._uU(14," \u062a\u0639\u062f\u064a\u0644 "),e.qZA(),e.TgZ(15,"button",38),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.deleteEmployee(r.employee.id,r.employee.user.name))}),e._UZ(16,"i",39),e._uU(17," \u062d\u0630\u0641 "),e.qZA()()(),e.TgZ(18,"div",30)(19,"div",40)(20,"h5"),e._uU(21),e.qZA()(),e.TgZ(22,"div",41)(23,"h5"),e._uU(24),e.qZA()()(),e.TgZ(25,"div",42)(26,"div",43)(27,"ul",44)(28,"li",11),e._uU(29),e.qZA(),e.TgZ(30,"li",11),e._uU(31),e.qZA(),e.TgZ(32,"li",11),e._uU(33),e.qZA(),e.TgZ(34,"li",11),e._uU(35),e.qZA()()(),e.TgZ(36,"div",43)(37,"ul",44)(38,"li",11),e._uU(39),e.qZA(),e.TgZ(40,"li",11),e._uU(41),e.qZA(),e.TgZ(42,"li",11),e._uU(43),e.qZA(),e.TgZ(44,"li",11),e._uU(45),e.qZA()()(),e.TgZ(46,"div",43)(47,"ul",44)(48,"li",11),e._uU(49),e.qZA(),e.TgZ(50,"li",11),e._uU(51,"\u062d\u0627\u0644\u0629 \u0627\u0644\u062e\u062f\u0645\u0629 \u0627\u0644\u0639\u0633\u0643\u0631\u064a\u0629: STATIC NAME"),e.qZA(),e.TgZ(52,"li",11),e._uU(53,"\u0646\u0648\u0639 \u0627\u0644\u0639\u0645\u064a\u0644: STATIC NAME"),e.qZA(),e.TgZ(54,"li",11),e._uU(55),e.qZA()()(),e.TgZ(56,"div",43)(57,"ul",44)(58,"li",11),e._uU(59),e.qZA(),e.TgZ(60,"li",11),e._uU(61),e.qZA(),e.TgZ(62,"li",11),e._uU(63),e.qZA()()()()()()()()}if(2&a){const t=e.oxw();e.xp6(7),e.hij("\u0627\u0633\u0645 \u0627\u0644\u0645\u0648\u0638\u0641: ",t.employee.user.name,""),e.xp6(1),e.Q6J("ngIf",0===t.conversionUrls.length),e.xp6(1),e.Q6J("ngIf",t.conversionUrls.length>0),e.xp6(2),e.Q6J("routerLink",e.lcZ(12,19,e.VKq(21,yt,t.employee.id))),e.xp6(10),e.hij("\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641: ",t.employee.user.phone,""),e.xp6(3),e.hij("\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a: ",t.employee.user.email,""),e.xp6(5),e.hij(" \u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0645\u064a\u0644\u0627\u062f: ",t.employee.user.date_of_birth," "),e.xp6(2),e.hij(" \u0627\u0644\u062c\u0646\u0633: ","1"===t.employee.user.gender?"\u0630\u0643\u0631":"\u0623\u0646\u062b\u0649"," "),e.xp6(2),e.hij("\u0627\u0644\u062f\u0648\u0644\u0629: ",t.employee.user.country.name,""),e.xp6(2),e.hij("\u0627\u0644\u0645\u062f\u064a\u0646\u0629: ",t.employee.user.city.name,""),e.xp6(4),e.hij(" \u0645\u0633\u062a\u062e\u062f\u0645 \u0646\u0634\u0637: ",t.employee.isActive?"\u0646\u0639\u0645":"\u0644\u0627"," "),e.xp6(2),e.hij(" \u0627\u0644\u0646\u0648\u0639: ","inHouse"===t.employee.user.type?"\u0645\u0648\u0638\u0641\u064a\u0646":"\u0639\u0645\u0644\u0627\u0621"," "),e.xp6(2),e.hij(" \u0627\u0644\u062c\u0646\u0633\u064a\u0629: ",t.employee.user.nationality.name," "),e.xp6(2),e.hij("\u0627\u0644\u0631\u0627\u062a\u0628: ",t.employee.salary,""),e.xp6(4),e.hij(" \u0627\u0644\u0642\u0633\u0645 \u0627\u0644\u062a\u0627\u0628\u0639 \u0644\u0647: ",t.employee.department.name," "),e.xp6(6),e.hij("\u0627\u0644\u0639\u0645\u0644\u0629: ",t.employee.currency.name,""),e.xp6(4),e.hij("\u0627\u0644\u0645\u0633\u0645\u0649 \u0627\u0644\u0648\u0638\u064a\u0641\u064a: ",t.employee.job_title,""),e.xp6(2),e.hij("\u0627\u0644\u0639\u0646\u0648\u0627\u0646: ",t.employee.address,""),e.xp6(2),e.hij("\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u062a\u0639\u064a\u064a\u0646: ",t.employee.hire_date,"")}}let Ct=(()=>{class a{constructor(t,n,r,i,l){this.localize=t,this.router=n,this.activatedRoute=r,this.employeesService=i,this.dialog=l,this.employeeId="",this.conversionUrls=[]}ngOnInit(){this.activatedRoute.paramMap.subscribe(t=>{const n=t.get("id");n&&(this.employeeId=n,this.loadEmployeeData(n))})}loadEmployeeData(t){this.employeesService.GetEmployeeById(t).subscribe(n=>{n&&n.data&&(this.employee=n.data,console.log(this.employee),this.conversionUrls=Array.isArray(this.employee.user.conversion_urls)?[]:this.employee.user.conversion_urls.custom_value_for_avatar)})}navigateToEmployeesList(){const t=this.localize.translateRoute("/dashboard/employees");this.router.navigate([t])}deleteEmployee(t,n){this.dialog.open(T.$,{width:"500px",data:{title:"\u062a\u0627\u0643\u064a\u062f \u0627\u0644\u062d\u0630\u0641",message:`\u0647\u0644 \u062a\u0631\u064a\u062f \u062d\u0630\u0641 ${n}\u061f`}}).afterClosed().subscribe(i=>{i&&this.employeesService.DeleteEmployee(t.toString()).subscribe({next:()=>{this.navigateToEmployeesList()},error:l=>{console.error("There was an error deleting the employee!",l)}})})}static#e=this.\u0275fac=function(n){return new(n||a)(e.Y36(p.An),e.Y36(u.F0),e.Y36(u.gz),e.Y36(y.M),e.Y36(f.uw))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-view-employee"]],standalone:!0,features:[e.jDz],decls:34,vars:1,consts:[[1,"container-fluid","py-5","px-1"],[1,"row","title-top","mb-3","align-items-center"],[1,"col-12","mb-3"],[1,"fw-bold","fs-2"],[1,"card","p-3","shadow-sm","mb-2"],[1,"row","g-0","align-items-center"],[1,"col-md-9"],[1,"d-flex","align-items-center"],[1,"me-3"],["src","https://via.placeholder.com/80","alt","User Image",1,"rounded-circle","img-fluid"],[1,"f-w"],[1,"mb-1"],[1,"col-lg-3","col-md-4","col-12","mb-sm-0","mb-3","action","text-center"],["xmlns","http://www.w3.org/2000/svg","width","78","height","56","viewBox","0 0 78 56","fill","none"],["d","M36.8462 17.3939C36.5263 17.4166 36.2051 17.4166 35.8852 17.3939C35.2789 17.3126 34.8502 17.0021 34.8502 16.3367C34.8502 12.793 34.8502 9.25425 34.8502 5.7204C34.8502 4.81107 35.5081 4.60406 36.107 4.53753C36.0322 3.65853 36.0471 2.77422 36.1513 1.89823C36.3559 1.32869 36.7399 0.840954 37.2455 0.508357C37.7491 0.159257 38.3517 -0.018455 38.9642 0.00151669C39.5766 0.0214884 40.1664 0.238078 40.6462 0.619247C41.7847 1.52119 42.0287 2.72625 41.3855 4.4636C42.7458 4.82586 42.8197 4.92197 42.8197 6.37099V15.3165C42.8197 17.2756 42.8197 17.2904 40.7349 17.4531V18.355C40.7349 24.883 40.661 31.4036 40.7867 37.9242C40.7867 39.7725 41.4373 41.6207 41.8143 43.4542C42.0804 44.7553 42.3318 46.0713 42.6941 47.3503C42.8617 47.8482 43.1761 48.2838 43.596 48.5997C44.4684 49.2577 45.422 49.7973 46.5532 50.5145H31.028C32.0408 49.8713 32.8393 49.302 33.6969 48.8289C34.0383 48.65 34.3332 48.3938 34.5579 48.0805C34.7825 47.7673 34.9307 47.4058 34.9906 47.025C35.5303 44.3931 36.1439 41.7686 36.7132 39.1367C36.8131 38.685 36.8651 38.2241 36.8684 37.7616C36.8684 31.241 36.8684 24.7179 36.8684 18.1924C36.8906 17.9632 36.8684 17.7414 36.8462 17.3939Z","fill","#1B183F"],["d","M11.0672 13.364C10.4992 13.1421 10.0049 12.7654 9.64027 12.2766C9.27566 11.7879 9.05543 11.2066 9.00458 10.599C8.9365 9.79643 9.18673 8.99929 9.70126 8.37963C10.2158 7.75998 10.9534 7.3675 11.7548 7.28693C12.1589 7.22788 12.5708 7.25318 12.9647 7.36123C13.3585 7.46927 13.7257 7.65772 14.0431 7.91471C14.3605 8.17169 14.6212 8.49163 14.8089 8.85437C14.9965 9.21711 15.107 9.61478 15.1333 10.0223C15.1333 11.6414 16.1535 12.3215 17.3068 12.9352C17.8619 13.2285 18.4744 13.397 19.1014 13.4289C19.7284 13.4609 20.3548 13.3554 20.9368 13.12C22.9698 12.3363 24.9955 11.4344 27.0064 10.5324C29.0172 9.6305 31.0429 8.75074 33.3199 8.83206C33.5491 8.83206 33.7709 8.87642 34.0592 8.906V11.4122C32.6485 11.5749 31.2487 11.8218 29.8674 12.1515C28.6075 12.5776 27.3899 13.1196 26.2301 13.7706C22.3045 15.8036 18.2236 16.5208 13.7656 15.19C14.2388 16.2842 14.675 17.2748 15.1111 18.2655C17.4399 23.5293 19.7909 28.7931 22.0827 34.0717C22.4671 34.9588 22.822 35.6686 24.0048 35.2694V37.1472H0V35.4542C0.0443576 35.4542 0.096107 35.3655 0.140465 35.3729C1.1459 35.5577 1.5673 35.0254 1.95173 34.1456C4.9089 27.3737 7.86607 20.6239 10.875 13.8667C10.9341 13.7262 10.9785 13.5931 11.0672 13.364ZM22.0014 35.2841C21.2029 33.5098 20.4636 31.8464 19.7243 30.1904C17.5212 25.2174 15.3034 20.2468 13.0707 15.2787C12.8923 14.9631 12.6763 14.6701 12.4275 14.4064L12.2501 14.5321V35.2841H22.0014ZM11.6956 35.2841V13.9924L11.4886 13.9406L2.03305 35.2767L11.6956 35.2841Z","fill","#1B183F"],["d","M63.9341 15.1908C61.9378 15.7989 59.84 16.0017 57.7642 15.7871C55.6884 15.5726 53.6764 14.945 51.8467 13.9414C49.2961 12.618 46.7456 11.2725 43.6553 11.6791V8.95113C44.9646 8.70347 46.3176 8.83954 47.5514 9.34295C49.651 10.171 51.6767 11.169 53.7689 12.0192C55.0131 12.5531 56.302 12.9761 57.6206 13.2834C59.5427 13.6974 61.0731 12.862 62.2559 11.3686C62.4087 11.1337 62.4861 10.8577 62.4777 10.5776C62.5369 8.80327 63.4979 7.55386 65.0061 7.31728C65.7468 7.17817 66.5129 7.31191 67.1627 7.69379C67.8125 8.07567 68.302 8.67987 68.5409 9.3947C68.7798 10.1095 68.7518 10.8867 68.4622 11.5825C68.1725 12.2783 67.6408 12.8457 66.9652 13.1799L66.5882 13.4091L68.429 17.6157C70.8391 23.0717 73.264 28.5203 75.6593 33.9838C76.0511 34.8561 76.3247 35.8098 77.6924 35.2258V37.1479H53.6727V35.4476C53.6727 35.4476 53.7467 35.3588 53.7836 35.3662C54.826 35.5658 55.2031 34.967 55.5801 34.1094C58.1972 28.1137 60.8735 22.1402 63.5275 16.1593C63.631 15.8783 63.7641 15.59 63.9341 15.1908ZM65.3684 14.3924C65.0948 14.5772 64.8509 14.6437 64.7843 14.7842C61.7384 21.5931 58.7073 28.4021 55.6467 35.2775H65.3684V14.3924ZM75.6297 35.2997L66.189 13.9266L65.9894 14.0153V35.2997H75.6297Z","fill","#1B183F"],["d","M59.5204 53.7812V55.9991H18.1791V53.7812H59.5204Z","fill","#1B183F"],["d","M76.7608 38.0137C75.7924 39.544 74.8978 40.9709 73.9589 42.4495C73.8689 42.5332 73.7629 42.5979 73.6473 42.6398C73.5318 42.6817 73.4089 42.7 73.2862 42.6934C68.2048 42.6934 63.1308 42.6934 58.0641 42.6934C57.7775 42.6705 57.5117 42.5349 57.3248 42.3164C56.4081 40.9487 55.5431 39.544 54.6042 38.0506L76.7608 38.0137Z","fill","#1B183F"],["d","M23.1029 37.998C22.127 39.5358 21.2325 40.9552 20.3009 42.3969C20.121 42.566 19.8825 42.6588 19.6356 42.6556C14.5591 42.6556 9.48509 42.6556 4.41354 42.6556C4.2752 42.6555 4.13832 42.6273 4.01123 42.5727C3.88414 42.518 3.76949 42.4381 3.67425 42.3377C2.75014 40.9479 1.87037 39.521 0.916687 37.998H23.1029Z","fill","#1B183F"],["d","M26.5997 52.8731V51.3945H50.9964V52.8731H26.5997Z","fill","#1B183F"],[1,"col-sm-9","mb-sm-0","mb-2"],[1,"col-sm-3","back","text-sm-end"],[1,"text-decoration-none","d-inline-block",3,"click"],[1,"fa-solid","fa-chevron-left","ms-2"],["class","row add-row",4,"ngIf"],[1,"row","add-row"],[1,"col-12"],[1,"card","rounded-2","border-0","shadow-lg","rounded-4"],[1,"card-body"],[1,"row","mb-3"],[1,"col-md-8","order-md-1","order-2"],[1,"mb-3"],["src","../../../../../../../assets/images/Profile-Photo.png","alt","",4,"ngIf"],["alt","","class","rounded-2","width","190",3,"src",4,"ngIf"],[1,"col-md-4","order-md-2","order-1","mb-md-0","mb-4","action","text-center"],[1,"btn","edit","col-sm-10","col-12","py-2","mb-2",3,"routerLink"],[1,"fa-solid","fa-pen-to-square"],[1,"btn","delete","col-sm-10","col-12","py-2",3,"click"],[1,"fa-regular","fa-trash-can"],[1,"col-xl-3","col-lg-4","col-md-6"],[1,"col-xl-9","col-lg-8","col-md-6"],[1,"row"],[1,"col-lg-3","col-md-6"],[1,"list-unstyled","mb-0"],["src","../../../../../../../assets/images/Profile-Photo.png","alt",""],["alt","","width","190",1,"rounded-2",3,"src"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._uU(4,"\u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0648\u0638\u0641"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0627\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0648\u0627\u0631\u062f \u0627\u0644\u0628\u0634\u0631\u064a\u0629"),e.qZA()(),e.TgZ(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"div",8),e._UZ(12,"img",9),e.qZA(),e.TgZ(13,"div",10)(14,"h5",11),e._uU(15,"\u0645\u0643\u062a\u0628 \u0627\u0644\u0645\u0633\u062a\u0634\u0627\u0631: --"),e.qZA(),e.TgZ(16,"p",11),e._uU(17,"\u0645\u062d\u0627\u0645\u0649 \u0628\u0627\u0644\u0646\u0642\u0636 \u0648\u0627\u0644\u0625\u062f\u0627\u0631\u064a\u0629 \u0648\u0627\u0644\u062f\u0633\u062a\u0648\u0631\u064a\u0629 \u0627\u0644\u0639\u0644\u064a\u0627"),e.qZA()()()(),e.TgZ(18,"div",12),e.O4$(),e.TgZ(19,"svg",13),e._UZ(20,"path",14)(21,"path",15)(22,"path",16)(23,"path",17)(24,"path",18)(25,"path",19)(26,"path",20),e.qZA()()()(),e.kcU(),e.TgZ(27,"div",21),e._UZ(28,"app-breadcrumb"),e.qZA(),e.TgZ(29,"div",22)(30,"a",23),e.NdJ("click",function(){return r.navigateToEmployeesList()}),e._uU(31," \u0631\u062c\u0648\u0639 "),e._UZ(32,"i",24),e.qZA()()(),e.YNc(33,bt,64,23,"div",25),e.qZA()),2&n&&(e.xp6(33),e.Q6J("ngIf",r.employee))},dependencies:[_.ez,_.O5,u.Bz,u.rH,p.fQ,p.lO,s.u5,C.L],styles:[".card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{box-shadow:var(--box-shadow1);border-radius:4px}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{color:var(--main-color)}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   a.edit[_ngcontent-%COMP%]{background-color:var(--stroke-color2);color:#fff}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   button.delete[_ngcontent-%COMP%]{background-color:var(--danger);color:#fff}.otherInfo[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:#000}"]})}return a})();var I=m(9862),b=m(553);let re=(()=>{class a{constructor(t){this.http=t,this.leaveRequestNotesUrl=`${b.N.url}employee/leave/request/notes/get/all`,this.newLeaveRequestNotesUrl=`${b.N.url}employee/leave/request/notes`,this.deleteLeaveRequestNoteUrl=`${b.N.url}employee/leave/request/notes`,this.leaveRequestsUrl=`${b.N.url}employee/leave/requests`,this.createLeaveRequestUrl=`${b.N.url}employee/leave/requests`,this.updateLeaveRequestUrl=`${b.N.url}employee/leave/requests/`,this.deleteLeaveRequestUrl=`${b.N.url}employee/leave/requests`,this.getLeaveRequestUrl=`${b.N.url}employee/leave/requests/`}getAllLeaveRequests(t){let n=new I.LE;return t&&Object.keys(t).forEach(r=>{n=n.append(r,t[r])}),this.http.get(this.leaveRequestsUrl,{params:n})}getAllLeaveRequestNotes(t){let n=new I.LE;return t&&Object.keys(t).forEach(r=>{n=n.append(r,t[r])}),this.http.get(this.leaveRequestNotesUrl,{params:n})}createLeaveRequestNotes(t,n){let r=new I.LE;return n&&Object.keys(n).forEach(i=>{r=r.append(i,n[i])}),this.http.post(this.newLeaveRequestNotesUrl,t,{params:r,headers:{"Content-Type":"application/json"}})}deleteLeaveRequestNote(t){return this.http.delete(`${this.deleteLeaveRequestNoteUrl}/${t}`)}createLeaveRequest(t,n){let r=new I.LE;return n&&Object.keys(n).forEach(i=>{r=r.append(i,n[i])}),this.http.post(this.createLeaveRequestUrl,t,{params:r,headers:{"Content-Type":"application/json"}})}getLeaveRequestById(t){return this.http.get(`${this.getLeaveRequestUrl}${t}`)}updateLeaveRequest(t,n,r){const i=`${this.updateLeaveRequestUrl}${t}`;let l=new I.LE;r&&Object.keys(r).forEach(d=>{l=l.append(d,r[d])});const c=new FormData;return Object.keys(n).forEach(d=>{const h=n[d];null!=h&&(Array.isArray(h)?h.forEach((Z,R)=>{c.append(`${d}[${R}]`,Z.toString())}):c.append(d,h.toString()))}),this.http.post(i,c,{params:l})}deleteLeaveRequest(t){return this.http.delete(`${this.deleteLeaveRequestUrl}/${t}`)}static#e=this.\u0275fac=function(n){return new(n||a)(e.LFG(I.eN))};static#t=this.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();const At=function(a,o){return[a,o]};function It(a,o){if(1&a){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td",25)(10,"a",26),e.NdJ("click",function(){const i=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.viewRequest(i))}),e._UZ(11,"i",27),e._uU(12," \u0639\u0631\u0636"),e.qZA(),e.TgZ(13,"a",28),e.ALo(14,"localize"),e._UZ(15,"i",29),e._uU(16," \u062a\u0639\u062f\u064a\u0644 "),e.qZA(),e.TgZ(17,"button",30),e.NdJ("click",function(){const i=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.deleteRequest(i.id,i.employee.first_name+" "+i.leave_reason))}),e._UZ(18,"i",31),e._uU(19," \u062d\u0630\u0641 "),e.qZA()()()}if(2&a){const t=o.$implicit,n=o.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.AsE(" ",t.employee.first_name," ",t.employee.last_name," "),e.xp6(2),e.Oqu(t.leave_reason),e.xp6(2),e.Oqu(t.status),e.xp6(5),e.Q6J("routerLink",e.WLB(8,At,e.lcZ(14,6,"/dashboard/employees/add-leave-req"),t.id))}}function xt(a,o){1&a&&(e.TgZ(0,"tr")(1,"td",32),e._uU(2,"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a"),e.qZA()())}let Dt=(()=>{class a{constructor(t,n,r,i,l,c){this.employeeService=t,this.empLeaveRequestService=n,this.localize=r,this.router=i,this.activatedRoute=l,this.dialog=c,this.searchQuery="",this.leaveRequests=[],this.leaveRequestNotes=[],this.loading=!1,console.log("leave reques tworking")}ngOnInit(){this.getListLeaveRequests()}getListLeaveRequests(t=1){this.loading=!0,this.empLeaveRequestService.getAllLeaveRequests().subscribe({next:n=>{this.leaveRequests=n.data,this.currentPage=n.current_page,this.totalPages=n.last_page,this.loading=!1,this.getListLeaveRequestNotes()},error:n=>{this.loading=!1,console.error("There was an error!",n)}})}getListLeaveRequestNotes(t=1){this.loading=!0,this.empLeaveRequestService.getAllLeaveRequestNotes().subscribe({next:n=>{console.log(n.data);const r=n.data;this.leaveRequestNotes=this.leaveRequests.map(i=>({requestId:i.id,notes:r&&r.length>0?r.filter(l=>l.employeeLeaveRequest.id===i.id):[]})),console.log(this.leaveRequestNotes),this.currentPage=n.current_page,this.totalPages=n.last_page,this.loading=!1},error:n=>{this.loading=!1,console.error("There was an error!",n)}})}navigateToAddRequest(){const t=this.localize.translateRoute("/dashboard/employees/add-leave-req");this.router.navigate([t])}deleteRequest(t,n){this.dialog.open(T.$,{width:"500px",data:{title:"\u062a\u0627\u0643\u064a\u062f \u0627\u0644\u062d\u0630\u0641",message:`\u061f ${n} \u0647\u0644 \u062a\u0631\u064a\u062f \u062d\u0630\u0641  `}}).afterClosed().subscribe(i=>{i&&this.empLeaveRequestService.deleteLeaveRequest(t.toString()).subscribe({next:l=>{this.getListLeaveRequests()},error:l=>{console.error("There was an error deleting the admin!",l)}})})}viewRequest(t){if(t){const n=this.localize.translateRoute("/dashboard/employees/show-leave-req");this.router.navigate([n,t.id])}else console.error("No employee to view")}onPageChange(t){this.getListLeaveRequests(t)}static#e=this.\u0275fac=function(n){return new(n||a)(e.Y36(y.M),e.Y36(re),e.Y36(p.An),e.Y36(u.F0),e.Y36(u.gz),e.Y36(f.uw))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-leave-requests"]],standalone:!0,features:[e.jDz],decls:45,vars:4,consts:[[1,"container-fluid","py-5","px-1"],[1,"row","title-top","mb-3"],[1,"col-12","mb-3"],[1,"fw-bold","fs-2"],[1,"col-12"],[1,"row","list-row"],[1,"card","rounded-4"],[1,"card-body"],[1,"row","align-items-center"],[1,"col-xl-3","col-lg-3","addNew","mb-2"],[1,"btn","w-100","py-3","rounded-4",3,"click"],[1,"fa-solid","fa-circle-plus","me-2"],[1,"col-xl-7","col-lg-6","col-sm-8","searchINP","mb-2"],["type","search","placeholder","\u0627\u0644\u0628\u062d\u062b",1,"form-control","form-control-lg","rounded-3"],[1,"col-xl-2","col-lg-3","col-sm-4","text-center","filterBTN","mb-2"],[1,"btn","px-sm-4","px-5"],[1,"fa-solid","fa-sliders"],[1,"card-body","p-0"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"row"],[1,"col-md-12"],[3,"currentPage","totalPages","pageChange"],[1,"action"],[1,"btn","get","mx-2",3,"click"],[1,"fa-solid","fa-eye"],[1,"btn","edit","mx-2",3,"routerLink"],[1,"fa-solid","fa-pen-to-square"],[1,"btn","delete","bg-danger","mx-2",3,"click"],[1,"fa-regular","fa-trash-can"],["colspan","6",1,"text-center"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._UZ(4,"app-breadcrumb"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646"),e.qZA()(),e.TgZ(7,"div",4),e._UZ(8,"app-breadcrumb"),e.qZA()(),e.TgZ(9,"div",5)(10,"div",4)(11,"div",6)(12,"div",7)(13,"div",8)(14,"div",9)(15,"a",10),e.NdJ("click",function(){return r.navigateToAddRequest()}),e._UZ(16,"i",11),e._uU(17," \u0625\u0636\u0627\u0641\u0629 \u0625\u0630\u0646 "),e.qZA()(),e.TgZ(18,"div",12),e._UZ(19,"input",13),e.qZA(),e.TgZ(20,"div",14)(21,"button",15),e._UZ(22,"i",16),e._uU(23," \u062a\u0635\u0646\u064a\u0641 "),e.qZA()()()(),e.TgZ(24,"div",17)(25,"div",18)(26,"table",19)(27,"thead")(28,"tr")(29,"th"),e._uU(30,"\u062a\u0631\u0642\u064a\u0645"),e.qZA(),e.TgZ(31,"th"),e._uU(32,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0648\u0638\u0641"),e.qZA(),e.TgZ(33,"th"),e._uU(34,"\u0633\u0628\u0628 \u0627\u0644\u0625\u0630\u0646"),e.qZA(),e.TgZ(35,"th"),e._uU(36,"\u0627\u0644\u062d\u0627\u0644\u0629"),e.qZA(),e._UZ(37,"th"),e.qZA()(),e.TgZ(38,"tbody"),e.YNc(39,It,20,11,"tr",20),e.YNc(40,xt,3,0,"tr",21),e.qZA()()()(),e.TgZ(41,"div",7)(42,"div",22)(43,"div",23)(44,"pagination",24),e.NdJ("pageChange",function(l){return r.onPageChange(l)}),e.qZA()()()()()()()()),2&n&&(e.xp6(39),e.Q6J("ngForOf",r.leaveRequests),e.xp6(1),e.Q6J("ngIf",0===r.leaveRequests.length&&!r.loading),e.xp6(4),e.Q6J("currentPage",r.currentPage)("totalPages",r.totalPages))},dependencies:[_.ez,_.sg,_.O5,u.Bz,u.rH,p.fQ,p.lO,v.Q,s.u5,C.L]})}return a})();var q=m(4170),k=m(2032),Mt=m(4300),K=m(3651),wt=m(8484),S=m(2296),ge=m(7888),A=m(3680),ie=m(8645);m(7394),m(6028),m(2831),m(2495),m(6825);let Et=(()=>{class a{constructor(){this.changes=new ie.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(t,n){return`${t} \u2013 ${n}`}formatYearRangeLabel(t,n){return`${t} to ${n}`}static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();const Ot={provide:new e.OlP("mat-datepicker-scroll-strategy"),deps:[K.aV],useFactory:function Vt(a){return()=>a.scrollStrategies.reposition()}};let Y=(()=>{class a{static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275mod=e.oAB({type:a});static#a=this.\u0275inj=e.cJS({providers:[Et,Ot],imports:[_.ez,S.ot,K.U8,Mt.rt,wt.eL,A.BQ,ge.ZD]})}return a})();m(2096),m(8504);var Ce=m(9315);m(9397),m(7398),m(6306),m(4716),m(3020),m(6593);let V=(()=>{class a{static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275mod=e.oAB({type:a});static#a=this.\u0275inj=e.cJS({imports:[A.BQ,A.BQ]})}return a})();const oa={provide:new e.OlP("mat-menu-scroll-strategy"),deps:[K.aV],useFactory:function ia(a){return()=>a.scrollStrategies.reposition()}};let O=(()=>{class a{static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275mod=e.oAB({type:a});static#a=this.\u0275inj=e.cJS({providers:[oa],imports:[_.ez,A.si,A.BQ,K.U8,ge.ZD,A.BQ]})}return a})();function sa(a,o){1&a&&(e.TgZ(0,"h5"),e._uU(1,"\u0625\u0636\u0627\u0641\u0629 \u0637\u0644\u0628 \u0625\u062c\u0627\u0632\u0629"),e.qZA())}function la(a,o){1&a&&(e.TgZ(0,"h5"),e._uU(1,"\u062a\u0639\u062f\u064a\u0644 \u0637\u0644\u0628 \u0625\u062c\u0627\u0632\u0629"),e.qZA())}function ca(a,o){1&a&&(e.TgZ(0,"div",33),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function ua(a,o){if(1&a&&(e.TgZ(0,"div",33),e._uU(1),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.leaveRequestForm.controls.from_date.errors?null:t.leaveRequestForm.controls.from_date.errors.serverError[0]," ")}}function da(a,o){if(1&a&&(e.TgZ(0,"div",33),e.YNc(1,ca,2,0,"div",18),e.YNc(2,ua,2,1,"div",18),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.leaveRequestForm.controls.from_date.errors?null:t.leaveRequestForm.controls.from_date.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.leaveRequestForm.controls.from_date.errors?null:t.leaveRequestForm.controls.from_date.errors.serverError)}}function ma(a,o){1&a&&(e.TgZ(0,"div",33),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function _a(a,o){if(1&a&&(e.TgZ(0,"div",33),e._uU(1),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.leaveRequestForm.controls.to_date.errors?null:t.leaveRequestForm.controls.to_date.errors.serverError[0]," ")}}function pa(a,o){if(1&a&&(e.TgZ(0,"div",33),e.YNc(1,ma,2,0,"div",18),e.YNc(2,_a,2,1,"div",18),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.leaveRequestForm.controls.to_date.errors?null:t.leaveRequestForm.controls.to_date.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.leaveRequestForm.controls.to_date.errors?null:t.leaveRequestForm.controls.to_date.errors.serverError)}}function ha(a,o){1&a&&(e.TgZ(0,"div",33),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function ga(a,o){if(1&a&&(e.TgZ(0,"div",33),e._uU(1),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.leaveRequestForm.controls.leave_reason.errors?null:t.leaveRequestForm.controls.leave_reason.errors.serverError[0]," ")}}function va(a,o){if(1&a&&(e.TgZ(0,"div",33),e.YNc(1,ha,2,0,"div",18),e.YNc(2,ga,2,1,"div",18),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.leaveRequestForm.controls.leave_reason.errors?null:t.leaveRequestForm.controls.leave_reason.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.leaveRequestForm.controls.leave_reason.errors?null:t.leaveRequestForm.controls.leave_reason.errors.serverError)}}function fa(a,o){1&a&&(e.TgZ(0,"div",33),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function ya(a,o){if(1&a&&(e.TgZ(0,"div",33),e._uU(1),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.leaveRequestForm.controls.leave_setting_id.errors?null:t.leaveRequestForm.controls.leave_setting_id.errors.serverError[0]," ")}}function ba(a,o){if(1&a&&(e.TgZ(0,"div",33),e.YNc(1,fa,2,0,"div",18),e.YNc(2,ya,2,1,"div",18),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.leaveRequestForm.controls.leave_setting_id.errors?null:t.leaveRequestForm.controls.leave_setting_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.leaveRequestForm.controls.leave_setting_id.errors?null:t.leaveRequestForm.controls.leave_setting_id.errors.serverError)}}function Ca(a,o){if(1&a&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&a){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.AsE(" ",t.first_name,"",t.last_name," ")}}function Aa(a,o){1&a&&(e.TgZ(0,"div",33),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Ia(a,o){if(1&a&&(e.TgZ(0,"div",33),e._uU(1),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.leaveRequestForm.controls.employee_id.errors?null:t.leaveRequestForm.controls.employee_id.errors.serverError[0]," ")}}function xa(a,o){if(1&a&&(e.TgZ(0,"div",33),e.YNc(1,Aa,2,0,"div",18),e.YNc(2,Ia,2,1,"div",18),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.leaveRequestForm.controls.employee_id.errors?null:t.leaveRequestForm.controls.employee_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.leaveRequestForm.controls.employee_id.errors?null:t.leaveRequestForm.controls.employee_id.errors.serverError)}}function Da(a,o){if(1&a&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&a){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function Ma(a,o){1&a&&(e.TgZ(0,"div",33),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function wa(a,o){if(1&a&&(e.TgZ(0,"div",33),e._uU(1),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.leaveRequestForm.controls.status.errors?null:t.leaveRequestForm.controls.status.errors.serverError[0]," ")}}function Ta(a,o){if(1&a&&(e.TgZ(0,"div",33),e.YNc(1,Ma,2,0,"div",18),e.YNc(2,wa,2,1,"div",18),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.leaveRequestForm.controls.status.errors?null:t.leaveRequestForm.controls.status.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.leaveRequestForm.controls.status.errors?null:t.leaveRequestForm.controls.status.errors.serverError)}}function Fa(a,o){1&a&&(e.ynx(0),e.TgZ(1,"div",35)(2,"button",36),e._UZ(3,"i",37),e._uU(4," \u0625\u0636\u0627\u0641\u0629 \u0637\u0644\u0628 \u0627\u0644\u0625\u062c\u0627\u0632\u0629 "),e.qZA()(),e.BQk())}function Za(a,o){if(1&a){const t=e.EpF();e.TgZ(0,"div",35)(1,"button",38),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.updateLeaveRequest())}),e._uU(2," \u062a\u0639\u062f\u064a\u0644 \u0637\u0644\u0628 \u0627\u0644\u0625\u062c\u0627\u0632\u0629 "),e.qZA()()}if(2&a){const t=e.oxw();e.xp6(1),e.Q6J("disabled",!t.leaveRequestForm.valid)}}function Ea(a,o){if(1&a){const t=e.EpF();e.TgZ(0,"li",43)(1,"div",44),e._uU(2),e.qZA(),e.TgZ(3,"button",45),e.NdJ("click",function(){const i=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.deleteNote(i))}),e._UZ(4,"i",46),e.qZA()()}if(2&a){const t=o.$implicit;e.xp6(2),e.hij(" ",t.notes," ")}}function Ra(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"\u0625\u0636\u0627\u0641\u0629 \u0645\u0644\u062d\u0648\u0638\u0629"),e.qZA())}function qa(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"\u0625\u0627\u0644\u063a\u0627\u0621"),e.qZA())}function ka(a,o){if(1&a){const t=e.EpF();e.TgZ(0,"div",35)(1,"label",47),e._uU(2,"\u0645\u0644\u062d\u0648\u0638\u0629"),e.qZA(),e._UZ(3,"input",48),e.TgZ(4,"button",49),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.saveNote())}),e._UZ(5,"i",50),e._uU(6,"\u062d\u0641\u0638 \u0627\u0644\u0645\u0644\u062d\u0648\u0638\u0629 "),e.qZA()()}}function Sa(a,o){if(1&a){const t=e.EpF();e.TgZ(0,"div",9)(1,"h2",39),e._uU(2,"\u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0627\u062a"),e.qZA(),e.TgZ(3,"div",2)(4,"ul",40),e.YNc(5,Ea,5,1,"li",41),e.qZA()(),e.TgZ(6,"div",35)(7,"button",38),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.addNote())}),e._UZ(8,"i",37),e.YNc(9,Ra,2,0,"span",12),e.YNc(10,qa,2,0,"span",12),e.qZA()(),e.YNc(11,ka,7,0,"div",42),e.qZA()}if(2&a){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.leaveRequestNotes),e.xp6(2),e.Q6J("disabled",!t.leaveRequestForm.valid),e.xp6(2),e.Q6J("ngIf",!t.showNoteInput),e.xp6(1),e.Q6J("ngIf",t.showNoteInput),e.xp6(1),e.Q6J("ngIf",t.showNoteInput)}}const Na=function(a){return[a]};let Te=(()=>{class a{constructor(t,n,r,i,l,c,d,h){this.localize=t,this.router=n,this.activatedRoute=r,this._MessagesService=i,this.employeesService=l,this.leaveReqService=c,this.dashboardService=d,this.dialog=h,this.countries=[],this.cities=[],this.departments=[],this.currencies=[],this.isEditMode=!1,this.leaveRequestId="",this.employees=[],this.showNoteInput=!1,this.noteText="",this.roles=[{id:"Super_Admin",name:"Super Admin"},{id:"Admin",name:"Admin"},{id:"user",name:"user"}],this.statusOptions=[{id:"acceptable",name:"acceptable"},{id:"rejected",name:"rejected"}],this.errorMessage="",this.leaveRequestForm=new s.cw({from_date:new s.NI("",s.kI.required),to_date:new s.NI("",s.kI.required),days:new s.NI([],s.kI.required),leave_reason:new s.NI("",s.kI.required),leave_setting_id:new s.NI("",s.kI.required),employee_id:new s.NI("",s.kI.required),status:new s.NI("Pending",s.kI.required),noteText:new s.NI("")}),this.leaveRequestNotes=[]}ngOnInit(){this.getEmployees(),this.activatedRoute.paramMap.subscribe(t=>{const n=t.get("id");n&&(this.leaveRequestId=n,this.isEditMode=!0,this.leaveReqService.getLeaveRequestById(n).subscribe(r=>{r&&r.data&&(this.getListLeaveRequestNotes(),this.setFormValues(r.data))}))}),this.leaveRequestForm.get("from_date")?.valueChanges.subscribe(()=>{this.updateDaysArray()}),this.leaveRequestForm.get("to_date")?.valueChanges.subscribe(()=>{this.updateDaysArray()})}getEmployees(){this.employeesService.GetEmployeesList().subscribe({next:t=>{t&&t.data&&(this.employees=t.data)},error:t=>{console.error(t)}})}getCountries(){this.dashboardService.getCountries().subscribe({next:t=>{t&&t.data&&(this.countries=t.data)},error:t=>{console.error(t)}})}getDepartments(){this.dashboardService.getDepartments().subscribe({next:t=>{t&&t.data&&(this.departments=t.data)},error:t=>{console.error(t)}})}onCountryChange(t){this.dashboardService.getCityByCountry(t.target.value).subscribe({next:i=>{i&&i.data&&i.data.cities&&(this.cities=i.data.cities)},error:i=>{console.error(i)}})}getListLeaveRequestNotes(t=1){this.leaveReqService.getAllLeaveRequestNotes().subscribe({next:n=>{console.log(n.data);const r=n.data.filter(i=>i.employeeLeaveRequest&&i.employeeLeaveRequest.id==this.leaveRequestId);this.leaveRequestNotes=r,console.log(this.leaveRequestNotes)},error:n=>{console.error("There was an error!",n)}})}setFormValues(t){if(t.days&&t.days.length>0){if(t.days&&t.days.length>0){const n=new Date(t.days[0]),r=new Date(t.days[t.days.length-1]),i=l=>`${l.getFullYear()}-${("0"+(l.getMonth()+1)).slice(-2)}-${("0"+l.getDate()).slice(-2)}`;this.leaveRequestForm.get("from_date")?.setValue(i(n)),this.leaveRequestForm.get("to_date")?.setValue(i(r))}console.log(this.leaveRequestForm.value)}this.leaveRequestForm.patchValue({days:t.days,leave_reason:t.leave_reason,leave_setting_id:t.leave_setting_id,employee_id:t.employee.id,status:t.status})}addNote(){this.showNoteInput=!this.showNoteInput}deleteNote(t){console.log(t),this.dialog.open(T.$,{width:"500px",data:{title:"\u062a\u0627\u0643\u064a\u062f \u0627\u0644\u062d\u0630\u0641",message:"\u061f \u0627\u0644\u0645\u0644\u062d\u0648\u0638\u0629 \u0647\u0644 \u062a\u0631\u064a\u062f \u062d\u0630\u0641  "}}).afterClosed().subscribe(i=>{i&&this.leaveReqService.deleteLeaveRequestNote(t.id.toString()).subscribe({next:l=>{this.getListLeaveRequestNotes()},error:l=>{console.error("There was an error deleting the admin!",l)}})})}saveNote(){this.leaveRequestForm.valid&&(console.log(this.leaveRequestForm.value),this.leaveReqService.createLeaveRequestNotes({employee_leave_request_id:this.leaveRequestId,employee_id:this.leaveRequestForm.controls.employee_id.value,parent_id:this.leaveRequestId,notes:this.leaveRequestForm.controls.noteText.value}).subscribe({next:n=>{this._MessagesService.showSuccessMessage("\u062a\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0644\u062d\u0648\u0638\u0629",3e3),this.showNoteInput=!1,this.noteText="",this.getListLeaveRequestNotes()},error:n=>{console.error("Failed to add note:",n),this._MessagesService.showErrorMessage(n,"\u0641\u0634\u0644 \u0641\u064a \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0644\u062d\u0648\u0638\u0629",3e3)}}))}updateLeaveRequest(){if(this.leaveRequestForm.valid){const t={...this.leaveRequestForm.value,days:this.generateDaysArray(new Date(this.leaveRequestForm.value.from_date),new Date(this.leaveRequestForm.value.to_date)),_method:"PATCH"};delete t.noteText,this.leaveReqService.updateLeaveRequest(this.leaveRequestId,t).subscribe({next:n=>{this.navigateToLeaveRequestsList(),this._MessagesService.showSuccessMessage("\u062a\u0645 \u0627\u0644\u062a\u062d\u062f\u064a\u062b",3e3)},error:n=>{n.error&&n.error.errors?this.handleValidationErrors(n.error.errors):console.error("Failed to update leave request:",n)}})}else this.leaveRequestForm.markAllAsTouched()}onSubmit(){if(this.updateDaysArray(),this.leaveRequestForm.valid){const t=new Date(this.leaveRequestForm.value.from_date),n=new Date(this.leaveRequestForm.value.to_date),r=this.generateDaysArray(t,n),i={...this.leaveRequestForm.value,days:r};delete i.noteText,this.leaveReqService.createLeaveRequest(i).subscribe({next:l=>{this.navigateToLeaveRequestsList(),this._MessagesService.showSuccessMessage("\u062a\u0645 \u0627\u0644\u0625\u0636\u0627\u0641\u0629",3e3)},error:l=>{l.error&&l.error.errors?this.handleValidationErrors(l.error.errors):(this.errorMessage="Failed to add leave request. Please try again.",console.error("Failed to add leave request:",l))}})}else this.leaveRequestForm.markAllAsTouched()}updateDaysArray(){const t=new Date(this.leaveRequestForm.value.from_date),n=new Date(this.leaveRequestForm.value.to_date);if(t&&n&&t<=n){const r=this.generateDaysArray(t,n);this.leaveRequestForm.get("days")?.setValue(r)}else this.leaveRequestForm.get("days")?.setValue([])}generateDaysArray(t,n){const r=[],i=new Date(t);for(;i<=n;)r.push(("00"+i.getDate()).slice(-2)+"-"+("00"+(i.getMonth()+1)).slice(-2)+"-"+i.getFullYear()),i.setDate(i.getDate()+1);return r}handleValidationErrors(t){for(const n in t)if(t.hasOwnProperty(n)){const r=this.leaveRequestForm.get(n);r&&r.setErrors({serverError:t[n]})}}navigateToLeaveRequestsList(){const t=this.localize.translateRoute("/dashboard/employees/leave-requests");this.router.navigate([t])}static#e=this.\u0275fac=function(n){return new(n||a)(e.Y36(p.An),e.Y36(u.F0),e.Y36(u.gz),e.Y36(M.K),e.Y36(y.M),e.Y36(re),e.Y36(w.K),e.Y36(f.uw))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-create-leave-request"]],standalone:!0,features:[e.jDz],decls:58,vars:19,consts:[[1,"container-fluid","py-5","px-1"],[1,"row","title-top","mb-3"],[1,"col-12","mb-3"],[1,"fw-bold","fs-2"],[1,"col-sm-6"],[1,"col-sm-6","text-end","back"],[1,"text-decoration-none",3,"routerLink"],[1,"fa-solid","fa-chevron-left","ms-2"],[1,"row","add-row"],[1,"col-12"],[1,"card","rounded-4"],[1,"card-body"],[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"form-group","col-md-6","mb-3"],["for","from_date",1,"form-label"],["formControlName","from_date","type","date","name","from_date","id","from_date",1,"form-control","form-control-lg"],["class","ms-error",4,"ngIf"],["for","to_date",1,"form-label"],["formControlName","to_date","type","date","name","to_date","id","to_date",1,"form-control","form-control-lg"],["for","leave_reason",1,"form-label"],["formControlName","leave_reason","type","text","name","leave_reason","id","leave_reason",1,"form-control","form-control-lg"],["for","leave_setting_id",1,"form-label"],["formControlName","leave_setting_id","type","text","name","leave_setting_id","id","leave_setting_id",1,"form-control","form-control-lg"],["for","employee_id",1,"form-label"],["name","employee_id","id","employee_id","formControlName","employee_id",1,"form-select","form-select-lg"],[3,"value",4,"ngFor","ngForOf"],["for","status",1,"form-label"],["name","status","id","status","formControlName","status",1,"form-select","form-select-lg"],[4,"ngIf","ngIfElse"],["editButton",""],["class","col-12",4,"ngIf"],[1,"ms-error"],[3,"value"],[1,"form-group","col-md-12","mb-3"],["type","submit",1,"btn","px-5","py-3"],[1,"fa-solid","fa-circle-plus","me-2"],["type","button",1,"btn","px-5","py-3",3,"disabled","click"],[1,"text-center"],[1,"list-group","list-group-numbered"],["class","list-group-item list-group-item-primary d-flex",4,"ngFor","ngForOf"],["class","form-group col-md-12 mb-3",4,"ngIf"],[1,"list-group-item","list-group-item-primary","d-flex"],[1,"ms-2","me-auto"],[1,"btn","btn-link","p-0",3,"click"],[1,"fa-regular","fa-trash-can","text-danger"],["for","note",1,"form-label"],["formControlName","noteText","type","text","name","note","id","note",1,"form-control","form-control-lg"],["type","button",1,"btn","px-5","py-3","mt-2",3,"click"],[1,"fa-solid","fa-save","me-2"]],template:function(n,r){if(1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._UZ(4,"app-breadcrumb"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0637\u0644\u0628\u0627\u062a \u0627\u0644\u0625\u062c\u0627\u0632\u0629"),e.qZA()(),e.TgZ(7,"div",4),e._UZ(8,"app-breadcrumb"),e.qZA(),e.TgZ(9,"div",5)(10,"a",6),e.ALo(11,"localize"),e._uU(12,"\u0631\u062c\u0648\u0639 "),e._UZ(13,"i",7),e.qZA()()(),e.TgZ(14,"div",8)(15,"div",9)(16,"div",10)(17,"div",11),e.YNc(18,sa,2,0,"h5",12),e.YNc(19,la,2,0,"h5",12),e.TgZ(20,"form",13),e.NdJ("ngSubmit",function(){return r.onSubmit()}),e.TgZ(21,"div",14)(22,"div",15)(23,"label",16),e._uU(24,"\u0645\u0646 \u062a\u0627\u0631\u064a\u062e"),e.qZA(),e._UZ(25,"input",17),e.YNc(26,da,3,2,"div",18),e.qZA(),e.TgZ(27,"div",15)(28,"label",19),e._uU(29,"\u0625\u0644\u0649 \u062a\u0627\u0631\u064a\u062e"),e.qZA(),e._UZ(30,"input",20),e.YNc(31,pa,3,2,"div",18),e.qZA(),e.TgZ(32,"div",15)(33,"label",21),e._uU(34,"\u0633\u0628\u0628 \u0627\u0644\u0625\u062c\u0627\u0632\u0629"),e.qZA(),e._UZ(35,"input",22),e.YNc(36,va,3,2,"div",18),e.qZA(),e.TgZ(37,"div",15)(38,"label",23),e._uU(39,"\u0625\u0639\u062f\u0627\u062f \u0627\u0644\u0625\u062c\u0627\u0632\u0629"),e.qZA(),e._UZ(40,"input",24),e.YNc(41,ba,3,2,"div",18),e.qZA(),e.TgZ(42,"div",15)(43,"label",25),e._uU(44,"\u0627\u0644\u0645\u0648\u0638\u0641"),e.qZA(),e.TgZ(45,"select",26),e.YNc(46,Ca,2,3,"option",27),e.qZA(),e.YNc(47,xa,3,2,"div",18),e.qZA(),e.TgZ(48,"div",15)(49,"label",28),e._uU(50,"\u0627\u0644\u062d\u0627\u0644\u0629"),e.qZA(),e.TgZ(51,"select",29),e.YNc(52,Da,2,2,"option",27),e.qZA(),e.YNc(53,Ta,3,2,"div",18),e.qZA(),e.YNc(54,Fa,5,0,"ng-container",30),e.YNc(55,Za,3,1,"ng-template",null,31,e.W1O),e.YNc(57,Sa,12,5,"div",32),e.qZA()()()()()()()),2&n){const i=e.MAs(56);e.xp6(10),e.Q6J("routerLink",e.VKq(17,Na,e.lcZ(11,15,"/dashboard/employees/leave-requests"))),e.xp6(8),e.Q6J("ngIf",!r.isEditMode),e.xp6(1),e.Q6J("ngIf",r.isEditMode),e.xp6(1),e.Q6J("formGroup",r.leaveRequestForm),e.xp6(6),e.Q6J("ngIf",r.leaveRequestForm.controls.from_date.invalid&&(r.leaveRequestForm.controls.from_date.dirty||r.leaveRequestForm.controls.from_date.touched)),e.xp6(5),e.Q6J("ngIf",r.leaveRequestForm.controls.to_date.invalid&&(r.leaveRequestForm.controls.to_date.dirty||r.leaveRequestForm.controls.to_date.touched)),e.xp6(5),e.Q6J("ngIf",r.leaveRequestForm.controls.leave_reason.invalid&&(r.leaveRequestForm.controls.leave_reason.dirty||r.leaveRequestForm.controls.leave_reason.touched)),e.xp6(5),e.Q6J("ngIf",r.leaveRequestForm.controls.leave_setting_id.invalid&&(r.leaveRequestForm.controls.leave_setting_id.dirty||r.leaveRequestForm.controls.leave_setting_id.touched)),e.xp6(5),e.Q6J("ngForOf",r.employees),e.xp6(1),e.Q6J("ngIf",r.leaveRequestForm.controls.employee_id.invalid&&(r.leaveRequestForm.controls.employee_id.dirty||r.leaveRequestForm.controls.employee_id.touched)),e.xp6(5),e.Q6J("ngForOf",r.statusOptions),e.xp6(1),e.Q6J("ngIf",r.leaveRequestForm.controls.status.invalid&&(r.leaveRequestForm.controls.status.dirty||r.leaveRequestForm.controls.status.touched)),e.xp6(1),e.Q6J("ngIf",!r.isEditMode)("ngIfElse",i),e.xp6(3),e.Q6J("ngIf",r.isEditMode)}},dependencies:[_.ez,_.sg,_.O5,C.L,u.rH,p.fQ,p.lO,s.UX,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.sg,s.u,q.lN,k.c,Y,A.XK,S.ot,V,s.u5,O]})}return a})();function Pa(a,o){1&a&&(e.TgZ(0,"h5"),e._uU(1,"\u0625\u0636\u0627\u0641\u0629 \u0637\u0644\u0628 \u0625\u062c\u0627\u0632\u0629"),e.qZA())}function Ua(a,o){1&a&&(e.TgZ(0,"h5"),e._uU(1,"\u062a\u0639\u062f\u064a\u0644 \u0637\u0644\u0628 \u0625\u062c\u0627\u0632\u0629"),e.qZA())}function Ya(a,o){1&a&&(e.TgZ(0,"div",30),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Va(a,o){if(1&a&&(e.TgZ(0,"div",30),e._uU(1),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.leaveRequestForm.controls.from_date.errors?null:t.leaveRequestForm.controls.from_date.errors.serverError[0]," ")}}function Oa(a,o){if(1&a&&(e.TgZ(0,"div",30),e.YNc(1,Ya,2,0,"div",18),e.YNc(2,Va,2,1,"div",18),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.leaveRequestForm.controls.from_date.errors?null:t.leaveRequestForm.controls.from_date.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.leaveRequestForm.controls.from_date.errors?null:t.leaveRequestForm.controls.from_date.errors.serverError)}}function La(a,o){1&a&&(e.TgZ(0,"div",30),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Ba(a,o){if(1&a&&(e.TgZ(0,"div",30),e._uU(1),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.leaveRequestForm.controls.to_date.errors?null:t.leaveRequestForm.controls.to_date.errors.serverError[0]," ")}}function Qa(a,o){if(1&a&&(e.TgZ(0,"div",30),e.YNc(1,La,2,0,"div",18),e.YNc(2,Ba,2,1,"div",18),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.leaveRequestForm.controls.to_date.errors?null:t.leaveRequestForm.controls.to_date.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.leaveRequestForm.controls.to_date.errors?null:t.leaveRequestForm.controls.to_date.errors.serverError)}}function Ja(a,o){1&a&&(e.TgZ(0,"div",30),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function ja(a,o){if(1&a&&(e.TgZ(0,"div",30),e._uU(1),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.leaveRequestForm.controls.leave_reason.errors?null:t.leaveRequestForm.controls.leave_reason.errors.serverError[0]," ")}}function $a(a,o){if(1&a&&(e.TgZ(0,"div",30),e.YNc(1,Ja,2,0,"div",18),e.YNc(2,ja,2,1,"div",18),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.leaveRequestForm.controls.leave_reason.errors?null:t.leaveRequestForm.controls.leave_reason.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.leaveRequestForm.controls.leave_reason.errors?null:t.leaveRequestForm.controls.leave_reason.errors.serverError)}}function za(a,o){1&a&&(e.TgZ(0,"div",30),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Ha(a,o){if(1&a&&(e.TgZ(0,"div",30),e._uU(1),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.leaveRequestForm.controls.leave_setting_id.errors?null:t.leaveRequestForm.controls.leave_setting_id.errors.serverError[0]," ")}}function Ga(a,o){if(1&a&&(e.TgZ(0,"div",30),e.YNc(1,za,2,0,"div",18),e.YNc(2,Ha,2,1,"div",18),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.leaveRequestForm.controls.leave_setting_id.errors?null:t.leaveRequestForm.controls.leave_setting_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.leaveRequestForm.controls.leave_setting_id.errors?null:t.leaveRequestForm.controls.leave_setting_id.errors.serverError)}}function Ka(a,o){if(1&a&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&a){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.AsE(" ",t.first_name,"",t.last_name," ")}}function Wa(a,o){1&a&&(e.TgZ(0,"div",30),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Xa(a,o){if(1&a&&(e.TgZ(0,"div",30),e._uU(1),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.leaveRequestForm.controls.employee_id.errors?null:t.leaveRequestForm.controls.employee_id.errors.serverError[0]," ")}}function en(a,o){if(1&a&&(e.TgZ(0,"div",30),e.YNc(1,Wa,2,0,"div",18),e.YNc(2,Xa,2,1,"div",18),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.leaveRequestForm.controls.employee_id.errors?null:t.leaveRequestForm.controls.employee_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.leaveRequestForm.controls.employee_id.errors?null:t.leaveRequestForm.controls.employee_id.errors.serverError)}}function tn(a,o){if(1&a&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&a){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function an(a,o){1&a&&(e.TgZ(0,"div",30),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function nn(a,o){if(1&a&&(e.TgZ(0,"div",30),e._uU(1),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.leaveRequestForm.controls.status.errors?null:t.leaveRequestForm.controls.status.errors.serverError[0]," ")}}function rn(a,o){if(1&a&&(e.TgZ(0,"div",30),e.YNc(1,an,2,0,"div",18),e.YNc(2,nn,2,1,"div",18),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.leaveRequestForm.controls.status.errors?null:t.leaveRequestForm.controls.status.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.leaveRequestForm.controls.status.errors?null:t.leaveRequestForm.controls.status.errors.serverError)}}const on=function(a){return[a]};let sn=(()=>{class a{constructor(t,n,r,i,l,c,d){this.localize=t,this.router=n,this.activatedRoute=r,this._MessagesService=i,this.employeesService=l,this.leaveReqService=c,this.dashboardService=d,this.countries=[],this.cities=[],this.departments=[],this.currencies=[],this.isEditMode=!1,this.leaveRequestId="",this.employees=[],this.roles=[{id:"Super_Admin",name:"Super Admin"},{id:"Admin",name:"Admin"},{id:"user",name:"user"}],this.statusOptions=[{id:"acceptable",name:"acceptable"},{id:"rejected",name:"rejected"}],this.errorMessage="",this.leaveRequestForm=new s.cw({from_date:new s.NI("",s.kI.required),to_date:new s.NI("",s.kI.required),days:new s.NI([],s.kI.required),leave_reason:new s.NI("",s.kI.required),leave_setting_id:new s.NI("",s.kI.required),employee_id:new s.NI("",s.kI.required),status:new s.NI("Pending",s.kI.required)}),this.loading=!1,this.leaveRequestNotes=[]}ngOnInit(){this.getEmployees(),this.activatedRoute.paramMap.subscribe(t=>{const n=t.get("id");n&&(this.leaveRequestId=n,this.isEditMode=!0,this.leaveReqService.getLeaveRequestById(n).subscribe(r=>{r&&r.data&&(this.getListLeaveRequestNotes(),this.setFormValues(r.data))}))}),this.leaveRequestForm.get("from_date")?.valueChanges.subscribe(()=>{this.updateDaysArray()}),this.leaveRequestForm.get("to_date")?.valueChanges.subscribe(()=>{this.updateDaysArray()})}getEmployees(){this.employeesService.GetEmployeesList().subscribe({next:t=>{t&&t.data&&(this.employees=t.data)},error:t=>{console.error(t)}})}getCountries(){this.dashboardService.getCountries().subscribe({next:t=>{t&&t.data&&(this.countries=t.data)},error:t=>{console.error(t)}})}getDepartments(){this.dashboardService.getDepartments().subscribe({next:t=>{t&&t.data&&(this.departments=t.data)},error:t=>{console.error(t)}})}getListLeaveRequestNotes(t=1){this.loading=!0,this.leaveReqService.getAllLeaveRequestNotes().subscribe({next:n=>{console.log(n.data);const r=n.data.filter(i=>i.employeeLeaveRequest.id==this.leaveRequestId);this.leaveRequestNotes=r,console.log(this.leaveRequestNotes),this.loading=!1},error:n=>{this.loading=!1,console.error("There was an error!",n)}})}onCountryChange(t){this.dashboardService.getCityByCountry(t.target.value).subscribe({next:i=>{i&&i.data&&i.data.cities&&(this.cities=i.data.cities)},error:i=>{console.error(i)}})}setFormValues(t){if(t.days&&t.days.length>0){if(t.days&&t.days.length>0){const n=new Date(t.days[0]),r=new Date(t.days[t.days.length-1]),i=l=>`${l.getFullYear()}-${("0"+(l.getMonth()+1)).slice(-2)}-${("0"+l.getDate()).slice(-2)}`;this.leaveRequestForm.get("from_date")?.setValue(i(n)),this.leaveRequestForm.get("to_date")?.setValue(i(r))}console.log(this.leaveRequestForm.value)}this.leaveRequestForm.patchValue({days:t.days,leave_reason:t.leave_reason,leave_setting_id:t.leave_setting_id,employee_id:t.employee.id,status:t.status})}updateDaysArray(){const t=new Date(this.leaveRequestForm.value.from_date),n=new Date(this.leaveRequestForm.value.to_date);if(t&&n&&t<=n){const r=this.generateDaysArray(t,n);this.leaveRequestForm.get("days")?.setValue(r)}else this.leaveRequestForm.get("days")?.setValue([])}generateDaysArray(t,n){const r=[],i=new Date(t);for(;i<=n;)r.push(("00"+i.getDate()).slice(-2)+"-"+("00"+(i.getMonth()+1)).slice(-2)+"-"+i.getFullYear()),i.setDate(i.getDate()+1);return r}handleValidationErrors(t){for(const n in t)if(t.hasOwnProperty(n)){const r=this.leaveRequestForm.get(n);r&&r.setErrors({serverError:t[n]})}}navigateToLeaveRequestsList(){const t=this.localize.translateRoute("/dashboard/employees/leave-requests");this.router.navigate([t])}static#e=this.\u0275fac=function(n){return new(n||a)(e.Y36(p.An),e.Y36(u.F0),e.Y36(u.gz),e.Y36(M.K),e.Y36(y.M),e.Y36(re),e.Y36(w.K))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-view-leave-request"]],standalone:!0,features:[e.jDz],decls:54,vars:16,consts:[[1,"container-fluid","py-5","px-1"],[1,"row","title-top","mb-3"],[1,"col-12","mb-3"],[1,"fw-bold","fs-2"],[1,"col-sm-6"],[1,"col-sm-6","text-end","back"],[1,"text-decoration-none",3,"routerLink"],[1,"fa-solid","fa-chevron-left","ms-2"],[1,"row","add-row"],[1,"col-12"],[1,"card","rounded-4"],[1,"card-body"],[4,"ngIf"],[3,"formGroup"],[1,"row"],[1,"form-group","col-md-6","mb-3"],["for","from_date",1,"form-label"],["formControlName","from_date","type","date","name","from_date","id","from_date","readonly","",1,"form-control","form-control-lg"],["class","ms-error",4,"ngIf"],["for","to_date",1,"form-label"],["formControlName","to_date","type","date","name","to_date","id","to_date","readonly","",1,"form-control","form-control-lg"],["for","leave_reason",1,"form-label"],["formControlName","leave_reason","type","text","name","leave_reason","id","leave_reason","readonly","",1,"form-control","form-control-lg"],["for","leave_setting_id",1,"form-label"],["formControlName","leave_setting_id","type","text","name","leave_setting_id","id","leave_setting_id","readonly","",1,"form-control","form-control-lg"],["for","employee_id",1,"form-label"],["name","employee_id","id","employee_id","formControlName","employee_id","readonly","",1,"form-select","form-select-lg","readonly-select"],[3,"value",4,"ngFor","ngForOf"],["for","status",1,"form-label"],["name","status","id","status","formControlName","status",1,"form-select","form-select-lg","readonly-select"],[1,"ms-error"],[3,"value"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._UZ(4,"app-breadcrumb"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0637\u0644\u0628\u0627\u062a \u0627\u0644\u0625\u062c\u0627\u0632\u0629"),e.qZA()(),e.TgZ(7,"div",4),e._UZ(8,"app-breadcrumb"),e.qZA(),e.TgZ(9,"div",5)(10,"a",6),e.ALo(11,"localize"),e._uU(12,"\u0631\u062c\u0648\u0639 "),e._UZ(13,"i",7),e.qZA()()(),e.TgZ(14,"div",8)(15,"div",9)(16,"div",10)(17,"div",11),e.YNc(18,Pa,2,0,"h5",12),e.YNc(19,Ua,2,0,"h5",12),e.TgZ(20,"form",13)(21,"div",14)(22,"div",15)(23,"label",16),e._uU(24,"\u0645\u0646 \u062a\u0627\u0631\u064a\u062e"),e.qZA(),e._UZ(25,"input",17),e.YNc(26,Oa,3,2,"div",18),e.qZA(),e.TgZ(27,"div",15)(28,"label",19),e._uU(29,"\u0625\u0644\u0649 \u062a\u0627\u0631\u064a\u062e"),e.qZA(),e._UZ(30,"input",20),e.YNc(31,Qa,3,2,"div",18),e.qZA(),e.TgZ(32,"div",15)(33,"label",21),e._uU(34,"\u0633\u0628\u0628 \u0627\u0644\u0625\u062c\u0627\u0632\u0629"),e.qZA(),e._UZ(35,"input",22),e.YNc(36,$a,3,2,"div",18),e.qZA(),e.TgZ(37,"div",15)(38,"label",23),e._uU(39,"\u0625\u0639\u062f\u0627\u062f \u0627\u0644\u0625\u062c\u0627\u0632\u0629"),e.qZA(),e._UZ(40,"input",24),e.YNc(41,Ga,3,2,"div",18),e.qZA(),e.TgZ(42,"div",15)(43,"label",25),e._uU(44,"\u0627\u0644\u0645\u0648\u0638\u0641"),e.qZA(),e.TgZ(45,"select",26),e.YNc(46,Ka,2,3,"option",27),e.qZA(),e.YNc(47,en,3,2,"div",18),e.qZA(),e.TgZ(48,"div",15)(49,"label",28),e._uU(50,"\u0627\u0644\u062d\u0627\u0644\u0629"),e.qZA(),e.TgZ(51,"select",29),e.YNc(52,tn,2,2,"option",27),e.qZA(),e.YNc(53,rn,3,2,"div",18),e.qZA()()()()()()()()),2&n&&(e.xp6(10),e.Q6J("routerLink",e.VKq(14,on,e.lcZ(11,12,"/dashboard/employees/leave-requests"))),e.xp6(8),e.Q6J("ngIf",!r.isEditMode),e.xp6(1),e.Q6J("ngIf",r.isEditMode),e.xp6(1),e.Q6J("formGroup",r.leaveRequestForm),e.xp6(6),e.Q6J("ngIf",r.leaveRequestForm.controls.from_date.invalid&&(r.leaveRequestForm.controls.from_date.dirty||r.leaveRequestForm.controls.from_date.touched)),e.xp6(5),e.Q6J("ngIf",r.leaveRequestForm.controls.to_date.invalid&&(r.leaveRequestForm.controls.to_date.dirty||r.leaveRequestForm.controls.to_date.touched)),e.xp6(5),e.Q6J("ngIf",r.leaveRequestForm.controls.leave_reason.invalid&&(r.leaveRequestForm.controls.leave_reason.dirty||r.leaveRequestForm.controls.leave_reason.touched)),e.xp6(5),e.Q6J("ngIf",r.leaveRequestForm.controls.leave_setting_id.invalid&&(r.leaveRequestForm.controls.leave_setting_id.dirty||r.leaveRequestForm.controls.leave_setting_id.touched)),e.xp6(5),e.Q6J("ngForOf",r.employees),e.xp6(1),e.Q6J("ngIf",r.leaveRequestForm.controls.employee_id.invalid&&(r.leaveRequestForm.controls.employee_id.dirty||r.leaveRequestForm.controls.employee_id.touched)),e.xp6(5),e.Q6J("ngForOf",r.statusOptions),e.xp6(1),e.Q6J("ngIf",r.leaveRequestForm.controls.status.invalid&&(r.leaveRequestForm.controls.status.dirty||r.leaveRequestForm.controls.status.touched)))},dependencies:[_.ez,_.sg,_.O5,C.L,u.rH,p.fQ,p.lO,s.UX,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.sg,s.u,q.lN,k.c,Y,A.XK,S.ot,V,O],styles:[".readonly-select[_ngcontent-%COMP%]{background-color:#fff;pointer-events:none;opacity:1;appearance:none}"]})}return a})(),z=(()=>{class a{constructor(t){this.http=t,this.medicalInsurancesListUrl=`${b.N.url}employee/medical/insurances`,this.createMedicalInsuranceUrl=`${b.N.url}employee/medical/insurances`,this.updateMedicalInsuranceUrl=`${b.N.url}employee/medical/insurances/`,this.deleteMedicalInsuranceUrl=`${b.N.url}employee/medical/insurances`,this.getMedicalInsuranceUrl=`${b.N.url}employee/medical/insurances/`}getAllMedicalInsurances(t){let n=new I.LE;return t&&Object.keys(t).forEach(r=>{n=n.append(r,t[r])}),this.http.get(this.medicalInsurancesListUrl,{params:n})}createMedicalInsurance(t,n){let r=new I.LE;return n&&Object.keys(n).forEach(i=>{r=r.append(i,n[i])}),this.http.post(this.createMedicalInsuranceUrl,t,{params:r,headers:{"Content-Type":"application/json"}})}getMedicalInsuranceById(t){return this.http.get(`${this.getMedicalInsuranceUrl}${t}`)}updateMedicalInsurance(t,n,r){const i=`${this.updateMedicalInsuranceUrl}${t}`;let l=new I.LE;r&&Object.keys(r).forEach(d=>{l=l.append(d,r[d])});const c=new FormData;return Object.keys(n).forEach(d=>{const h=n[d];null!=h&&c.append(d,h.toString())}),this.http.post(i,c,{params:l})}deleteMedicalInsurance(t){return this.http.delete(`${this.deleteMedicalInsuranceUrl}/${t}`)}static#e=this.\u0275fac=function(n){return new(n||a)(e.LFG(I.eN))};static#t=this.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();const ln=function(a,o){return[a,o]};function cn(a,o){if(1&a){const t=e.EpF();e.ynx(0),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td",25)(10,"a",26),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,i=e.oxw();return e.KtG(i.viewInsurance(r))}),e._UZ(11,"i",27),e._uU(12," \u0639\u0631\u0636"),e.qZA(),e.TgZ(13,"a",28),e.ALo(14,"localize"),e._UZ(15,"i",29),e._uU(16," \u062a\u0639\u062f\u064a\u0644 "),e.qZA(),e.TgZ(17,"button",30),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,i=e.oxw();return e.KtG(i.deleteInsurance(r.id,r.employee.first_name+" "+r.employee.last_name))}),e._UZ(18,"i",31),e._uU(19," \u062d\u0630\u0641 "),e.qZA()(),e.BQk()}if(2&a){const t=e.oxw(),n=t.index,r=t.$implicit;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.AsE(" ",r.employee.first_name," ",r.employee.last_name," "),e.xp6(2),e.Oqu(r.start_date),e.xp6(2),e.Oqu(r.end_date),e.xp6(5),e.Q6J("routerLink",e.WLB(8,ln,e.lcZ(14,6,"/dashboard/employees/create-medical-record"),r.id))}}function un(a,o){if(1&a&&(e.TgZ(0,"tr"),e.YNc(1,cn,20,11,"ng-container",21),e.qZA()),2&a){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf",t.employee)}}function dn(a,o){1&a&&(e.TgZ(0,"tr")(1,"td",32),e._uU(2,"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a"),e.qZA()())}let mn=(()=>{class a{constructor(t,n,r,i,l,c){this.employeeService=t,this.empMedicalInsurancesService=n,this.localize=r,this.router=i,this.activatedRoute=l,this.dialog=c,this.searchQuery="",this.medicalInsurances=[],this.loading=!1,console.log("medical insurance working")}ngOnInit(){this.getListMedicalInsurances()}getListMedicalInsurances(t=1){this.loading=!0,this.empMedicalInsurancesService.getAllMedicalInsurances().subscribe({next:n=>{console.log(n.data),this.medicalInsurances=n.data,this.currentPage=n.current_page,this.totalPages=n.last_page,this.loading=!1},error:n=>{this.loading=!1,console.error("There was an error!",n)}})}navigateToAddInsurance(){const t=this.localize.translateRoute("/dashboard/employees/create-medical-record");this.router.navigate([t])}deleteInsurance(t,n){this.dialog.open(T.$,{width:"500px",data:{title:"\u062a\u0627\u0643\u064a\u062f \u0627\u0644\u062d\u0630\u0641",message:`\u061f ${n} \u0647\u0644 \u062a\u0631\u064a\u062f \u062d\u0630\u0641  `}}).afterClosed().subscribe(i=>{i&&this.empMedicalInsurancesService.deleteMedicalInsurance(t.toString()).subscribe({next:l=>{this.getListMedicalInsurances()},error:l=>{console.error("There was an error deleting the insurance!",l)}})})}viewInsurance(t){if(t){const n=this.localize.translateRoute("/dashboard/employees/view-medical-record");this.router.navigate([n,t.id])}else console.error("No insurance to view")}onPageChange(t){this.getListMedicalInsurances(t)}static#e=this.\u0275fac=function(n){return new(n||a)(e.Y36(y.M),e.Y36(z),e.Y36(p.An),e.Y36(u.F0),e.Y36(u.gz),e.Y36(f.uw))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-medical-insurance-list"]],standalone:!0,features:[e.jDz],decls:45,vars:4,consts:[[1,"container-fluid","py-5","px-1"],[1,"row","title-top","mb-3"],[1,"col-12","mb-3"],[1,"fw-bold","fs-2"],[1,"col-12"],[1,"row","list-row"],[1,"card","rounded-4"],[1,"card-body"],[1,"row","align-items-center"],[1,"col-xl-3","col-lg-3","addNew","mb-2"],[1,"btn","w-100","py-3","rounded-4",3,"click"],[1,"fa-solid","fa-circle-plus","me-2"],[1,"col-xl-7","col-lg-6","col-sm-8","searchINP","mb-2"],["type","search","placeholder","\u0627\u0644\u0628\u062d\u062b",1,"form-control","form-control-lg","rounded-3"],[1,"col-xl-2","col-lg-3","col-sm-4","text-center","filterBTN","mb-2"],[1,"btn","px-sm-4","px-5"],[1,"fa-solid","fa-sliders"],[1,"card-body","p-0"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"row"],[1,"col-md-12"],[3,"currentPage","totalPages","pageChange"],[1,"action"],[1,"btn","get","mx-2",3,"click"],[1,"fa-solid","fa-eye"],[1,"btn","edit","mx-2",3,"routerLink"],[1,"fa-solid","fa-pen-to-square"],[1,"btn","delete","bg-danger","mx-2",3,"click"],[1,"fa-regular","fa-trash-can"],["colspan","6",1,"text-center"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._UZ(4,"app-breadcrumb"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646"),e.qZA()(),e.TgZ(7,"div",4),e._UZ(8,"app-breadcrumb"),e.qZA()(),e.TgZ(9,"div",5)(10,"div",4)(11,"div",6)(12,"div",7)(13,"div",8)(14,"div",9)(15,"a",10),e.NdJ("click",function(){return r.navigateToAddInsurance()}),e._UZ(16,"i",11),e._uU(17," \u0625\u0636\u0627\u0641\u0629 \u062a\u0623\u0645\u064a\u0646 \u0635\u062d\u064a "),e.qZA()(),e.TgZ(18,"div",12),e._UZ(19,"input",13),e.qZA(),e.TgZ(20,"div",14)(21,"button",15),e._UZ(22,"i",16),e._uU(23," \u062a\u0635\u0646\u064a\u0641 "),e.qZA()()()(),e.TgZ(24,"div",17)(25,"div",18)(26,"table",19)(27,"thead")(28,"tr")(29,"th"),e._uU(30,"\u062a\u0631\u0642\u064a\u0645"),e.qZA(),e.TgZ(31,"th"),e._uU(32,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0648\u0638\u0641"),e.qZA(),e.TgZ(33,"th"),e._uU(34,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0628\u062f\u0623"),e.qZA(),e.TgZ(35,"th"),e._uU(36,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0625\u0646\u062a\u0647\u0627\u0621"),e.qZA(),e._UZ(37,"th"),e.qZA()(),e.TgZ(38,"tbody"),e.YNc(39,un,2,1,"tr",20),e.YNc(40,dn,3,0,"tr",21),e.qZA()()()(),e.TgZ(41,"div",7)(42,"div",22)(43,"div",23)(44,"pagination",24),e.NdJ("pageChange",function(l){return r.onPageChange(l)}),e.qZA()()()()()()()()),2&n&&(e.xp6(39),e.Q6J("ngForOf",r.medicalInsurances),e.xp6(1),e.Q6J("ngIf",0===r.medicalInsurances.length&&!r.loading),e.xp6(4),e.Q6J("currentPage",r.currentPage)("totalPages",r.totalPages))},dependencies:[_.ez,_.sg,_.O5,u.Bz,u.rH,p.fQ,p.lO,v.Q,s.u5,C.L]})}return a})();function _n(a,o){1&a&&(e.TgZ(0,"h5"),e._uU(1,"\u0625\u0636\u0627\u0641\u0629 \u0637\u0644\u0628 \u062a\u0623\u0645\u064a\u0646 \u0635\u062d\u064a"),e.qZA())}function pn(a,o){1&a&&(e.TgZ(0,"h5"),e._uU(1,"\u062a\u0639\u062f\u064a\u0644 \u0637\u0644\u0628 \u062a\u0623\u0645\u064a\u0646 \u0635\u062d\u064a"),e.qZA())}function hn(a,o){if(1&a&&(e.TgZ(0,"option",30),e._uU(1),e.qZA()),2&a){const t=o.$implicit;e.Q6J("value",t.medicalInsurance.id),e.xp6(1),e.hij(" ",t.medicalInsurance.package_name," ")}}function gn(a,o){1&a&&(e.TgZ(0,"div",31),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function vn(a,o){if(1&a&&(e.TgZ(0,"div",31),e._uU(1),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.medicalInsuranceForm.controls.medical_insurance_id.errors?null:t.medicalInsuranceForm.controls.medical_insurance_id.errors.serverError[0]," ")}}function fn(a,o){if(1&a&&(e.TgZ(0,"div",31),e.YNc(1,gn,2,0,"div",19),e.YNc(2,vn,2,1,"div",19),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.medicalInsuranceForm.controls.medical_insurance_id.errors?null:t.medicalInsuranceForm.controls.medical_insurance_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.medicalInsuranceForm.controls.medical_insurance_id.errors?null:t.medicalInsuranceForm.controls.medical_insurance_id.errors.serverError)}}function yn(a,o){if(1&a&&(e.TgZ(0,"option",30),e._uU(1),e.qZA()),2&a){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.AsE(" ",t.first_name," ",t.last_name," ")}}function bn(a,o){1&a&&(e.TgZ(0,"div",31),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Cn(a,o){if(1&a&&(e.TgZ(0,"div",31),e._uU(1),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.medicalInsuranceForm.controls.employee_id.errors?null:t.medicalInsuranceForm.controls.employee_id.errors.serverError[0]," ")}}function An(a,o){if(1&a&&(e.TgZ(0,"div",31),e.YNc(1,bn,2,0,"div",19),e.YNc(2,Cn,2,1,"div",19),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.medicalInsuranceForm.controls.employee_id.errors?null:t.medicalInsuranceForm.controls.employee_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.medicalInsuranceForm.controls.employee_id.errors?null:t.medicalInsuranceForm.controls.employee_id.errors.serverError)}}function In(a,o){1&a&&(e.TgZ(0,"div",31),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function xn(a,o){if(1&a&&(e.TgZ(0,"div",31),e._uU(1),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.medicalInsuranceForm.controls.start_date.errors?null:t.medicalInsuranceForm.controls.start_date.errors.serverError[0]," ")}}function Dn(a,o){if(1&a&&(e.TgZ(0,"div",31),e.YNc(1,In,2,0,"div",19),e.YNc(2,xn,2,1,"div",19),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.medicalInsuranceForm.controls.start_date.errors?null:t.medicalInsuranceForm.controls.start_date.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.medicalInsuranceForm.controls.start_date.errors?null:t.medicalInsuranceForm.controls.start_date.errors.serverError)}}function Mn(a,o){1&a&&(e.TgZ(0,"div",31),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function wn(a,o){if(1&a&&(e.TgZ(0,"div",31),e._uU(1),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.medicalInsuranceForm.controls.end_date.errors?null:t.medicalInsuranceForm.controls.end_date.errors.serverError[0]," ")}}function Tn(a,o){if(1&a&&(e.TgZ(0,"div",31),e.YNc(1,Mn,2,0,"div",19),e.YNc(2,wn,2,1,"div",19),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.medicalInsuranceForm.controls.end_date.errors?null:t.medicalInsuranceForm.controls.end_date.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.medicalInsuranceForm.controls.end_date.errors?null:t.medicalInsuranceForm.controls.end_date.errors.serverError)}}function Fn(a,o){1&a&&(e.TgZ(0,"div",31),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Zn(a,o){if(1&a&&(e.TgZ(0,"div",31),e._uU(1),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.medicalInsuranceForm.controls.card_number.errors?null:t.medicalInsuranceForm.controls.card_number.errors.serverError[0]," ")}}function En(a,o){if(1&a&&(e.TgZ(0,"div",31),e.YNc(1,Fn,2,0,"div",19),e.YNc(2,Zn,2,1,"div",19),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.medicalInsuranceForm.controls.card_number.errors?null:t.medicalInsuranceForm.controls.card_number.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.medicalInsuranceForm.controls.card_number.errors?null:t.medicalInsuranceForm.controls.card_number.errors.serverError)}}function Rn(a,o){1&a&&(e.ynx(0),e.TgZ(1,"div",32)(2,"button",33),e._UZ(3,"i",34),e._uU(4," \u0625\u0636\u0627\u0641\u0629 \u0637\u0644\u0628 \u0627\u0644\u062a\u0623\u0645\u064a\u0646 \u0627\u0644\u0635\u062d\u064a "),e.qZA()(),e.BQk())}function qn(a,o){if(1&a){const t=e.EpF();e.TgZ(0,"div",32)(1,"button",35),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.updateMedicalInsurance())}),e._uU(2," \u062a\u0639\u062f\u064a\u0644 \u0637\u0644\u0628 \u0627\u0644\u062a\u0623\u0645\u064a\u0646 \u0627\u0644\u0635\u062d\u064a "),e.qZA()()}if(2&a){const t=e.oxw();e.xp6(1),e.Q6J("disabled",!t.medicalInsuranceForm.valid)}}const kn=function(a){return[a]};let Fe=(()=>{class a{constructor(t,n,r,i,l,c,d){this.localize=t,this.router=n,this.activatedRoute=r,this._MessagesService=i,this.employeesService=l,this.medicalInsuranceService=c,this.dashboardService=d,this.countries=[],this.cities=[],this.departments=[],this.currencies=[],this.isEditMode=!1,this.medicalInsuranceId="",this.employees=[],this.medicalInsurances=[],this.statusOptions=[{id:"acceptable",name:"acceptable"},{id:"rejected",name:"rejected"}],this.errorMessage="",this.medicalInsuranceForm=new s.cw({medical_insurance_id:new s.NI("1",s.kI.required),employee_id:new s.NI("",s.kI.required),start_date:new s.NI("",s.kI.required),end_date:new s.NI("",s.kI.required),card_number:new s.NI("",s.kI.required)}),this.filteredMedicalInsurances=[]}ngOnInit(){this.getEmployees(),this.activatedRoute.paramMap.subscribe(t=>{const n=t.get("id");n?(this.medicalInsuranceId=n,this.isEditMode=!0,this.medicalInsuranceService.getMedicalInsuranceById(n).subscribe(r=>{r&&r.data&&(this.setFormValues(r.data),this.getMedicalInsurances(r.data.employee.id))})):this.getMedicalInsurances()})}getEmployees(){this.employeesService.GetEmployeesList().subscribe({next:t=>{t&&t.data&&(this.employees=t.data)},error:t=>{console.error(t)}})}getMedicalInsurances(t){this.medicalInsuranceService.getAllMedicalInsurances().subscribe({next:n=>{n&&n.data&&(this.medicalInsurances=n.data,t&&(this.filteredMedicalInsurances=this.medicalInsurances.filter(r=>r.employee&&r.employee.id==t)))},error:n=>{console.error(n)}})}setFormValues(t){this.medicalInsuranceForm.patchValue({medical_insurance_id:t.medicalInsurance.id,employee_id:t.employee.id,start_date:t.start_date,end_date:t.end_date,card_number:t.card_number})}updateMedicalInsurance(){if(this.medicalInsuranceForm.valid){const t={...this.medicalInsuranceForm.value,_method:"PATCH"};this.medicalInsuranceService.updateMedicalInsurance(this.medicalInsuranceId,t).subscribe({next:n=>{this.navigateToMedicalInsurancesList(),this._MessagesService.showSuccessMessage("\u062a\u0645 \u0627\u0644\u062a\u062d\u062f\u064a\u062b",3e3)},error:n=>{n.error&&n.error.errors?this.handleValidationErrors(n.error.errors):console.error("Failed to update medical insurance:",n)}})}else this.medicalInsuranceForm.markAllAsTouched()}onSubmit(){if(console.log(this.medicalInsuranceForm.value),this.medicalInsuranceForm.valid){const t={...this.medicalInsuranceForm.value};this.medicalInsuranceService.createMedicalInsurance(t).subscribe({next:n=>{this.navigateToMedicalInsurancesList(),this._MessagesService.showSuccessMessage("\u062a\u0645 \u0627\u0644\u0625\u0636\u0627\u0641\u0629",3e3)},error:n=>{n.error&&n.error.errors?this.handleValidationErrors(n.error.errors):(this.errorMessage="Failed to add medical insurance. Please try again.",console.error("Failed to add medical insurance:",n))}})}else this.medicalInsuranceForm.markAllAsTouched()}handleValidationErrors(t){for(const n in t)if(t.hasOwnProperty(n)){const r=this.medicalInsuranceForm.get(n);r&&r.setErrors({serverError:t[n]})}}navigateToMedicalInsurancesList(){const t=this.localize.translateRoute("/dashboard/employees/medical-list");this.router.navigate([t])}static#e=this.\u0275fac=function(n){return new(n||a)(e.Y36(p.An),e.Y36(u.F0),e.Y36(u.gz),e.Y36(M.K),e.Y36(y.M),e.Y36(z),e.Y36(w.K))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-create-medical-insurance"]],standalone:!0,features:[e.jDz],decls:52,vars:17,consts:[[1,"container-fluid","py-5","px-1"],[1,"row","title-top","mb-3"],[1,"col-12","mb-3"],[1,"fw-bold","fs-2"],[1,"col-sm-6"],[1,"col-sm-6","text-end","back"],[1,"text-decoration-none",3,"routerLink"],[1,"fa-solid","fa-chevron-left","ms-2"],[1,"row","add-row"],[1,"col-12"],[1,"card","rounded-4"],[1,"card-body"],[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"form-group","col-md-6","mb-3"],["for","medical_insurance_id",1,"form-label"],["name","medical_insurance_id","id","medical_insurance_id","formControlName","medical_insurance_id",1,"form-select","form-select-lg"],[3,"value",4,"ngFor","ngForOf"],["class","ms-error",4,"ngIf"],["for","employee_id",1,"form-label"],["name","employee_id","id","employee_id","formControlName","employee_id",1,"form-select","form-select-lg"],["for","start_date",1,"form-label"],["formControlName","start_date","type","date","name","start_date","id","start_date",1,"form-control","form-control-lg"],["for","end_date",1,"form-label"],["formControlName","end_date","type","date","name","end_date","id","end_date",1,"form-control","form-control-lg"],["for","card_number",1,"form-label"],["formControlName","card_number","type","number","name","card_number","id","card_number",1,"form-control","form-control-lg"],[4,"ngIf","ngIfElse"],["editButton",""],[3,"value"],[1,"ms-error"],[1,"form-group","col-md-12","mb-3"],["type","submit",1,"btn","px-5","py-3"],[1,"fa-solid","fa-circle-plus","me-2"],["type","button",1,"btn","px-5","py-3",3,"disabled","click"]],template:function(n,r){if(1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._UZ(4,"app-breadcrumb"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0637\u0644\u0628\u0627\u062a \u0627\u0644\u062a\u0623\u0645\u064a\u0646 \u0627\u0644\u0635\u062d\u064a"),e.qZA()(),e.TgZ(7,"div",4),e._UZ(8,"app-breadcrumb"),e.qZA(),e.TgZ(9,"div",5)(10,"a",6),e.ALo(11,"localize"),e._uU(12,"\u0631\u062c\u0648\u0639 "),e._UZ(13,"i",7),e.qZA()()(),e.TgZ(14,"div",8)(15,"div",9)(16,"div",10)(17,"div",11),e.YNc(18,_n,2,0,"h5",12),e.YNc(19,pn,2,0,"h5",12),e.TgZ(20,"form",13),e.NdJ("ngSubmit",function(){return r.onSubmit()}),e.TgZ(21,"div",14)(22,"div",15)(23,"label",16),e._uU(24,"\u0646\u0648\u0639 \u0627\u0644\u062a\u0623\u0645\u064a\u0646 \u0627\u0644\u0635\u062d\u064a"),e.qZA(),e.TgZ(25,"select",17),e.YNc(26,hn,2,2,"option",18),e.qZA(),e.YNc(27,fn,3,2,"div",19),e.qZA(),e.TgZ(28,"div",15)(29,"label",20),e._uU(30,"\u0627\u0644\u0645\u0648\u0638\u0641"),e.qZA(),e.TgZ(31,"select",21),e.YNc(32,yn,2,3,"option",18),e.qZA(),e.YNc(33,An,3,2,"div",19),e.qZA(),e.TgZ(34,"div",15)(35,"label",22),e._uU(36,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0628\u062f\u0621"),e.qZA(),e._UZ(37,"input",23),e.YNc(38,Dn,3,2,"div",19),e.qZA(),e.TgZ(39,"div",15)(40,"label",24),e._uU(41,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0646\u062a\u0647\u0627\u0621"),e.qZA(),e._UZ(42,"input",25),e.YNc(43,Tn,3,2,"div",19),e.qZA(),e.TgZ(44,"div",15)(45,"label",26),e._uU(46,"\u0631\u0642\u0645 \u0627\u0644\u0628\u0637\u0627\u0642\u0629"),e.qZA(),e._UZ(47,"input",27),e.YNc(48,En,3,2,"div",19),e.qZA(),e.YNc(49,Rn,5,0,"ng-container",28),e.YNc(50,qn,3,1,"ng-template",null,29,e.W1O),e.qZA()()()()()()()),2&n){const i=e.MAs(51);e.xp6(10),e.Q6J("routerLink",e.VKq(15,kn,e.lcZ(11,13,"/dashboard/employees/medical-list"))),e.xp6(8),e.Q6J("ngIf",!r.isEditMode),e.xp6(1),e.Q6J("ngIf",r.isEditMode),e.xp6(1),e.Q6J("formGroup",r.medicalInsuranceForm),e.xp6(6),e.Q6J("ngForOf",r.medicalInsurances),e.xp6(1),e.Q6J("ngIf",r.medicalInsuranceForm.controls.medical_insurance_id.invalid&&(r.medicalInsuranceForm.controls.medical_insurance_id.dirty||r.medicalInsuranceForm.controls.medical_insurance_id.touched)),e.xp6(5),e.Q6J("ngForOf",r.employees),e.xp6(1),e.Q6J("ngIf",r.medicalInsuranceForm.controls.employee_id.invalid&&(r.medicalInsuranceForm.controls.employee_id.dirty||r.medicalInsuranceForm.controls.employee_id.touched)),e.xp6(5),e.Q6J("ngIf",r.medicalInsuranceForm.controls.start_date.invalid&&(r.medicalInsuranceForm.controls.start_date.dirty||r.medicalInsuranceForm.controls.start_date.touched)),e.xp6(5),e.Q6J("ngIf",r.medicalInsuranceForm.controls.end_date.invalid&&(r.medicalInsuranceForm.controls.end_date.dirty||r.medicalInsuranceForm.controls.end_date.touched)),e.xp6(5),e.Q6J("ngIf",r.medicalInsuranceForm.controls.card_number.invalid&&(r.medicalInsuranceForm.controls.card_number.dirty||r.medicalInsuranceForm.controls.card_number.touched)),e.xp6(1),e.Q6J("ngIf",!r.isEditMode)("ngIfElse",i)}},dependencies:[_.ez,_.sg,_.O5,C.L,u.rH,p.fQ,p.lO,s.UX,s._Y,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.JL,s.sg,s.u,q.lN,k.c,Y,A.XK,S.ot,V,O]})}return a})();function Sn(a,o){if(1&a&&(e.TgZ(0,"option",27),e._uU(1),e.qZA()),2&a){const t=o.$implicit;e.Q6J("value",t.medicalInsurance.id),e.xp6(1),e.hij(" ",t.medicalInsurance.package_name," ")}}function Nn(a,o){1&a&&(e.TgZ(0,"div",28),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Pn(a,o){if(1&a&&(e.TgZ(0,"div",28),e._uU(1),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.medicalInsuranceForm.controls.medical_insurance_id.errors?null:t.medicalInsuranceForm.controls.medical_insurance_id.errors.serverError[0]," ")}}function Un(a,o){if(1&a&&(e.TgZ(0,"div",28),e.YNc(1,Nn,2,0,"div",18),e.YNc(2,Pn,2,1,"div",18),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.medicalInsuranceForm.controls.medical_insurance_id.errors?null:t.medicalInsuranceForm.controls.medical_insurance_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.medicalInsuranceForm.controls.medical_insurance_id.errors?null:t.medicalInsuranceForm.controls.medical_insurance_id.errors.serverError)}}function Yn(a,o){if(1&a&&(e.TgZ(0,"option",27),e._uU(1),e.qZA()),2&a){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.AsE(" ",t.first_name," ",t.last_name," ")}}function Vn(a,o){1&a&&(e.TgZ(0,"div",28),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function On(a,o){if(1&a&&(e.TgZ(0,"div",28),e._uU(1),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.medicalInsuranceForm.controls.employee_id.errors?null:t.medicalInsuranceForm.controls.employee_id.errors.serverError[0]," ")}}function Ln(a,o){if(1&a&&(e.TgZ(0,"div",28),e.YNc(1,Vn,2,0,"div",18),e.YNc(2,On,2,1,"div",18),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.medicalInsuranceForm.controls.employee_id.errors?null:t.medicalInsuranceForm.controls.employee_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.medicalInsuranceForm.controls.employee_id.errors?null:t.medicalInsuranceForm.controls.employee_id.errors.serverError)}}function Bn(a,o){1&a&&(e.TgZ(0,"div",28),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Qn(a,o){if(1&a&&(e.TgZ(0,"div",28),e._uU(1),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.medicalInsuranceForm.controls.start_date.errors?null:t.medicalInsuranceForm.controls.start_date.errors.serverError[0]," ")}}function Jn(a,o){if(1&a&&(e.TgZ(0,"div",28),e.YNc(1,Bn,2,0,"div",18),e.YNc(2,Qn,2,1,"div",18),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.medicalInsuranceForm.controls.start_date.errors?null:t.medicalInsuranceForm.controls.start_date.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.medicalInsuranceForm.controls.start_date.errors?null:t.medicalInsuranceForm.controls.start_date.errors.serverError)}}function jn(a,o){1&a&&(e.TgZ(0,"div",28),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function $n(a,o){if(1&a&&(e.TgZ(0,"div",28),e._uU(1),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.medicalInsuranceForm.controls.end_date.errors?null:t.medicalInsuranceForm.controls.end_date.errors.serverError[0]," ")}}function zn(a,o){if(1&a&&(e.TgZ(0,"div",28),e.YNc(1,jn,2,0,"div",18),e.YNc(2,$n,2,1,"div",18),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.medicalInsuranceForm.controls.end_date.errors?null:t.medicalInsuranceForm.controls.end_date.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.medicalInsuranceForm.controls.end_date.errors?null:t.medicalInsuranceForm.controls.end_date.errors.serverError)}}function Hn(a,o){1&a&&(e.TgZ(0,"div",28),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Gn(a,o){if(1&a&&(e.TgZ(0,"div",28),e._uU(1),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.medicalInsuranceForm.controls.card_number.errors?null:t.medicalInsuranceForm.controls.card_number.errors.serverError[0]," ")}}function Kn(a,o){if(1&a&&(e.TgZ(0,"div",28),e.YNc(1,Hn,2,0,"div",18),e.YNc(2,Gn,2,1,"div",18),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.medicalInsuranceForm.controls.card_number.errors?null:t.medicalInsuranceForm.controls.card_number.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.medicalInsuranceForm.controls.card_number.errors?null:t.medicalInsuranceForm.controls.card_number.errors.serverError)}}const Wn=function(a){return[a]};let Xn=(()=>{class a{constructor(t,n,r,i,l,c,d){this.localize=t,this.router=n,this.activatedRoute=r,this._MessagesService=i,this.employeesService=l,this.medicalInsuranceService=c,this.dashboardService=d,this.countries=[],this.cities=[],this.departments=[],this.currencies=[],this.isEditMode=!1,this.medicalInsuranceId="",this.employees=[],this.medicalInsurances=[],this.medicalInformation=[],this.statusOptions=[{id:"acceptable",name:"acceptable"},{id:"rejected",name:"rejected"}],this.errorMessage="",this.medicalInsuranceForm=new s.cw({medical_insurance_id:new s.NI("",s.kI.required),employee_id:new s.NI("",s.kI.required),start_date:new s.NI("",s.kI.required),end_date:new s.NI("",s.kI.required),card_number:new s.NI("",s.kI.required)})}ngOnInit(){this.getEmployees(),this.activatedRoute.paramMap.subscribe(t=>{const n=t.get("id");n&&(this.medicalInsuranceId=n,this.isEditMode=!0,this.medicalInsuranceService.getMedicalInsuranceById(n).subscribe(r=>{r&&r.data&&(this.medicalInformation=r.data,this.getMedicalInsurances())}))})}getEmployees(){this.employeesService.GetEmployeesList().subscribe({next:t=>{t&&t.data&&(this.employees=t.data)},error:t=>{console.error(t)}})}getMedicalInsurances(){this.medicalInsuranceService.getAllMedicalInsurances().subscribe({next:t=>{t&&t.data&&(this.medicalInsurances=t.data,this.setFormValues(this.medicalInformation))},error:t=>{console.error(t)}})}setFormValues(t){console.log(t.medicalInsurance.id),console.log(this.medicalInsurances),this.medicalInsuranceForm.patchValue({medical_insurance_id:t.medicalInsurance.id,employee_id:t.employee.id,start_date:t.start_date,end_date:t.end_date,card_number:t.card_number}),console.log(this.medicalInsuranceForm.value)}navigateToMedicalInsurancesList(){const t=this.localize.translateRoute("/dashboard/employees/medical-list");this.router.navigate([t])}static#e=this.\u0275fac=function(n){return new(n||a)(e.Y36(p.An),e.Y36(u.F0),e.Y36(u.gz),e.Y36(M.K),e.Y36(y.M),e.Y36(z),e.Y36(w.K))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-show-medical-insurance"]],standalone:!0,features:[e.jDz],decls:49,vars:13,consts:[[1,"container-fluid","py-5","px-1"],[1,"row","title-top","mb-3"],[1,"col-12","mb-3"],[1,"fw-bold","fs-2"],[1,"col-sm-6"],[1,"col-sm-6","text-end","back"],[1,"text-decoration-none",3,"routerLink"],[1,"fa-solid","fa-chevron-left","ms-2"],[1,"row","add-row"],[1,"col-12"],[1,"card","rounded-4"],[1,"card-body"],[3,"formGroup"],[1,"row"],[1,"form-group","col-md-6","mb-3"],["for","medical_insurance_id",1,"form-label"],["name","medical_insurance_id","id","medical_insurance_id","formControlName","medical_insurance_id",1,"form-select","form-select-lg","readonly-select"],[3,"value",4,"ngFor","ngForOf"],["class","ms-error",4,"ngIf"],["for","employee_id",1,"form-label"],["name","employee_id","id","employee_id","formControlName","employee_id",1,"form-select","form-select-lg","readonly-select"],["for","start_date",1,"form-label"],["formControlName","start_date","type","date","name","start_date","id","start_date","readonly","",1,"form-control","form-control-lg","readonly-input"],["for","end_date",1,"form-label"],["formControlName","end_date","type","date","name","end_date","id","end_date","readonly","",1,"form-control","form-control-lg","readonly-input"],["for","card_number",1,"form-label"],["formControlName","card_number","type","text","name","card_number","id","card_number","readonly","",1,"form-control","form-control-lg","readonly-input"],[3,"value"],[1,"ms-error"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._UZ(4,"app-breadcrumb"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0637\u0644\u0628\u0627\u062a \u0627\u0644\u062a\u0623\u0645\u064a\u0646 \u0627\u0644\u0635\u062d\u064a"),e.qZA()(),e.TgZ(7,"div",4),e._UZ(8,"app-breadcrumb"),e.qZA(),e.TgZ(9,"div",5)(10,"a",6),e.ALo(11,"localize"),e._uU(12,"\u0631\u062c\u0648\u0639 "),e._UZ(13,"i",7),e.qZA()()(),e.TgZ(14,"div",8)(15,"div",9)(16,"div",10)(17,"div",11)(18,"h5"),e._uU(19,"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u062a\u0623\u0645\u064a\u0646"),e.qZA(),e.TgZ(20,"form",12)(21,"div",13)(22,"div",14)(23,"label",15),e._uU(24,"\u0646\u0648\u0639 \u0627\u0644\u062a\u0623\u0645\u064a\u0646 \u0627\u0644\u0635\u062d\u064a"),e.qZA(),e.TgZ(25,"select",16),e.YNc(26,Sn,2,2,"option",17),e.qZA(),e.YNc(27,Un,3,2,"div",18),e.qZA(),e.TgZ(28,"div",14)(29,"label",19),e._uU(30,"\u0627\u0644\u0645\u0648\u0638\u0641"),e.qZA(),e.TgZ(31,"select",20),e.YNc(32,Yn,2,3,"option",17),e.qZA(),e.YNc(33,Ln,3,2,"div",18),e.qZA(),e.TgZ(34,"div",14)(35,"label",21),e._uU(36,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0628\u062f\u0621"),e.qZA(),e._UZ(37,"input",22),e.YNc(38,Jn,3,2,"div",18),e.qZA(),e.TgZ(39,"div",14)(40,"label",23),e._uU(41,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0646\u062a\u0647\u0627\u0621"),e.qZA(),e._UZ(42,"input",24),e.YNc(43,zn,3,2,"div",18),e.qZA(),e.TgZ(44,"div",14)(45,"label",25),e._uU(46,"\u0631\u0642\u0645 \u0627\u0644\u0628\u0637\u0627\u0642\u0629"),e.qZA(),e._UZ(47,"input",26),e.YNc(48,Kn,3,2,"div",18),e.qZA()()()()()()()()),2&n&&(e.xp6(10),e.Q6J("routerLink",e.VKq(11,Wn,e.lcZ(11,9,"/dashboard/employees/medical-list"))),e.xp6(10),e.Q6J("formGroup",r.medicalInsuranceForm),e.xp6(6),e.Q6J("ngForOf",r.medicalInsurances),e.xp6(1),e.Q6J("ngIf",r.medicalInsuranceForm.controls.medical_insurance_id.invalid&&(r.medicalInsuranceForm.controls.medical_insurance_id.dirty||r.medicalInsuranceForm.controls.medical_insurance_id.touched)),e.xp6(5),e.Q6J("ngForOf",r.employees),e.xp6(1),e.Q6J("ngIf",r.medicalInsuranceForm.controls.employee_id.invalid&&(r.medicalInsuranceForm.controls.employee_id.dirty||r.medicalInsuranceForm.controls.employee_id.touched)),e.xp6(5),e.Q6J("ngIf",r.medicalInsuranceForm.controls.start_date.invalid&&(r.medicalInsuranceForm.controls.start_date.dirty||r.medicalInsuranceForm.controls.start_date.touched)),e.xp6(5),e.Q6J("ngIf",r.medicalInsuranceForm.controls.end_date.invalid&&(r.medicalInsuranceForm.controls.end_date.dirty||r.medicalInsuranceForm.controls.end_date.touched)),e.xp6(5),e.Q6J("ngIf",r.medicalInsuranceForm.controls.card_number.invalid&&(r.medicalInsuranceForm.controls.card_number.dirty||r.medicalInsuranceForm.controls.card_number.touched)))},dependencies:[_.ez,_.sg,_.O5,C.L,u.rH,s.UX,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.sg,s.u,p.fQ,p.lO],styles:[".readonly-select[_ngcontent-%COMP%]{background-color:#fff;pointer-events:none;opacity:1;appearance:none}"]})}return a})(),me=(()=>{class a{constructor(t){this.http=t,this.socialInsurancesListUrl=`${b.N.url}employee/social/insurance`,this.createSocialInsuranceUrl=`${b.N.url}employee/social/insurance`,this.updateSocialInsuranceUrl=`${b.N.url}employee/social/insurance/`,this.deleteSocialInsuranceUrl=`${b.N.url}employee/social/insurance`,this.getSocialInsuranceUrl=`${b.N.url}employee/social/insurance/`}getAllSocialInsurances(t){let n=new I.LE;return t&&Object.keys(t).forEach(r=>{n=n.append(r,t[r])}),this.http.get(this.socialInsurancesListUrl,{params:n})}createSocialInsurance(t,n){let r=new I.LE;return n&&Object.keys(n).forEach(i=>{r=r.append(i,n[i])}),this.http.post(this.createSocialInsuranceUrl,t,{params:r,headers:{"Content-Type":"application/json"}})}getSocialInsuranceById(t){return this.http.get(`${this.getSocialInsuranceUrl}${t}`)}updateSocialInsurance(t,n,r){const i=`${this.updateSocialInsuranceUrl}${t}`;let l=new I.LE;r&&Object.keys(r).forEach(d=>{l=l.append(d,r[d])});const c=new FormData;return Object.keys(n).forEach(d=>{const h=n[d];null!=h&&c.append(d,h.toString())}),this.http.post(i,c,{params:l})}deleteSocialInsurance(t){return this.http.delete(`${this.deleteSocialInsuranceUrl}/${t}`)}static#e=this.\u0275fac=function(n){return new(n||a)(e.LFG(I.eN))};static#t=this.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();const er=function(a,o){return[a,o]};function tr(a,o){if(1&a){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td",25)(10,"a",26),e.NdJ("click",function(){const i=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.viewInsurance(i))}),e._UZ(11,"i",27),e._uU(12," \u0639\u0631\u0636"),e.qZA(),e.TgZ(13,"a",28),e.ALo(14,"localize"),e._UZ(15,"i",29),e._uU(16," \u062a\u0639\u062f\u064a\u0644 "),e.qZA(),e.TgZ(17,"button",30),e.NdJ("click",function(){const i=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.deleteInsurance(i.id,i.employee.first_name+" "+i.employee.last_name))}),e._UZ(18,"i",31),e._uU(19," \u062d\u0630\u0641 "),e.qZA()()()}if(2&a){const t=o.$implicit,n=o.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.AsE(" ",t.employee.first_name," ",t.employee.last_name," "),e.xp6(2),e.Oqu(t.start_date),e.xp6(2),e.Oqu(t.end_date),e.xp6(5),e.Q6J("routerLink",e.WLB(8,er,e.lcZ(14,6,"/dashboard/employees/add-insurances"),t.id))}}function ar(a,o){1&a&&(e.TgZ(0,"tr")(1,"td",32),e._uU(2,"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a"),e.qZA()())}let nr=(()=>{class a{constructor(t,n,r,i,l){this.empSocialInsurancesService=t,this.localize=n,this.router=r,this.dialog=i,this.employeesService=l,this.searchQuery="",this.socialInsurances=[],this.loading=!1,console.log("social insurance working")}ngOnInit(){this.getListSocialInsurances()}getListSocialInsurances(t=1){this.loading=!0,this.empSocialInsurancesService.getAllSocialInsurances().subscribe({next:n=>{console.log(n.data);const r=n.data;console.log(r);const i=r.map(l=>this.employeesService.GetEmployeeById(l.employee_id));(0,Ce.D)(i).subscribe({next:l=>{this.socialInsurances=r.map((c,d)=>({...c,employee:l[d].data})),this.currentPage=n.current_page,this.totalPages=n.last_page,this.loading=!1},error:l=>{this.loading=!1,console.error("There was an error fetching employees!",l)}})},error:n=>{this.loading=!1,console.error("There was an error!",n)}})}navigateToAddInsurance(){const t=this.localize.translateRoute("/dashboard/employees/add-insurances");this.router.navigate([t])}deleteInsurance(t,n){this.dialog.open(T.$,{width:"500px",data:{title:"\u062a\u0627\u0643\u064a\u062f \u0627\u0644\u062d\u0630\u0641",message:`\u061f ${n} \u0647\u0644 \u062a\u0631\u064a\u062f \u062d\u0630\u0641  `}}).afterClosed().subscribe(i=>{i&&this.empSocialInsurancesService.deleteSocialInsurance(t.toString()).subscribe({next:l=>{this.getListSocialInsurances()},error:l=>{console.error("There was an error deleting the insurance!",l)}})})}viewInsurance(t){if(t){const n=this.localize.translateRoute("/dashboard/employees/show-insurances");this.router.navigate([n,t.id])}else console.error("No insurance to view")}onPageChange(t){this.getListSocialInsurances(t)}static#e=this.\u0275fac=function(n){return new(n||a)(e.Y36(me),e.Y36(p.An),e.Y36(u.F0),e.Y36(f.uw),e.Y36(y.M))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-social-insurance-list"]],standalone:!0,features:[e.jDz],decls:45,vars:4,consts:[[1,"container-fluid","py-5","px-1"],[1,"row","title-top","mb-3"],[1,"col-12","mb-3"],[1,"fw-bold","fs-2"],[1,"col-12"],[1,"row","list-row"],[1,"card","rounded-4"],[1,"card-body"],[1,"row","align-items-center"],[1,"col-xl-3","col-lg-3","addNew","mb-2"],[1,"btn","w-100","py-3","rounded-4",3,"click"],[1,"fa-solid","fa-circle-plus","me-2"],[1,"col-xl-7","col-lg-6","col-sm-8","searchINP","mb-2"],["type","search","placeholder","\u0627\u0644\u0628\u062d\u062b",1,"form-control","form-control-lg","rounded-3"],[1,"col-xl-2","col-lg-3","col-sm-4","text-center","filterBTN","mb-2"],[1,"btn","px-sm-4","px-5"],[1,"fa-solid","fa-sliders"],[1,"card-body","p-0"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"row"],[1,"col-md-12"],[3,"currentPage","totalPages","pageChange"],[1,"action"],[1,"btn","get","mx-2",3,"click"],[1,"fa-solid","fa-eye"],[1,"btn","edit","mx-2",3,"routerLink"],[1,"fa-solid","fa-pen-to-square"],[1,"btn","delete","bg-danger","mx-2",3,"click"],[1,"fa-regular","fa-trash-can"],["colspan","6",1,"text-center"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._UZ(4,"app-breadcrumb"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646"),e.qZA()(),e.TgZ(7,"div",4),e._UZ(8,"app-breadcrumb"),e.qZA()(),e.TgZ(9,"div",5)(10,"div",4)(11,"div",6)(12,"div",7)(13,"div",8)(14,"div",9)(15,"a",10),e.NdJ("click",function(){return r.navigateToAddInsurance()}),e._UZ(16,"i",11),e._uU(17," \u0625\u0636\u0627\u0641\u0629 \u062a\u0623\u0645\u064a\u0646 \u0627\u062c\u062a\u0645\u0627\u0639\u064a "),e.qZA()(),e.TgZ(18,"div",12),e._UZ(19,"input",13),e.qZA(),e.TgZ(20,"div",14)(21,"button",15),e._UZ(22,"i",16),e._uU(23," \u062a\u0635\u0646\u064a\u0641 "),e.qZA()()()(),e.TgZ(24,"div",17)(25,"div",18)(26,"table",19)(27,"thead")(28,"tr")(29,"th"),e._uU(30,"\u062a\u0631\u0642\u064a\u0645"),e.qZA(),e.TgZ(31,"th"),e._uU(32,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0648\u0638\u0641"),e.qZA(),e.TgZ(33,"th"),e._uU(34,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0628\u062f\u0623"),e.qZA(),e.TgZ(35,"th"),e._uU(36,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0625\u0646\u062a\u0647\u0627\u0621"),e.qZA(),e._UZ(37,"th"),e.qZA()(),e.TgZ(38,"tbody"),e.YNc(39,tr,20,11,"tr",20),e.YNc(40,ar,3,0,"tr",21),e.qZA()()()(),e.TgZ(41,"div",7)(42,"div",22)(43,"div",23)(44,"pagination",24),e.NdJ("pageChange",function(l){return r.onPageChange(l)}),e.qZA()()()()()()()()),2&n&&(e.xp6(39),e.Q6J("ngForOf",r.socialInsurances),e.xp6(1),e.Q6J("ngIf",0===r.socialInsurances.length&&!r.loading),e.xp6(4),e.Q6J("currentPage",r.currentPage)("totalPages",r.totalPages))},dependencies:[_.ez,_.sg,_.O5,u.Bz,u.rH,p.fQ,p.lO,v.Q,s.u5,C.L]})}return a})();function rr(a,o){1&a&&(e.TgZ(0,"h5"),e._uU(1,"\u0625\u0636\u0627\u0641\u0629 \u0637\u0644\u0628 \u062a\u0623\u0645\u064a\u0646 \u0627\u062c\u062a\u0645\u0627\u0639\u064a"),e.qZA())}function ir(a,o){1&a&&(e.TgZ(0,"h5"),e._uU(1,"\u062a\u0639\u062f\u064a\u0644 \u0637\u0644\u0628 \u062a\u0623\u0645\u064a\u0646 \u0627\u062c\u062a\u0645\u0627\u0639\u064a"),e.qZA())}function or(a,o){if(1&a&&(e.TgZ(0,"option",30),e._uU(1),e.qZA()),2&a){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.socialInsurance.name," ")}}function sr(a,o){1&a&&(e.TgZ(0,"div",31),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function lr(a,o){if(1&a&&(e.TgZ(0,"div",31),e._uU(1),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.socialInsuranceForm.controls.social_insurance_id.errors?null:t.socialInsuranceForm.controls.social_insurance_id.errors.serverError[0]," ")}}function cr(a,o){if(1&a&&(e.TgZ(0,"div",31),e.YNc(1,sr,2,0,"div",19),e.YNc(2,lr,2,1,"div",19),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.socialInsuranceForm.controls.social_insurance_id.errors?null:t.socialInsuranceForm.controls.social_insurance_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.socialInsuranceForm.controls.social_insurance_id.errors?null:t.socialInsuranceForm.controls.social_insurance_id.errors.serverError)}}function ur(a,o){if(1&a&&(e.TgZ(0,"option",30),e._uU(1),e.qZA()),2&a){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.AsE(" ",t.first_name," ",t.last_name," ")}}function dr(a,o){1&a&&(e.TgZ(0,"div",31),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function mr(a,o){if(1&a&&(e.TgZ(0,"div",31),e._uU(1),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.socialInsuranceForm.controls.employee_id.errors?null:t.socialInsuranceForm.controls.employee_id.errors.serverError[0]," ")}}function _r(a,o){if(1&a&&(e.TgZ(0,"div",31),e.YNc(1,dr,2,0,"div",19),e.YNc(2,mr,2,1,"div",19),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.socialInsuranceForm.controls.employee_id.errors?null:t.socialInsuranceForm.controls.employee_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.socialInsuranceForm.controls.employee_id.errors?null:t.socialInsuranceForm.controls.employee_id.errors.serverError)}}function pr(a,o){1&a&&(e.TgZ(0,"div",31),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function hr(a,o){if(1&a&&(e.TgZ(0,"div",31),e._uU(1),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.socialInsuranceForm.controls.start_date.errors?null:t.socialInsuranceForm.controls.start_date.errors.serverError[0]," ")}}function gr(a,o){if(1&a&&(e.TgZ(0,"div",31),e.YNc(1,pr,2,0,"div",19),e.YNc(2,hr,2,1,"div",19),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.socialInsuranceForm.controls.start_date.errors?null:t.socialInsuranceForm.controls.start_date.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.socialInsuranceForm.controls.start_date.errors?null:t.socialInsuranceForm.controls.start_date.errors.serverError)}}function vr(a,o){1&a&&(e.TgZ(0,"div",31),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function fr(a,o){if(1&a&&(e.TgZ(0,"div",31),e._uU(1),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.socialInsuranceForm.controls.end_date.errors?null:t.socialInsuranceForm.controls.end_date.errors.serverError[0]," ")}}function yr(a,o){if(1&a&&(e.TgZ(0,"div",31),e.YNc(1,vr,2,0,"div",19),e.YNc(2,fr,2,1,"div",19),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.socialInsuranceForm.controls.end_date.errors?null:t.socialInsuranceForm.controls.end_date.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.socialInsuranceForm.controls.end_date.errors?null:t.socialInsuranceForm.controls.end_date.errors.serverError)}}function br(a,o){1&a&&(e.TgZ(0,"div",31),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Cr(a,o){if(1&a&&(e.TgZ(0,"div",31),e._uU(1),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.socialInsuranceForm.controls.insurance_number.errors?null:t.socialInsuranceForm.controls.insurance_number.errors.serverError[0]," ")}}function Ar(a,o){if(1&a&&(e.TgZ(0,"div",31),e.YNc(1,br,2,0,"div",19),e.YNc(2,Cr,2,1,"div",19),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.socialInsuranceForm.controls.insurance_number.errors?null:t.socialInsuranceForm.controls.insurance_number.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.socialInsuranceForm.controls.insurance_number.errors?null:t.socialInsuranceForm.controls.insurance_number.errors.serverError)}}function Ir(a,o){1&a&&(e.ynx(0),e.TgZ(1,"div",32)(2,"button",33),e._UZ(3,"i",34),e._uU(4," \u0625\u0636\u0627\u0641\u0629 \u0637\u0644\u0628 \u0627\u0644\u062a\u0623\u0645\u064a\u0646 \u0627\u0644\u0627\u062c\u062a\u0645\u0627\u0639\u064a "),e.qZA()(),e.BQk())}function xr(a,o){if(1&a){const t=e.EpF();e.TgZ(0,"div",32)(1,"button",35),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.updateSocialInsurance())}),e._uU(2," \u062a\u0639\u062f\u064a\u0644 \u0637\u0644\u0628 \u0627\u0644\u062a\u0623\u0645\u064a\u0646 \u0627\u0644\u0627\u062c\u062a\u0645\u0627\u0639\u064a "),e.qZA()()}if(2&a){const t=e.oxw();e.xp6(1),e.Q6J("disabled",!t.socialInsuranceForm.valid)}}const Dr=function(a){return[a]};let Ze=(()=>{class a{constructor(t,n,r,i,l,c){this.localize=t,this.router=n,this.activatedRoute=r,this._MessagesService=i,this.employeesService=l,this.socialInsuranceService=c,this.countries=[],this.cities=[],this.departments=[],this.currencies=[],this.isEditMode=!1,this.socialInsuranceId="",this.employees=[],this.socialInsurances=[],this.statusOptions=[{id:"acceptable",name:"acceptable"},{id:"rejected",name:"rejected"}],this.errorMessage="",this.socialInsuranceForm=new s.cw({social_insurance_id:new s.NI("",s.kI.required),employee_id:new s.NI("",s.kI.required),start_date:new s.NI("",s.kI.required),end_date:new s.NI("",s.kI.required),insurance_number:new s.NI("",s.kI.required)})}ngOnInit(){this.getEmployees(),this.getSocialInsurances(),this.activatedRoute.paramMap.subscribe(t=>{const n=t.get("id");n&&(this.socialInsuranceId=n,this.isEditMode=!0,this.socialInsuranceService.getSocialInsuranceById(n).subscribe(r=>{r&&r.data&&this.setFormValues(r.data)}))})}getEmployees(){this.employeesService.GetEmployeesList().subscribe({next:t=>{t&&t.data&&(this.employees=t.data)},error:t=>{console.error(t)}})}getSocialInsurances(){this.socialInsuranceService.getAllSocialInsurances().subscribe({next:t=>{t&&t.data&&(this.socialInsurances=t.data)},error:t=>{console.error(t)}})}setFormValues(t){this.socialInsuranceForm.patchValue({social_insurance_id:t.socialInsurance.id,employee_id:t.id,start_date:t.start_date,end_date:t.end_date,insurance_number:t.insurance_number})}updateSocialInsurance(){if(this.socialInsuranceForm.valid){const t={...this.socialInsuranceForm.value,_method:"PATCH"};this.socialInsuranceService.updateSocialInsurance(this.socialInsuranceId,t).subscribe({next:n=>{this.navigateToSocialInsurancesList(),this._MessagesService.showSuccessMessage("\u062a\u0645 \u0627\u0644\u062a\u062d\u062f\u064a\u062b",3e3)},error:n=>{n.error&&n.error.errors?this.handleValidationErrors(n.error.errors):console.error("Failed to update social insurance:",n)}})}else this.socialInsuranceForm.markAllAsTouched()}onSubmit(){if(this.socialInsuranceForm.valid){const t={...this.socialInsuranceForm.value};this.socialInsuranceService.createSocialInsurance(t).subscribe({next:n=>{this.navigateToSocialInsurancesList(),this._MessagesService.showSuccessMessage("\u062a\u0645 \u0627\u0644\u0625\u0636\u0627\u0641\u0629",3e3)},error:n=>{n.error&&n.error.errors?this.handleValidationErrors(n.error.errors):(this.errorMessage="Failed to add social insurance. Please try again.",console.error("Failed to add social insurance:",n))}})}else this.socialInsuranceForm.markAllAsTouched()}handleValidationErrors(t){for(const n in t)if(t.hasOwnProperty(n)){const r=this.socialInsuranceForm.get(n);r&&r.setErrors({serverError:t[n]})}}navigateToSocialInsurancesList(){const t=this.localize.translateRoute("/dashboard/employees/social-insurances");this.router.navigate([t])}static#e=this.\u0275fac=function(n){return new(n||a)(e.Y36(p.An),e.Y36(u.F0),e.Y36(u.gz),e.Y36(M.K),e.Y36(y.M),e.Y36(me))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-create-social-insurance"]],standalone:!0,features:[e.jDz],decls:52,vars:17,consts:[[1,"container-fluid","py-5","px-1"],[1,"row","title-top","mb-3"],[1,"col-12","mb-3"],[1,"fw-bold","fs-2"],[1,"col-sm-6"],[1,"col-sm-6","text-end","back"],[1,"text-decoration-none",3,"routerLink"],[1,"fa-solid","fa-chevron-left","ms-2"],[1,"row","add-row"],[1,"col-12"],[1,"card","rounded-4"],[1,"card-body"],[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"form-group","col-md-6","mb-3"],["for","social_insurance_id",1,"form-label"],["name","social_insurance_id","id","social_insurance_id","formControlName","social_insurance_id",1,"form-select","form-select-lg"],[3,"value",4,"ngFor","ngForOf"],["class","ms-error",4,"ngIf"],["for","employee_id",1,"form-label"],["name","employee_id","id","employee_id","formControlName","employee_id",1,"form-select","form-select-lg"],["for","start_date",1,"form-label"],["formControlName","start_date","type","date","name","start_date","id","start_date",1,"form-control","form-control-lg"],["for","end_date",1,"form-label"],["formControlName","end_date","type","date","name","end_date","id","end_date",1,"form-control","form-control-lg"],["for","insurance_number",1,"form-label"],["formControlName","insurance_number","type","number","name","insurance_number","id","insurance_number",1,"form-control","form-control-lg"],[4,"ngIf","ngIfElse"],["editButton",""],[3,"value"],[1,"ms-error"],[1,"form-group","col-md-12","mb-3"],["type","submit",1,"btn","px-5","py-3"],[1,"fa-solid","fa-circle-plus","me-2"],["type","button",1,"btn","px-5","py-3",3,"disabled","click"]],template:function(n,r){if(1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._UZ(4,"app-breadcrumb"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0637\u0644\u0628\u0627\u062a \u0627\u0644\u062a\u0623\u0645\u064a\u0646 \u0627\u0644\u0627\u062c\u062a\u0645\u0627\u0639\u064a"),e.qZA()(),e.TgZ(7,"div",4),e._UZ(8,"app-breadcrumb"),e.qZA(),e.TgZ(9,"div",5)(10,"a",6),e.ALo(11,"localize"),e._uU(12,"\u0631\u062c\u0648\u0639 "),e._UZ(13,"i",7),e.qZA()()(),e.TgZ(14,"div",8)(15,"div",9)(16,"div",10)(17,"div",11),e.YNc(18,rr,2,0,"h5",12),e.YNc(19,ir,2,0,"h5",12),e.TgZ(20,"form",13),e.NdJ("ngSubmit",function(){return r.onSubmit()}),e.TgZ(21,"div",14)(22,"div",15)(23,"label",16),e._uU(24,"\u0646\u0648\u0639 \u0627\u0644\u062a\u0623\u0645\u064a\u0646 \u0627\u0644\u0627\u062c\u062a\u0645\u0627\u0639\u064a"),e.qZA(),e.TgZ(25,"select",17),e.YNc(26,or,2,2,"option",18),e.qZA(),e.YNc(27,cr,3,2,"div",19),e.qZA(),e.TgZ(28,"div",15)(29,"label",20),e._uU(30,"\u0627\u0644\u0645\u0648\u0638\u0641"),e.qZA(),e.TgZ(31,"select",21),e.YNc(32,ur,2,3,"option",18),e.qZA(),e.YNc(33,_r,3,2,"div",19),e.qZA(),e.TgZ(34,"div",15)(35,"label",22),e._uU(36,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0628\u062f\u0621"),e.qZA(),e._UZ(37,"input",23),e.YNc(38,gr,3,2,"div",19),e.qZA(),e.TgZ(39,"div",15)(40,"label",24),e._uU(41,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0646\u062a\u0647\u0627\u0621"),e.qZA(),e._UZ(42,"input",25),e.YNc(43,yr,3,2,"div",19),e.qZA(),e.TgZ(44,"div",15)(45,"label",26),e._uU(46,"\u0631\u0642\u0645 \u0627\u0644\u062a\u0623\u0645\u064a\u0646"),e.qZA(),e._UZ(47,"input",27),e.YNc(48,Ar,3,2,"div",19),e.qZA(),e.YNc(49,Ir,5,0,"ng-container",28),e.YNc(50,xr,3,1,"ng-template",null,29,e.W1O),e.qZA()()()()()()()),2&n){const i=e.MAs(51);e.xp6(10),e.Q6J("routerLink",e.VKq(15,Dr,e.lcZ(11,13,"/dashboard/employees/social-list"))),e.xp6(8),e.Q6J("ngIf",!r.isEditMode),e.xp6(1),e.Q6J("ngIf",r.isEditMode),e.xp6(1),e.Q6J("formGroup",r.socialInsuranceForm),e.xp6(6),e.Q6J("ngForOf",r.socialInsurances),e.xp6(1),e.Q6J("ngIf",r.socialInsuranceForm.controls.social_insurance_id.invalid&&(r.socialInsuranceForm.controls.social_insurance_id.dirty||r.socialInsuranceForm.controls.social_insurance_id.touched)),e.xp6(5),e.Q6J("ngForOf",r.employees),e.xp6(1),e.Q6J("ngIf",r.socialInsuranceForm.controls.employee_id.invalid&&(r.socialInsuranceForm.controls.employee_id.dirty||r.socialInsuranceForm.controls.employee_id.touched)),e.xp6(5),e.Q6J("ngIf",r.socialInsuranceForm.controls.start_date.invalid&&(r.socialInsuranceForm.controls.start_date.dirty||r.socialInsuranceForm.controls.start_date.touched)),e.xp6(5),e.Q6J("ngIf",r.socialInsuranceForm.controls.end_date.invalid&&(r.socialInsuranceForm.controls.end_date.dirty||r.socialInsuranceForm.controls.end_date.touched)),e.xp6(5),e.Q6J("ngIf",r.socialInsuranceForm.controls.insurance_number.invalid&&(r.socialInsuranceForm.controls.insurance_number.dirty||r.socialInsuranceForm.controls.insurance_number.touched)),e.xp6(1),e.Q6J("ngIf",!r.isEditMode)("ngIfElse",i)}},dependencies:[_.ez,_.sg,_.O5,C.L,u.rH,p.fQ,p.lO,s.UX,s._Y,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.JL,s.sg,s.u,q.lN,k.c,Y,A.XK,S.ot,V,O]})}return a})();function Mr(a,o){if(1&a&&(e.TgZ(0,"option",27),e._uU(1),e.qZA()),2&a){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.socialInsurance.name," ")}}function wr(a,o){1&a&&(e.TgZ(0,"div",28),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Tr(a,o){if(1&a&&(e.TgZ(0,"div",28),e._uU(1),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.socialInsuranceForm.controls.social_insurance_id.errors?null:t.socialInsuranceForm.controls.social_insurance_id.errors.serverError[0]," ")}}function Fr(a,o){if(1&a&&(e.TgZ(0,"div",28),e.YNc(1,wr,2,0,"div",18),e.YNc(2,Tr,2,1,"div",18),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.socialInsuranceForm.controls.social_insurance_id.errors?null:t.socialInsuranceForm.controls.social_insurance_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.socialInsuranceForm.controls.social_insurance_id.errors?null:t.socialInsuranceForm.controls.social_insurance_id.errors.serverError)}}function Zr(a,o){if(1&a&&(e.TgZ(0,"option",27),e._uU(1),e.qZA()),2&a){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.AsE(" ",t.first_name," ",t.last_name," ")}}function Er(a,o){1&a&&(e.TgZ(0,"div",28),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Rr(a,o){if(1&a&&(e.TgZ(0,"div",28),e._uU(1),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.socialInsuranceForm.controls.employee_id.errors?null:t.socialInsuranceForm.controls.employee_id.errors.serverError[0]," ")}}function qr(a,o){if(1&a&&(e.TgZ(0,"div",28),e.YNc(1,Er,2,0,"div",18),e.YNc(2,Rr,2,1,"div",18),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.socialInsuranceForm.controls.employee_id.errors?null:t.socialInsuranceForm.controls.employee_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.socialInsuranceForm.controls.employee_id.errors?null:t.socialInsuranceForm.controls.employee_id.errors.serverError)}}function kr(a,o){1&a&&(e.TgZ(0,"div",28),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Sr(a,o){if(1&a&&(e.TgZ(0,"div",28),e._uU(1),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.socialInsuranceForm.controls.start_date.errors?null:t.socialInsuranceForm.controls.start_date.errors.serverError[0]," ")}}function Nr(a,o){if(1&a&&(e.TgZ(0,"div",28),e.YNc(1,kr,2,0,"div",18),e.YNc(2,Sr,2,1,"div",18),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.socialInsuranceForm.controls.start_date.errors?null:t.socialInsuranceForm.controls.start_date.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.socialInsuranceForm.controls.start_date.errors?null:t.socialInsuranceForm.controls.start_date.errors.serverError)}}function Pr(a,o){1&a&&(e.TgZ(0,"div",28),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Ur(a,o){if(1&a&&(e.TgZ(0,"div",28),e._uU(1),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.socialInsuranceForm.controls.end_date.errors?null:t.socialInsuranceForm.controls.end_date.errors.serverError[0]," ")}}function Yr(a,o){if(1&a&&(e.TgZ(0,"div",28),e.YNc(1,Pr,2,0,"div",18),e.YNc(2,Ur,2,1,"div",18),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.socialInsuranceForm.controls.end_date.errors?null:t.socialInsuranceForm.controls.end_date.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.socialInsuranceForm.controls.end_date.errors?null:t.socialInsuranceForm.controls.end_date.errors.serverError)}}function Vr(a,o){1&a&&(e.TgZ(0,"div",28),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Or(a,o){if(1&a&&(e.TgZ(0,"div",28),e._uU(1),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.socialInsuranceForm.controls.insurance_number.errors?null:t.socialInsuranceForm.controls.insurance_number.errors.serverError[0]," ")}}function Lr(a,o){if(1&a&&(e.TgZ(0,"div",28),e.YNc(1,Vr,2,0,"div",18),e.YNc(2,Or,2,1,"div",18),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.socialInsuranceForm.controls.insurance_number.errors?null:t.socialInsuranceForm.controls.insurance_number.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.socialInsuranceForm.controls.insurance_number.errors?null:t.socialInsuranceForm.controls.insurance_number.errors.serverError)}}const Br=function(a){return[a]};let Qr=(()=>{class a{constructor(t,n,r,i,l){this.localize=t,this.router=n,this.activatedRoute=r,this.employeesService=i,this.socialInsuranceService=l,this.countries=[],this.cities=[],this.departments=[],this.currencies=[],this.isEditMode=!1,this.socialInsuranceId="",this.employees=[],this.socialInsurances=[],this.statusOptions=[{id:"acceptable",name:"acceptable"},{id:"rejected",name:"rejected"}],this.errorMessage="",this.socialInsuranceForm=new s.cw({social_insurance_id:new s.NI("",s.kI.required),employee_id:new s.NI("",s.kI.required),start_date:new s.NI("",s.kI.required),end_date:new s.NI("",s.kI.required),insurance_number:new s.NI("",s.kI.required)})}ngOnInit(){this.getEmployees(),this.getSocialInsurances(),this.activatedRoute.paramMap.subscribe(t=>{const n=t.get("id");n&&(this.socialInsuranceId=n,this.isEditMode=!0,this.socialInsuranceService.getSocialInsuranceById(n).subscribe(r=>{r&&r.data&&this.setFormValues(r.data)}))})}getEmployees(){this.employeesService.GetEmployeesList().subscribe({next:t=>{t&&t.data&&(this.employees=t.data)},error:t=>{console.error(t)}})}getSocialInsurances(){this.socialInsuranceService.getAllSocialInsurances().subscribe({next:t=>{t&&t.data&&(this.socialInsurances=t.data)},error:t=>{console.error(t)}})}setFormValues(t){this.socialInsuranceForm.patchValue({social_insurance_id:t.socialInsurance.id,employee_id:t.id,start_date:t.start_date,end_date:t.end_date,insurance_number:t.insurance_number})}handleValidationErrors(t){for(const n in t)if(t.hasOwnProperty(n)){const r=this.socialInsuranceForm.get(n);r&&r.setErrors({serverError:t[n]})}}navigateToSocialInsurancesList(){const t=this.localize.translateRoute("/dashboard/employees/social-insurances");this.router.navigate([t])}static#e=this.\u0275fac=function(n){return new(n||a)(e.Y36(p.An),e.Y36(u.F0),e.Y36(u.gz),e.Y36(y.M),e.Y36(me))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-create-social-insurance"]],standalone:!0,features:[e.jDz],decls:47,vars:13,consts:[[1,"container-fluid","py-5","px-1"],[1,"row","title-top","mb-3"],[1,"col-12","mb-3"],[1,"fw-bold","fs-2"],[1,"col-sm-6"],[1,"col-sm-6","text-end","back"],[1,"text-decoration-none",3,"routerLink"],[1,"fa-solid","fa-chevron-left","ms-2"],[1,"row","add-row"],[1,"col-12"],[1,"card","rounded-4"],[1,"card-body"],[3,"formGroup"],[1,"row"],[1,"form-group","col-md-6","mb-3"],["for","social_insurance_id",1,"form-label"],["name","social_insurance_id","id","social_insurance_id","formControlName","social_insurance_id",1,"form-select","form-select-lg","readonly-select"],[3,"value",4,"ngFor","ngForOf"],["class","ms-error",4,"ngIf"],["for","employee_id",1,"form-label"],["name","employee_id","id","employee_id","formControlName","employee_id",1,"form-select","form-select-lg","readonly-select"],["for","start_date",1,"form-label"],["formControlName","start_date","type","date","name","start_date","id","start_date","readonly","",1,"form-control","form-control-lg"],["for","end_date",1,"form-label"],["formControlName","end_date","type","date","name","end_date","id","end_date","readonly","",1,"form-control","form-control-lg"],["for","insurance_number",1,"form-label"],["formControlName","insurance_number","type","number","name","insurance_number","id","insurance_number","readonly","",1,"form-control","form-control-lg"],[3,"value"],[1,"ms-error"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._UZ(4,"app-breadcrumb"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0637\u0644\u0628\u0627\u062a \u0627\u0644\u062a\u0623\u0645\u064a\u0646 \u0627\u0644\u0627\u062c\u062a\u0645\u0627\u0639\u064a"),e.qZA()(),e.TgZ(7,"div",4),e._UZ(8,"app-breadcrumb"),e.qZA(),e.TgZ(9,"div",5)(10,"a",6),e.ALo(11,"localize"),e._uU(12,"\u0631\u062c\u0648\u0639 "),e._UZ(13,"i",7),e.qZA()()(),e.TgZ(14,"div",8)(15,"div",9)(16,"div",10)(17,"div",11)(18,"form",12)(19,"div",13)(20,"div",14)(21,"label",15),e._uU(22,"\u0646\u0648\u0639 \u0627\u0644\u062a\u0623\u0645\u064a\u0646 \u0627\u0644\u0627\u062c\u062a\u0645\u0627\u0639\u064a"),e.qZA(),e.TgZ(23,"select",16),e.YNc(24,Mr,2,2,"option",17),e.qZA(),e.YNc(25,Fr,3,2,"div",18),e.qZA(),e.TgZ(26,"div",14)(27,"label",19),e._uU(28,"\u0627\u0644\u0645\u0648\u0638\u0641"),e.qZA(),e.TgZ(29,"select",20),e.YNc(30,Zr,2,3,"option",17),e.qZA(),e.YNc(31,qr,3,2,"div",18),e.qZA(),e.TgZ(32,"div",14)(33,"label",21),e._uU(34,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0628\u062f\u0621"),e.qZA(),e._UZ(35,"input",22),e.YNc(36,Nr,3,2,"div",18),e.qZA(),e.TgZ(37,"div",14)(38,"label",23),e._uU(39,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0646\u062a\u0647\u0627\u0621"),e.qZA(),e._UZ(40,"input",24),e.YNc(41,Yr,3,2,"div",18),e.qZA(),e.TgZ(42,"div",14)(43,"label",25),e._uU(44,"\u0631\u0642\u0645 \u0627\u0644\u062a\u0623\u0645\u064a\u0646"),e.qZA(),e._UZ(45,"input",26),e.YNc(46,Lr,3,2,"div",18),e.qZA()()()()()()()()),2&n&&(e.xp6(10),e.Q6J("routerLink",e.VKq(11,Br,e.lcZ(11,9,"/dashboard/employees/social-insurances"))),e.xp6(8),e.Q6J("formGroup",r.socialInsuranceForm),e.xp6(6),e.Q6J("ngForOf",r.socialInsurances),e.xp6(1),e.Q6J("ngIf",r.socialInsuranceForm.controls.social_insurance_id.invalid&&(r.socialInsuranceForm.controls.social_insurance_id.dirty||r.socialInsuranceForm.controls.social_insurance_id.touched)),e.xp6(5),e.Q6J("ngForOf",r.employees),e.xp6(1),e.Q6J("ngIf",r.socialInsuranceForm.controls.employee_id.invalid&&(r.socialInsuranceForm.controls.employee_id.dirty||r.socialInsuranceForm.controls.employee_id.touched)),e.xp6(5),e.Q6J("ngIf",r.socialInsuranceForm.controls.start_date.invalid&&(r.socialInsuranceForm.controls.start_date.dirty||r.socialInsuranceForm.controls.start_date.touched)),e.xp6(5),e.Q6J("ngIf",r.socialInsuranceForm.controls.end_date.invalid&&(r.socialInsuranceForm.controls.end_date.dirty||r.socialInsuranceForm.controls.end_date.touched)),e.xp6(5),e.Q6J("ngIf",r.socialInsuranceForm.controls.insurance_number.invalid&&(r.socialInsuranceForm.controls.insurance_number.dirty||r.socialInsuranceForm.controls.insurance_number.touched)))},dependencies:[_.ez,_.sg,_.O5,C.L,u.rH,p.fQ,p.lO,s.UX,s._Y,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.JL,s.sg,s.u],styles:[".readonly-select[_ngcontent-%COMP%]{background-color:#fff;pointer-events:none;opacity:1;appearance:none}"]})}return a})(),_e=(()=>{class a{constructor(t){this.http=t,this.payrollListUrl=`${b.N.url}employee/payroll/item`,this.createPayrollUrl=`${b.N.url}employee/payroll/item`,this.updatePayrollUrl=`${b.N.url}employee/payroll/item/`,this.deletePayrollUrl=`${b.N.url}payroll`,this.getPayrollUrl=`${b.N.url}employee/payroll/item/`}getAllPayrolls(t){let n=new I.LE;return t&&Object.keys(t).forEach(r=>{n=n.append(r,t[r])}),this.http.get(this.payrollListUrl,{params:n})}createPayroll(t,n){let r=new I.LE;return n&&Object.keys(n).forEach(i=>{r=r.append(i,n[i])}),this.http.post(this.createPayrollUrl,t,{params:r,headers:{"Content-Type":"application/json"}})}getPayrollById(t){return this.http.get(`${this.getPayrollUrl}${t}`)}updatePayroll(t,n,r){const i=`${this.updatePayrollUrl}${t}`;let l=new I.LE;r&&Object.keys(r).forEach(d=>{l=l.append(d,r[d])});const c=new FormData;return Object.keys(n).forEach(d=>{const h=n[d];null!=h&&c.append(d,h.toString())}),this.http.post(i,c,{params:l})}deletePayroll(t){return this.http.post(`${this.deletePayrollUrl}/delete?payroll_id=${t}`,"")}static#e=this.\u0275fac=function(n){return new(n||a)(e.LFG(I.eN))};static#t=this.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();const Jr=function(a,o){return[a,o]};function jr(a,o){if(1&a){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td",25)(10,"a",26),e.NdJ("click",function(){const i=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.viewItem(i))}),e._UZ(11,"i",27),e._uU(12," \u0639\u0631\u0636"),e.qZA(),e.TgZ(13,"a",28),e.ALo(14,"localize"),e._UZ(15,"i",29),e._uU(16," \u062a\u0639\u062f\u064a\u0644 "),e.qZA(),e.TgZ(17,"button",30),e.NdJ("click",function(){const i=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.deleteItem(i.id,i.employee.first_name+" "+i.employee.last_name))}),e._UZ(18,"i",31),e._uU(19," \u062d\u0630\u0641 "),e.qZA()()()}if(2&a){const t=o.$implicit,n=o.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.AsE(" ",t.employee.first_name," ",t.employee.last_name," "),e.xp6(2),e.Oqu(t.start_date),e.xp6(2),e.Oqu(t.end_date),e.xp6(5),e.Q6J("routerLink",e.WLB(8,Jr,e.lcZ(14,6,"/dashboard/employees/add-payroll-item"),t.id))}}function $r(a,o){1&a&&(e.TgZ(0,"tr")(1,"td",32),e._uU(2,"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a"),e.qZA()())}let zr=(()=>{class a{constructor(t,n,r,i,l,c){this.employeeService=t,this.payrollItemsService=n,this.localize=r,this.router=i,this.activatedRoute=l,this.dialog=c,this.searchQuery="",this.payrollItems=[],this.loading=!1,console.log("payroll item working")}ngOnInit(){this.getListPayrollItems()}getListPayrollItems(t=1){this.loading=!0,this.payrollItemsService.getAllPayrolls().subscribe({next:n=>{console.log(n.data),this.payrollItems=n.data,this.currentPage=n.current_page,this.totalPages=n.last_page,this.loading=!1},error:n=>{this.loading=!1,console.error("There was an error!",n)}})}navigateToAddItem(){const t=this.localize.translateRoute("/dashboard/employees/add-payroll-item");this.router.navigate([t])}deleteItem(t,n){this.dialog.open(T.$,{width:"500px",data:{title:"\u062a\u0627\u0643\u064a\u062f \u0627\u0644\u062d\u0630\u0641",message:`\u061f ${n} \u0647\u0644 \u062a\u0631\u064a\u062f \u062d\u0630\u0641  `}}).afterClosed().subscribe(i=>{i&&this.payrollItemsService.deletePayroll(t.toString()).subscribe({next:l=>{this.getListPayrollItems()},error:l=>{console.error("There was an error deleting the item!",l)}})})}viewItem(t){if(t){const n=this.localize.translateRoute("/dashboard/employees/show-payroll-item");this.router.navigate([n,t.id])}else console.error("No item to view")}onPageChange(t){this.getListPayrollItems(t)}static#e=this.\u0275fac=function(n){return new(n||a)(e.Y36(y.M),e.Y36(_e),e.Y36(p.An),e.Y36(u.F0),e.Y36(u.gz),e.Y36(f.uw))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-payroll-item-list"]],standalone:!0,features:[e.jDz],decls:45,vars:4,consts:[[1,"container-fluid","py-5","px-1"],[1,"row","title-top","mb-3"],[1,"col-12","mb-3"],[1,"fw-bold","fs-2"],[1,"col-12"],[1,"row","list-row"],[1,"card","rounded-4"],[1,"card-body"],[1,"row","align-items-center"],[1,"col-xl-3","col-lg-3","addNew","mb-2"],[1,"btn","w-100","py-3","rounded-4",3,"click"],[1,"fa-solid","fa-circle-plus","me-2"],[1,"col-xl-7","col-lg-6","col-sm-8","searchINP","mb-2"],["type","search","placeholder","\u0627\u0644\u0628\u062d\u062b",1,"form-control","form-control-lg","rounded-3"],[1,"col-xl-2","col-lg-3","col-sm-4","text-center","filterBTN","mb-2"],[1,"btn","px-sm-4","px-5"],[1,"fa-solid","fa-sliders"],[1,"card-body","p-0"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"row"],[1,"col-md-12"],[3,"currentPage","totalPages","pageChange"],[1,"action"],[1,"btn","get","mx-2",3,"click"],[1,"fa-solid","fa-eye"],[1,"btn","edit","mx-2",3,"routerLink"],[1,"fa-solid","fa-pen-to-square"],[1,"btn","delete","bg-danger","mx-2",3,"click"],[1,"fa-regular","fa-trash-can"],["colspan","6",1,"text-center"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._UZ(4,"app-breadcrumb"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646"),e.qZA()(),e.TgZ(7,"div",4),e._UZ(8,"app-breadcrumb"),e.qZA()(),e.TgZ(9,"div",5)(10,"div",4)(11,"div",6)(12,"div",7)(13,"div",8)(14,"div",9)(15,"a",10),e.NdJ("click",function(){return r.navigateToAddItem()}),e._UZ(16,"i",11),e._uU(17," \u0625\u0636\u0627\u0641\u0629 \u0639\u0646\u0635\u0631 \u0641\u064a \u0627\u0644\u0631\u0648\u0627\u062a\u0628 "),e.qZA()(),e.TgZ(18,"div",12),e._UZ(19,"input",13),e.qZA(),e.TgZ(20,"div",14)(21,"button",15),e._UZ(22,"i",16),e._uU(23," \u062a\u0635\u0646\u064a\u0641 "),e.qZA()()()(),e.TgZ(24,"div",17)(25,"div",18)(26,"table",19)(27,"thead")(28,"tr")(29,"th"),e._uU(30,"\u062a\u0631\u0642\u064a\u0645"),e.qZA(),e.TgZ(31,"th"),e._uU(32,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0648\u0638\u0641"),e.qZA(),e.TgZ(33,"th"),e._uU(34,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0628\u062f\u0623"),e.qZA(),e.TgZ(35,"th"),e._uU(36,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0625\u0646\u062a\u0647\u0627\u0621"),e.qZA(),e._UZ(37,"th"),e.qZA()(),e.TgZ(38,"tbody"),e.YNc(39,jr,20,11,"tr",20),e.YNc(40,$r,3,0,"tr",21),e.qZA()()()(),e.TgZ(41,"div",7)(42,"div",22)(43,"div",23)(44,"pagination",24),e.NdJ("pageChange",function(l){return r.onPageChange(l)}),e.qZA()()()()()()()()),2&n&&(e.xp6(39),e.Q6J("ngForOf",r.payrollItems),e.xp6(1),e.Q6J("ngIf",0===r.payrollItems.length&&!r.loading),e.xp6(4),e.Q6J("currentPage",r.currentPage)("totalPages",r.totalPages))},dependencies:[_.ez,_.sg,_.O5,u.Bz,u.rH,p.fQ,p.lO,v.Q,s.u5,C.L]})}return a})();function Hr(a,o){1&a&&(e.TgZ(0,"h5"),e._uU(1,"\u0625\u0636\u0627\u0641\u0629 \u0637\u0644\u0628 \u0631\u0648\u0627\u062a\u0628"),e.qZA())}function Gr(a,o){1&a&&(e.TgZ(0,"h5"),e._uU(1,"\u062a\u0639\u062f\u064a\u0644 \u0637\u0644\u0628 \u0631\u0648\u0627\u062a\u0628"),e.qZA())}function Kr(a,o){if(1&a&&(e.TgZ(0,"option",30),e._uU(1),e.qZA()),2&a){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.id," ")}}function Wr(a,o){1&a&&(e.TgZ(0,"div",31),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Xr(a,o){if(1&a&&(e.TgZ(0,"div",31),e._uU(1),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.payrollItemForm.controls.medical_insurance_id.errors?null:t.payrollItemForm.controls.medical_insurance_id.errors.serverError[0]," ")}}function ei(a,o){if(1&a&&(e.TgZ(0,"div",31),e.YNc(1,Wr,2,0,"div",19),e.YNc(2,Xr,2,1,"div",19),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.payrollItemForm.controls.medical_insurance_id.errors?null:t.payrollItemForm.controls.medical_insurance_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.payrollItemForm.controls.medical_insurance_id.errors?null:t.payrollItemForm.controls.medical_insurance_id.errors.serverError)}}function ti(a,o){if(1&a&&(e.TgZ(0,"option",30),e._uU(1),e.qZA()),2&a){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.AsE(" ",t.first_name," ",t.last_name," ")}}function ai(a,o){1&a&&(e.TgZ(0,"div",31),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function ni(a,o){if(1&a&&(e.TgZ(0,"div",31),e._uU(1),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.payrollItemForm.controls.employee_id.errors?null:t.payrollItemForm.controls.employee_id.errors.serverError[0]," ")}}function ri(a,o){if(1&a&&(e.TgZ(0,"div",31),e.YNc(1,ai,2,0,"div",19),e.YNc(2,ni,2,1,"div",19),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.payrollItemForm.controls.employee_id.errors?null:t.payrollItemForm.controls.employee_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.payrollItemForm.controls.employee_id.errors?null:t.payrollItemForm.controls.employee_id.errors.serverError)}}function ii(a,o){1&a&&(e.TgZ(0,"div",31),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function oi(a,o){if(1&a&&(e.TgZ(0,"div",31),e._uU(1),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.payrollItemForm.controls.start_date.errors?null:t.payrollItemForm.controls.start_date.errors.serverError[0]," ")}}function si(a,o){if(1&a&&(e.TgZ(0,"div",31),e.YNc(1,ii,2,0,"div",19),e.YNc(2,oi,2,1,"div",19),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.payrollItemForm.controls.start_date.errors?null:t.payrollItemForm.controls.start_date.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.payrollItemForm.controls.start_date.errors?null:t.payrollItemForm.controls.start_date.errors.serverError)}}function li(a,o){1&a&&(e.TgZ(0,"div",31),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function ci(a,o){if(1&a&&(e.TgZ(0,"div",31),e._uU(1),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.payrollItemForm.controls.end_date.errors?null:t.payrollItemForm.controls.end_date.errors.serverError[0]," ")}}function ui(a,o){if(1&a&&(e.TgZ(0,"div",31),e.YNc(1,li,2,0,"div",19),e.YNc(2,ci,2,1,"div",19),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.payrollItemForm.controls.end_date.errors?null:t.payrollItemForm.controls.end_date.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.payrollItemForm.controls.end_date.errors?null:t.payrollItemForm.controls.end_date.errors.serverError)}}function di(a,o){1&a&&(e.TgZ(0,"div",31),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function mi(a,o){if(1&a&&(e.TgZ(0,"div",31),e._uU(1),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.payrollItemForm.controls.card_number.errors?null:t.payrollItemForm.controls.card_number.errors.serverError[0]," ")}}function _i(a,o){if(1&a&&(e.TgZ(0,"div",31),e.YNc(1,di,2,0,"div",19),e.YNc(2,mi,2,1,"div",19),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.payrollItemForm.controls.card_number.errors?null:t.payrollItemForm.controls.card_number.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.payrollItemForm.controls.card_number.errors?null:t.payrollItemForm.controls.card_number.errors.serverError)}}function pi(a,o){1&a&&(e.ynx(0),e.TgZ(1,"div",32)(2,"button",33),e._UZ(3,"i",34),e._uU(4," \u0625\u0636\u0627\u0641\u0629 \u0637\u0644\u0628 \u0627\u0644\u0631\u0648\u0627\u062a\u0628 "),e.qZA()(),e.BQk())}function hi(a,o){if(1&a){const t=e.EpF();e.TgZ(0,"div",32)(1,"button",35),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.updatePayrollItem())}),e._uU(2," \u062a\u0639\u062f\u064a\u0644 \u0637\u0644\u0628 \u0627\u0644\u0631\u0648\u0627\u062a\u0628 "),e.qZA()()}if(2&a){const t=e.oxw();e.xp6(1),e.Q6J("disabled",!t.payrollItemForm.valid)}}const gi=function(a){return[a]};let Ee=(()=>{class a{constructor(t,n,r,i,l,c,d,h){this.localize=t,this.router=n,this.activatedRoute=r,this.medicalInsuranceService=i,this._MessagesService=l,this.employeesService=c,this.payrollItemsService=d,this.dashboardService=h,this.countries=[],this.cities=[],this.departments=[],this.currencies=[],this.isEditMode=!1,this.payrollItemId="",this.employees=[],this.payrollItems=[],this.statusOptions=[{id:"acceptable",name:"acceptable"},{id:"rejected",name:"rejected"}],this.errorMessage="",this.payrollItemForm=new s.cw({medical_insurance_id:new s.NI("",s.kI.required),employee_id:new s.NI("",s.kI.required),start_date:new s.NI("",s.kI.required),end_date:new s.NI("",s.kI.required),card_number:new s.NI("",s.kI.required)})}ngOnInit(){this.getEmployees(),this.getPayrollItems(),this.activatedRoute.paramMap.subscribe(t=>{const n=t.get("id");n&&(this.payrollItemId=n,this.isEditMode=!0,this.payrollItemsService.getPayrollById(n).subscribe(r=>{r&&r.data&&this.setFormValues(r.data)}))})}getEmployees(){this.employeesService.GetEmployeesList().subscribe({next:t=>{t&&t.data&&(this.employees=t.data)},error:t=>{console.error(t)}})}getPayrollItems(){this.payrollItemsService.getAllPayrolls().subscribe({next:t=>{t&&t.data&&(this.payrollItems=t.data,console.log(this.payrollItems))},error:t=>{console.error(t)}})}setFormValues(t){this.payrollItemForm.patchValue({medical_insurance_id:t.id,employee_id:t.employee.id,start_date:t.start_date,end_date:t.end_date,card_number:t.card_number})}updatePayrollItem(){if(this.payrollItemForm.valid){const t={...this.payrollItemForm.value,_method:"PATCH"};this.payrollItemsService.updatePayroll(this.payrollItemId,t).subscribe({next:n=>{this.navigateToPayrollItemsList(),this._MessagesService.showSuccessMessage("\u062a\u0645 \u0627\u0644\u062a\u062d\u062f\u064a\u062b",3e3)},error:n=>{n.error&&n.error.errors?this.handleValidationErrors(n.error.errors):console.error("Failed to update payroll item:",n)}})}else this.payrollItemForm.markAllAsTouched()}onSubmit(){if(this.payrollItemForm.valid){const t={...this.payrollItemForm.value};this.payrollItemsService.createPayroll(t).subscribe({next:n=>{this.navigateToPayrollItemsList(),this._MessagesService.showSuccessMessage("\u062a\u0645 \u0627\u0644\u0625\u0636\u0627\u0641\u0629",3e3)},error:n=>{n.error&&n.error.errors?this.handleValidationErrors(n.error.errors):(this.errorMessage="Failed to add payroll item. Please try again.",console.error("Failed to add payroll item:",n))}})}else this.payrollItemForm.markAllAsTouched()}handleValidationErrors(t){for(const n in t)if(t.hasOwnProperty(n)){const r=this.payrollItemForm.get(n);r&&r.setErrors({serverError:t[n]})}}navigateToPayrollItemsList(){const t=this.localize.translateRoute("/dashboard/employees/payroll-items");this.router.navigate([t])}static#e=this.\u0275fac=function(n){return new(n||a)(e.Y36(p.An),e.Y36(u.F0),e.Y36(u.gz),e.Y36(z),e.Y36(M.K),e.Y36(y.M),e.Y36(_e),e.Y36(w.K))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-create-payroll-item"]],standalone:!0,features:[e.jDz],decls:52,vars:17,consts:[[1,"container-fluid","py-5","px-1"],[1,"row","title-top","mb-3"],[1,"col-12","mb-3"],[1,"fw-bold","fs-2"],[1,"col-sm-6"],[1,"col-sm-6","text-end","back"],[1,"text-decoration-none",3,"routerLink"],[1,"fa-solid","fa-chevron-left","ms-2"],[1,"row","add-row"],[1,"col-12"],[1,"card","rounded-4"],[1,"card-body"],[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"form-group","col-md-6","mb-3"],["for","payroll_item_id",1,"form-label"],["name","payroll_item_id","id","medical_insurance_id","formControlName","medical_insurance_id",1,"form-select","form-select-lg"],[3,"value",4,"ngFor","ngForOf"],["class","ms-error",4,"ngIf"],["for","employee_id",1,"form-label"],["name","employee_id","id","employee_id","formControlName","employee_id",1,"form-select","form-select-lg"],["for","start_date",1,"form-label"],["formControlName","start_date","type","date","name","start_date","id","start_date",1,"form-control","form-control-lg"],["for","end_date",1,"form-label"],["formControlName","end_date","type","date","name","end_date","id","end_date",1,"form-control","form-control-lg"],["for","insurance_number",1,"form-label"],["formControlName","card_number","type","number","name","card_number","id","card_number",1,"form-control","form-control-lg"],[4,"ngIf","ngIfElse"],["editButton",""],[3,"value"],[1,"ms-error"],[1,"form-group","col-md-12","mb-3"],["type","submit",1,"btn","px-5","py-3"],[1,"fa-solid","fa-circle-plus","me-2"],["type","button",1,"btn","px-5","py-3",3,"disabled","click"]],template:function(n,r){if(1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._UZ(4,"app-breadcrumb"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0637\u0644\u0628\u0627\u062a \u0627\u0644\u0631\u0648\u0627\u062a\u0628"),e.qZA()(),e.TgZ(7,"div",4),e._UZ(8,"app-breadcrumb"),e.qZA(),e.TgZ(9,"div",5)(10,"a",6),e.ALo(11,"localize"),e._uU(12,"\u0631\u062c\u0648\u0639 "),e._UZ(13,"i",7),e.qZA()()(),e.TgZ(14,"div",8)(15,"div",9)(16,"div",10)(17,"div",11),e.YNc(18,Hr,2,0,"h5",12),e.YNc(19,Gr,2,0,"h5",12),e.TgZ(20,"form",13),e.NdJ("ngSubmit",function(){return r.onSubmit()}),e.TgZ(21,"div",14)(22,"div",15)(23,"label",16),e._uU(24,"\u0646\u0648\u0639 \u0627\u0644\u062a\u0623\u0645\u064a\u0646 \u0627\u0644\u0635\u062d\u064a"),e.qZA(),e.TgZ(25,"select",17),e.YNc(26,Kr,2,2,"option",18),e.qZA(),e.YNc(27,ei,3,2,"div",19),e.qZA(),e.TgZ(28,"div",15)(29,"label",20),e._uU(30,"\u0627\u0644\u0645\u0648\u0638\u0641"),e.qZA(),e.TgZ(31,"select",21),e.YNc(32,ti,2,3,"option",18),e.qZA(),e.YNc(33,ri,3,2,"div",19),e.qZA(),e.TgZ(34,"div",15)(35,"label",22),e._uU(36,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0628\u062f\u0621"),e.qZA(),e._UZ(37,"input",23),e.YNc(38,si,3,2,"div",19),e.qZA(),e.TgZ(39,"div",15)(40,"label",24),e._uU(41,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0646\u062a\u0647\u0627\u0621"),e.qZA(),e._UZ(42,"input",25),e.YNc(43,ui,3,2,"div",19),e.qZA(),e.TgZ(44,"div",15)(45,"label",26),e._uU(46,"\u0631\u0642\u0645 \u0627\u0644\u062a\u0623\u0645\u064a\u0646"),e.qZA(),e._UZ(47,"input",27),e.YNc(48,_i,3,2,"div",19),e.qZA(),e.YNc(49,pi,5,0,"ng-container",28),e.YNc(50,hi,3,1,"ng-template",null,29,e.W1O),e.qZA()()()()()()()),2&n){const i=e.MAs(51);e.xp6(10),e.Q6J("routerLink",e.VKq(15,gi,e.lcZ(11,13,"/dashboard/employees/payroll-items"))),e.xp6(8),e.Q6J("ngIf",!r.isEditMode),e.xp6(1),e.Q6J("ngIf",r.isEditMode),e.xp6(1),e.Q6J("formGroup",r.payrollItemForm),e.xp6(6),e.Q6J("ngForOf",r.payrollItems),e.xp6(1),e.Q6J("ngIf",r.payrollItemForm.controls.medical_insurance_id.invalid&&(r.payrollItemForm.controls.medical_insurance_id.dirty||r.payrollItemForm.controls.medical_insurance_id.touched)),e.xp6(5),e.Q6J("ngForOf",r.employees),e.xp6(1),e.Q6J("ngIf",r.payrollItemForm.controls.employee_id.invalid&&(r.payrollItemForm.controls.employee_id.dirty||r.payrollItemForm.controls.employee_id.touched)),e.xp6(5),e.Q6J("ngIf",r.payrollItemForm.controls.start_date.invalid&&(r.payrollItemForm.controls.start_date.dirty||r.payrollItemForm.controls.start_date.touched)),e.xp6(5),e.Q6J("ngIf",r.payrollItemForm.controls.end_date.invalid&&(r.payrollItemForm.controls.end_date.dirty||r.payrollItemForm.controls.end_date.touched)),e.xp6(5),e.Q6J("ngIf",r.payrollItemForm.controls.card_number.invalid&&(r.payrollItemForm.controls.card_number.dirty||r.payrollItemForm.controls.card_number.touched)),e.xp6(1),e.Q6J("ngIf",!r.isEditMode)("ngIfElse",i)}},dependencies:[_.ez,_.sg,_.O5,C.L,u.rH,p.fQ,p.lO,s.UX,s._Y,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.JL,s.sg,s.u,q.lN,k.c,Y,A.XK,S.ot,V,O]})}return a})();function vi(a,o){1&a&&(e.TgZ(0,"h5"),e._uU(1,"\u0625\u0636\u0627\u0641\u0629 \u0637\u0644\u0628 \u0631\u0648\u0627\u062a\u0628"),e.qZA())}function fi(a,o){1&a&&(e.TgZ(0,"h5"),e._uU(1,"\u062a\u0639\u062f\u064a\u0644 \u0637\u0644\u0628 \u0631\u0648\u0627\u062a\u0628"),e.qZA())}function yi(a,o){if(1&a&&(e.TgZ(0,"option",28),e._uU(1),e.qZA()),2&a){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.id," ")}}function bi(a,o){1&a&&(e.TgZ(0,"div",29),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Ci(a,o){if(1&a&&(e.TgZ(0,"div",29),e._uU(1),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.payrollItemForm.controls.medical_insurance_id.errors?null:t.payrollItemForm.controls.medical_insurance_id.errors.serverError[0]," ")}}function Ai(a,o){if(1&a&&(e.TgZ(0,"div",29),e.YNc(1,bi,2,0,"div",19),e.YNc(2,Ci,2,1,"div",19),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.payrollItemForm.controls.medical_insurance_id.errors?null:t.payrollItemForm.controls.medical_insurance_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.payrollItemForm.controls.medical_insurance_id.errors?null:t.payrollItemForm.controls.medical_insurance_id.errors.serverError)}}function Ii(a,o){if(1&a&&(e.TgZ(0,"option",28),e._uU(1),e.qZA()),2&a){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.AsE(" ",t.first_name," ",t.last_name," ")}}function xi(a,o){1&a&&(e.TgZ(0,"div",29),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Di(a,o){if(1&a&&(e.TgZ(0,"div",29),e._uU(1),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.payrollItemForm.controls.employee_id.errors?null:t.payrollItemForm.controls.employee_id.errors.serverError[0]," ")}}function Mi(a,o){if(1&a&&(e.TgZ(0,"div",29),e.YNc(1,xi,2,0,"div",19),e.YNc(2,Di,2,1,"div",19),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.payrollItemForm.controls.employee_id.errors?null:t.payrollItemForm.controls.employee_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.payrollItemForm.controls.employee_id.errors?null:t.payrollItemForm.controls.employee_id.errors.serverError)}}function wi(a,o){1&a&&(e.TgZ(0,"div",29),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Ti(a,o){if(1&a&&(e.TgZ(0,"div",29),e._uU(1),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.payrollItemForm.controls.start_date.errors?null:t.payrollItemForm.controls.start_date.errors.serverError[0]," ")}}function Fi(a,o){if(1&a&&(e.TgZ(0,"div",29),e.YNc(1,wi,2,0,"div",19),e.YNc(2,Ti,2,1,"div",19),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.payrollItemForm.controls.start_date.errors?null:t.payrollItemForm.controls.start_date.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.payrollItemForm.controls.start_date.errors?null:t.payrollItemForm.controls.start_date.errors.serverError)}}function Zi(a,o){1&a&&(e.TgZ(0,"div",29),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Ei(a,o){if(1&a&&(e.TgZ(0,"div",29),e._uU(1),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.payrollItemForm.controls.end_date.errors?null:t.payrollItemForm.controls.end_date.errors.serverError[0]," ")}}function Ri(a,o){if(1&a&&(e.TgZ(0,"div",29),e.YNc(1,Zi,2,0,"div",19),e.YNc(2,Ei,2,1,"div",19),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.payrollItemForm.controls.end_date.errors?null:t.payrollItemForm.controls.end_date.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.payrollItemForm.controls.end_date.errors?null:t.payrollItemForm.controls.end_date.errors.serverError)}}function qi(a,o){1&a&&(e.TgZ(0,"div",29),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function ki(a,o){if(1&a&&(e.TgZ(0,"div",29),e._uU(1),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.payrollItemForm.controls.card_number.errors?null:t.payrollItemForm.controls.card_number.errors.serverError[0]," ")}}function Si(a,o){if(1&a&&(e.TgZ(0,"div",29),e.YNc(1,qi,2,0,"div",19),e.YNc(2,ki,2,1,"div",19),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.payrollItemForm.controls.card_number.errors?null:t.payrollItemForm.controls.card_number.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.payrollItemForm.controls.card_number.errors?null:t.payrollItemForm.controls.card_number.errors.serverError)}}const Ni=function(a){return[a]},Pi=[{path:"",component:gt,children:[{path:"",component:H,data:{breadcrumbs:[{label:"\u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646",url:"/dashboard/employees"}]}},{path:"add-employee",component:he,data:{breadcrumbs:[{label:" \u0625\u0636\u0627\u0641\u0629 \u0645\u0648\u0638\u0641",url:"/dashboard/employees/add-employee"}]}},{path:"add-employee/:id",component:he,data:{breadcrumbs:[{label:"\u062a\u0639\u062f\u064a\u0644 \u0645\u0648\u0638\u0641",url:"/dashboard/employees/add-employee"}]}},{path:"view-employee/:id",component:Ct,data:{breadcrumbs:[{label:" \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0648\u0638\u0641",url:"/dashboard/employees/view-employee"}]}},{path:"leave-requests",component:Dt,data:{breadcrumbs:[{label:"\u0627\u0644\u0623\u0630\u0648\u0646\u0627\u062a",url:"/dashboard/employees/leave-requests"}]}},{path:"add-leave-req/:id",component:Te,data:{breadcrumbs:[{label:" \u0627\u0644\u0623\u0630\u0648\u0646\u0627\u062a",url:"/dashboard/employees/leave-requests"}]}},{path:"add-leave-req",component:Te,data:{breadcrumbs:[{label:" \u0627\u0644\u0623\u0630\u0648\u0646\u0627\u062a",url:"/dashboard/employees/leave-requests"}]}},{path:"show-leave-req/:id",component:sn,data:{breadcrumbs:[{label:" \u0627\u0644\u0623\u0630\u0648\u0646\u0627\u062a",url:"/dashboard/employees/leave-requests"}]}},{path:"medical-list",component:mn,data:{breadcrumbs:[{label:" \u0627\u0644\u062a\u0623\u0645\u064a\u0646\u0627\u062a \u0627\u0644\u0635\u062d\u064a\u0629",url:"/dashboard/employees/medical-list"}]}},{path:"create-medical-record",component:Fe,data:{breadcrumbs:[{label:" \u0627\u0644\u062a\u0623\u0645\u064a\u0646\u0627\u062a \u0627\u0644\u0635\u062d\u064a\u0629",url:"/dashboard/employees/create-medical-record"}]}},{path:"create-medical-record/:id",component:Fe,data:{breadcrumbs:[{label:" \u0627\u0644\u062a\u0623\u0645\u064a\u0646\u0627\u062a \u0627\u0644\u0635\u062d\u064a\u0629",url:"/dashboard/employees/create-medical-record"}]}},{path:"view-medical-record/:id",component:Xn,data:{breadcrumbs:[{label:" \u0627\u0644\u062a\u0623\u0645\u064a\u0646\u0627\u062a \u0627\u0644\u0635\u062d\u064a\u0629",url:"/dashboard/employees/create-medical-record"}]}},{path:"social-insurances",component:nr,data:{breadcrumbs:[{label:" \u0627\u0644\u062a\u0623\u0645\u064a\u0646\u0627\u062a \u0627\u0644\u0625\u062c\u062a\u0645\u0627\u0639\u064a\u0629",url:"/dashboard/employees/social-insurances"}]}},{path:"add-insurances",component:Ze,data:{breadcrumbs:[{label:" \u0627\u0644\u062a\u0623\u0645\u064a\u0646\u0627\u062a \u0627\u0644\u0625\u062c\u062a\u0645\u0627\u0639\u064a\u0629",url:"/dashboard/employees/social-insurances"}]}},{path:"add-insurances/:id",component:Ze,data:{breadcrumbs:[{label:" \u0627\u0644\u062a\u0623\u0645\u064a\u0646\u0627\u062a \u0627\u0644\u0625\u062c\u062a\u0645\u0627\u0639\u064a\u0629",url:"/dashboard/employees/social-insurances"}]}},{path:"show-insurances/:id",component:Qr,data:{breadcrumbs:[{label:" \u0627\u0644\u062a\u0623\u0645\u064a\u0646\u0627\u062a \u0627\u0644\u0625\u062c\u062a\u0645\u0627\u0639\u064a\u0629",url:"/dashboard/employees/social-insurances"}]}},{path:"payroll-items",component:zr,data:{breadcrumbs:[{label:" \u0627\u0644\u0631\u0648\u0627\u062a\u0628",url:"/dashboard/employees/payroll-items"}]}},{path:"add-payroll-item",component:Ee,data:{breadcrumbs:[{label:" \u0627\u0644\u0631\u0648\u0627\u062a\u0628",url:"/dashboard/employees/payroll-items"}]}},{path:"add-payroll-item/:id",component:Ee,data:{breadcrumbs:[{label:" \u0627\u0644\u0631\u0648\u0627\u062a\u0628",url:"/dashboard/employees/payroll-items"}]}},{path:"show-payroll-item/:id",component:(()=>{class a{constructor(t,n,r,i,l,c,d,h){this.localize=t,this.router=n,this.activatedRoute=r,this.medicalInsuranceService=i,this._MessagesService=l,this.employeesService=c,this.payrollItemsService=d,this.dashboardService=h,this.countries=[],this.cities=[],this.departments=[],this.currencies=[],this.isEditMode=!1,this.payrollItemId="",this.employees=[],this.payrollItems=[],this.statusOptions=[{id:"acceptable",name:"acceptable"},{id:"rejected",name:"rejected"}],this.errorMessage="",this.payrollItemForm=new s.cw({medical_insurance_id:new s.NI("",s.kI.required),employee_id:new s.NI("",s.kI.required),start_date:new s.NI("",s.kI.required),end_date:new s.NI("",s.kI.required),card_number:new s.NI("",s.kI.required)})}ngOnInit(){this.getEmployees(),this.getPayrollItems(),this.activatedRoute.paramMap.subscribe(t=>{const n=t.get("id");n&&(this.payrollItemId=n,this.isEditMode=!0,this.payrollItemsService.getPayrollById(n).subscribe(r=>{r&&r.data&&this.setFormValues(r.data)}))})}getEmployees(){this.employeesService.GetEmployeesList().subscribe({next:t=>{t&&t.data&&(this.employees=t.data)},error:t=>{console.error(t)}})}getPayrollItems(){this.payrollItemsService.getAllPayrolls().subscribe({next:t=>{t&&t.data&&(this.payrollItems=t.data,console.log(this.payrollItems))},error:t=>{console.error(t)}})}setFormValues(t){this.payrollItemForm.patchValue({medical_insurance_id:t.id,employee_id:t.employee.id,start_date:t.start_date,end_date:t.end_date,card_number:t.card_number})}navigateToPayrollItemsList(){const t=this.localize.translateRoute("/dashboard/employees/payroll-items");this.router.navigate([t])}static#e=this.\u0275fac=function(n){return new(n||a)(e.Y36(p.An),e.Y36(u.F0),e.Y36(u.gz),e.Y36(z),e.Y36(M.K),e.Y36(y.M),e.Y36(_e),e.Y36(w.K))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-show-payroll"]],standalone:!0,features:[e.jDz],decls:49,vars:15,consts:[[1,"container-fluid","py-5","px-1"],[1,"row","title-top","mb-3"],[1,"col-12","mb-3"],[1,"fw-bold","fs-2"],[1,"col-sm-6"],[1,"col-sm-6","text-end","back"],[1,"text-decoration-none",3,"routerLink"],[1,"fa-solid","fa-chevron-left","ms-2"],[1,"row","add-row"],[1,"col-12"],[1,"card","rounded-4"],[1,"card-body"],[4,"ngIf"],[3,"formGroup"],[1,"row"],[1,"form-group","col-md-6","mb-3"],["for","payroll_item_id",1,"form-label"],["name","payroll_item_id","id","medical_insurance_id","formControlName","medical_insurance_id",1,"form-select","form-select-lg","readonly-select"],[3,"value",4,"ngFor","ngForOf"],["class","ms-error",4,"ngIf"],["for","employee_id",1,"form-label"],["name","employee_id","id","employee_id","formControlName","employee_id",1,"form-select","form-select-lg","readonly-select"],["for","start_date",1,"form-label"],["formControlName","start_date","type","date","name","start_date","id","start_date","readonly","",1,"form-control","form-control-lg"],["for","end_date",1,"form-label"],["formControlName","end_date","type","date","name","end_date","id","end_date","readonly","",1,"form-control","form-control-lg"],["for","insurance_number",1,"form-label"],["formControlName","card_number","type","number","name","card_number","id","card_number","readonly","",1,"form-control","form-control-lg"],[3,"value"],[1,"ms-error"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._UZ(4,"app-breadcrumb"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0637\u0644\u0628\u0627\u062a \u0627\u0644\u0631\u0648\u0627\u062a\u0628"),e.qZA()(),e.TgZ(7,"div",4),e._UZ(8,"app-breadcrumb"),e.qZA(),e.TgZ(9,"div",5)(10,"a",6),e.ALo(11,"localize"),e._uU(12,"\u0631\u062c\u0648\u0639 "),e._UZ(13,"i",7),e.qZA()()(),e.TgZ(14,"div",8)(15,"div",9)(16,"div",10)(17,"div",11),e.YNc(18,vi,2,0,"h5",12),e.YNc(19,fi,2,0,"h5",12),e.TgZ(20,"form",13)(21,"div",14)(22,"div",15)(23,"label",16),e._uU(24,"\u0646\u0648\u0639 \u0627\u0644\u062a\u0623\u0645\u064a\u0646 \u0627\u0644\u0635\u062d\u064a"),e.qZA(),e.TgZ(25,"select",17),e.YNc(26,yi,2,2,"option",18),e.qZA(),e.YNc(27,Ai,3,2,"div",19),e.qZA(),e.TgZ(28,"div",15)(29,"label",20),e._uU(30,"\u0627\u0644\u0645\u0648\u0638\u0641"),e.qZA(),e.TgZ(31,"select",21),e.YNc(32,Ii,2,3,"option",18),e.qZA(),e.YNc(33,Mi,3,2,"div",19),e.qZA(),e.TgZ(34,"div",15)(35,"label",22),e._uU(36,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0628\u062f\u0621"),e.qZA(),e._UZ(37,"input",23),e.YNc(38,Fi,3,2,"div",19),e.qZA(),e.TgZ(39,"div",15)(40,"label",24),e._uU(41,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0646\u062a\u0647\u0627\u0621"),e.qZA(),e._UZ(42,"input",25),e.YNc(43,Ri,3,2,"div",19),e.qZA(),e.TgZ(44,"div",15)(45,"label",26),e._uU(46,"\u0631\u0642\u0645 \u0627\u0644\u062a\u0623\u0645\u064a\u0646"),e.qZA(),e._UZ(47,"input",27),e.YNc(48,Si,3,2,"div",19),e.qZA()()()()()()()()),2&n&&(e.xp6(10),e.Q6J("routerLink",e.VKq(13,Ni,e.lcZ(11,11,"/dashboard/employees/payroll-items"))),e.xp6(8),e.Q6J("ngIf",!r.isEditMode),e.xp6(1),e.Q6J("ngIf",r.isEditMode),e.xp6(1),e.Q6J("formGroup",r.payrollItemForm),e.xp6(6),e.Q6J("ngForOf",r.payrollItems),e.xp6(1),e.Q6J("ngIf",r.payrollItemForm.controls.medical_insurance_id.invalid&&(r.payrollItemForm.controls.medical_insurance_id.dirty||r.payrollItemForm.controls.medical_insurance_id.touched)),e.xp6(5),e.Q6J("ngForOf",r.employees),e.xp6(1),e.Q6J("ngIf",r.payrollItemForm.controls.employee_id.invalid&&(r.payrollItemForm.controls.employee_id.dirty||r.payrollItemForm.controls.employee_id.touched)),e.xp6(5),e.Q6J("ngIf",r.payrollItemForm.controls.start_date.invalid&&(r.payrollItemForm.controls.start_date.dirty||r.payrollItemForm.controls.start_date.touched)),e.xp6(5),e.Q6J("ngIf",r.payrollItemForm.controls.end_date.invalid&&(r.payrollItemForm.controls.end_date.dirty||r.payrollItemForm.controls.end_date.touched)),e.xp6(5),e.Q6J("ngIf",r.payrollItemForm.controls.card_number.invalid&&(r.payrollItemForm.controls.card_number.dirty||r.payrollItemForm.controls.card_number.touched)))},dependencies:[_.ez,_.sg,_.O5,C.L,u.rH,p.fQ,p.lO,s.UX,s._Y,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.JL,s.sg,s.u,q.lN,k.c,Y,A.XK,S.ot,V,O],styles:[".readonly-select[_ngcontent-%COMP%]{background-color:#fff;pointer-events:none;opacity:1;appearance:none}"]})}return a})(),data:{breadcrumbs:[{label:" \u0627\u0644\u0631\u0648\u0627\u062a\u0628",url:"/dashboard/employees/payroll-items"}]}}]}]},8034:(pe,P,m)=>{m.d(P,{$:()=>T});var _=m(6814),u=m(7700),p=m(2296),v=m(5879),s=m(4286);let T=(()=>{class C{constructor(e,y,f){this.dialogRef=e,this.data=y,this._MessagesService=f}onConfirmClick(){this.dialogRef.close(!0)}onCancelClick(){this.dialogRef.close(!1)}static#e=this.\u0275fac=function(y){return new(y||C)(v.Y36(u.so),v.Y36(u.WI),v.Y36(s.K))};static#t=this.\u0275cmp=v.Xpm({type:C,selectors:[["app-confirm-dialog"]],standalone:!0,features:[v.jDz],decls:10,vars:2,consts:[[1,"text-center"],["mat-dialog-title","",1,"text-center"],[1,"m-auto"],["mat-button","",3,"click"],["mat-button","","olor","primary",2,"color","red",3,"click"]],template:function(y,f){1&y&&(v.TgZ(0,"div",0)(1,"h2",1),v._uU(2),v.qZA(),v.TgZ(3,"mat-dialog-content"),v._uU(4),v.qZA(),v.TgZ(5,"mat-dialog-actions",2)(6,"button",3),v.NdJ("click",function(){return f.onCancelClick()}),v._uU(7,"\u0627\u0644\u063a\u0627\u0621"),v.qZA(),v.TgZ(8,"button",4),v.NdJ("click",function(){return f.onConfirmClick()}),v._uU(9," \u062a\u0627\u0643\u064a\u062f "),v.qZA()()()),2&y&&(v.xp6(2),v.Oqu(f.data.title),v.xp6(2),v.Oqu(f.data.message))},dependencies:[_.ez,u.Is,u.uh,u.xY,u.H8,p.ot,p.lW],styles:["mat-dialog-content[_ngcontent-%COMP%]{font-size:16px;margin-bottom:20px}mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:center}mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}"]})}return C})()},4414:(pe,P,m)=>{m.d(P,{L:()=>y});var _=m(6814),u=m(846),p=m(8733),v=m(2181),s=m(5879);function T(f,F){1&f&&(s.TgZ(0,"li",6),s._uU(1,"/"),s.qZA())}function C(f,F){if(1&f&&(s.ynx(0),s.TgZ(1,"li",4)(2,"a",5),s.ALo(3,"localize"),s._uU(4),s.qZA()(),s.YNc(5,T,2,0,"li",3),s.BQk()),2&f){const D=F.$implicit,x=F.index,E=s.oxw().$implicit;s.xp6(2),s.Q6J("routerLink",s.lcZ(3,3,D.url)),s.xp6(2),s.Oqu(D.label),s.xp6(1),s.Q6J("ngIf",x<E.segments.length-1)}}function ne(f,F){1&f&&(s.TgZ(0,"li",6),s._uU(1,"/"),s.qZA())}function e(f,F){if(1&f&&(s.ynx(0),s.YNc(1,C,6,5,"ng-container",2),s.YNc(2,ne,2,0,"li",3),s.BQk()),2&f){const D=F.$implicit,x=F.index,E=s.oxw();s.xp6(1),s.Q6J("ngForOf",D.segments),s.xp6(1),s.Q6J("ngIf",x<E.breadcrumbs.length-1)}}let y=(()=>{class f{constructor(D,x){this.router=D,this.activatedRoute=x,this.breadcrumbs=[]}ngOnInit(){this.routerSubscription=this.router.events.pipe((0,v.h)(D=>D instanceof u.m2)).subscribe(()=>{this.breadcrumbs=this.createBreadcrumbs(this.activatedRoute.root)}),this.breadcrumbs=this.createBreadcrumbs(this.activatedRoute.root)}createBreadcrumbs(D,x="",E=[]){let H=[],M=D;for(;M.firstChild;){M=M.firstChild;const L=M.snapshot.url.map(B=>B.path).join("/");""!==L&&(x+=`/${L}`);const w=M.snapshot.data.breadcrumbs;if(w&&w!=H&&Array.isArray(w)&&""!==L){H=w;const B=w.map(G=>({label:G.label,url:G.url||x}));E.push({segments:B})}}return E}ngOnDestroy(){}static#e=this.\u0275fac=function(x){return new(x||f)(s.Y36(u.F0),s.Y36(u.gz))};static#t=this.\u0275cmp=s.Xpm({type:f,selectors:[["app-breadcrumb"]],standalone:!0,features:[s.jDz],decls:3,vars:1,consts:[["aria-label","breadcrumb"],[1,"breadcrumb","mb-0"],[4,"ngFor","ngForOf"],["class","separator",4,"ngIf"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"separator"]],template:function(x,E){1&x&&(s.TgZ(0,"nav",0)(1,"ol",1),s.YNc(2,e,3,2,"ng-container",2),s.qZA()()),2&x&&(s.xp6(2),s.Q6J("ngForOf",E.breadcrumbs))},dependencies:[_.ez,_.sg,_.O5,u.Bz,u.rH,p.fQ,p.lO],styles:['.ec-breadcrumb[_ngcontent-%COMP%]{padding:15px 0;margin-bottom:50px;background-color:#f7f7f7;border-top:1px solid #eeeeee;border-bottom:1px solid #eeeeee}.ec-breadcrumb[_ngcontent-%COMP%]   .ec-breadcrumb-title[_ngcontent-%COMP%]{text-decoration:none;color:#444;display:block;font-size:15px;font-family:Montserrat;line-height:22px;font-weight:700;margin:0 auto;text-transform:capitalize}.ec-breadcrumb-list[_ngcontent-%COMP%]{text-align:right}.ec-breadcrumb-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;font-size:14px;font-weight:300;letter-spacing:.02rem;line-height:1.2;text-transform:capitalize}.ec-breadcrumb-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative;color:#444}.ec-breadcrumb-list[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{color:#3474d4}.ec-breadcrumb-list[_ngcontent-%COMP%]   .ec-breadcrumb-item.active[_ngcontent-%COMP%]:before{color:#3474d4}.ec-breadcrumb-item[_ngcontent-%COMP%]{display:flex}.ec-breadcrumb-item[_ngcontent-%COMP%] + .ec-breadcrumb-item[_ngcontent-%COMP%]{padding-left:7px}.ec-breadcrumb-item[_ngcontent-%COMP%] + .ec-breadcrumb-item[_ngcontent-%COMP%]:before{display:inline-block;padding-right:7px;color:#444;content:"\\f101";font-family:EcIcons;font-size:15px}a[_ngcontent-%COMP%]{color:#fff;text-decoration:none}.separator[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--dark-one)}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]:last-child   a[_ngcontent-%COMP%]{color:var(--second-color);font-weight:700}']})}return f})()}}]);